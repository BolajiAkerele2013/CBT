function Qf(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Gf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var qu={exports:{}},Fi={},Vu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ns=Symbol.for("react.element"),Jf=Symbol.for("react.portal"),Yf=Symbol.for("react.fragment"),Xf=Symbol.for("react.strict_mode"),Zf=Symbol.for("react.profiler"),em=Symbol.for("react.provider"),tm=Symbol.for("react.context"),rm=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),sm=Symbol.for("react.memo"),im=Symbol.for("react.lazy"),sc=Symbol.iterator;function am(e){return e===null||typeof e!="object"?null:(e=sc&&e[sc]||e["@@iterator"],typeof e=="function"?e:null)}var Wu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Hu=Object.assign,Qu={};function xn(e,t,r){this.props=e,this.context=t,this.refs=Qu,this.updater=r||Wu}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ku(){}Ku.prototype=xn.prototype;function Yl(e,t,r){this.props=e,this.context=t,this.refs=Qu,this.updater=r||Wu}var Xl=Yl.prototype=new Ku;Xl.constructor=Yl;Hu(Xl,xn.prototype);Xl.isPureReactComponent=!0;var ic=Array.isArray,Gu=Object.prototype.hasOwnProperty,Zl={current:null},Ju={key:!0,ref:!0,__self:!0,__source:!0};function Yu(e,t,r){var n,s={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)Gu.call(t,n)&&!Ju.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var o=Array(c),u=0;u<c;u++)o[u]=arguments[u+2];s.children=o}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:Ns,type:e,key:a,ref:l,props:s,_owner:Zl.current}}function lm(e,t){return{$$typeof:Ns,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eo(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ns}function om(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ac=/\/+/g;function fa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?om(""+e.key):t.toString(36)}function ei(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Ns:case Jf:l=!0}}if(l)return l=e,s=s(l),e=n===""?"."+fa(l,0):n,ic(s)?(r="",e!=null&&(r=e.replace(ac,"$&/")+"/"),ei(s,t,r,"",function(u){return u})):s!=null&&(eo(s)&&(s=lm(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(ac,"$&/")+"/")+e)),t.push(s)),1;if(l=0,n=n===""?".":n+":",ic(e))for(var c=0;c<e.length;c++){a=e[c];var o=n+fa(a,c);l+=ei(a,t,r,o,s)}else if(o=am(e),typeof o=="function")for(e=o.call(e),c=0;!(a=e.next()).done;)a=a.value,o=n+fa(a,c++),l+=ei(a,t,r,o,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Rs(e,t,r){if(e==null)return e;var n=[],s=0;return ei(e,n,"","",function(a){return t.call(r,a,s++)}),n}function cm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},ti={transition:null},um={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:ti,ReactCurrentOwner:Zl};function Xu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Rs,forEach:function(e,t,r){Rs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Rs(e,function(){t++}),t},toArray:function(e){return Rs(e,function(t){return t})||[]},only:function(e){if(!eo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=xn;H.Fragment=Yf;H.Profiler=Zf;H.PureComponent=Yl;H.StrictMode=Xf;H.Suspense=nm;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=um;H.act=Xu;H.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Hu({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Zl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)Gu.call(t,o)&&!Ju.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){c=Array(o);for(var u=0;u<o;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:Ns,type:e.type,key:s,ref:a,props:n,_owner:l}};H.createContext=function(e){return e={$$typeof:tm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:em,_context:e},e.Consumer=e};H.createElement=Yu;H.createFactory=function(e){var t=Yu.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:rm,render:e}};H.isValidElement=eo;H.lazy=function(e){return{$$typeof:im,_payload:{_status:-1,_result:e},_init:cm}};H.memo=function(e,t){return{$$typeof:sm,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=ti.transition;ti.transition={};try{e()}finally{ti.transition=t}};H.unstable_act=Xu;H.useCallback=function(e,t){return $e.current.useCallback(e,t)};H.useContext=function(e){return $e.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};H.useEffect=function(e,t){return $e.current.useEffect(e,t)};H.useId=function(){return $e.current.useId()};H.useImperativeHandle=function(e,t,r){return $e.current.useImperativeHandle(e,t,r)};H.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return $e.current.useMemo(e,t)};H.useReducer=function(e,t,r){return $e.current.useReducer(e,t,r)};H.useRef=function(e){return $e.current.useRef(e)};H.useState=function(e){return $e.current.useState(e)};H.useSyncExternalStore=function(e,t,r){return $e.current.useSyncExternalStore(e,t,r)};H.useTransition=function(){return $e.current.useTransition()};H.version="18.3.1";Vu.exports=H;var j=Vu.exports;const Zu=Kf(j),dm=Qf({__proto__:null,default:Zu},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm=j,fm=Symbol.for("react.element"),mm=Symbol.for("react.fragment"),pm=Object.prototype.hasOwnProperty,xm=hm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ym={key:!0,ref:!0,__self:!0,__source:!0};function ed(e,t,r){var n,s={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)pm.call(t,n)&&!ym.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:fm,type:e,key:a,ref:l,props:s,_owner:xm.current}}Fi.Fragment=mm;Fi.jsx=ed;Fi.jsxs=ed;qu.exports=Fi;var i=qu.exports,Ha={},td={exports:{}},Xe={},rd={exports:{}},nd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,D){var $=b.length;b.push(D);e:for(;0<$;){var z=$-1>>>1,X=b[z];if(0<s(X,D))b[z]=D,b[$]=X,$=z;else break e}}function r(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var D=b[0],$=b.pop();if($!==D){b[0]=$;e:for(var z=0,X=b.length,Re=X>>>1;z<Re;){var Qe=2*(z+1)-1,kt=b[Qe],De=Qe+1,te=b[De];if(0>s(kt,$))De<X&&0>s(te,kt)?(b[z]=te,b[De]=$,z=De):(b[z]=kt,b[Qe]=$,z=Qe);else if(De<X&&0>s(te,$))b[z]=te,b[De]=$,z=De;else break e}}return D}function s(b,D){var $=b.sortIndex-D.sortIndex;return $!==0?$:b.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,h=null,f=3,x=!1,g=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(b){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=b)n(u),D.sortIndex=D.expirationTime,t(o,D);else break;D=r(u)}}function _(b){if(v=!1,p(b),!g)if(r(o)!==null)g=!0,Q(k);else{var D=r(u);D!==null&&ye(_,D.startTime-b)}}function k(b,D){g=!1,v&&(v=!1,y(A),A=-1),x=!0;var $=f;try{for(p(D),h=r(o);h!==null&&(!(h.expirationTime>D)||b&&!G());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var X=z(h.expirationTime<=D);D=e.unstable_now(),typeof X=="function"?h.callback=X:h===r(o)&&n(o),p(D)}else n(o);h=r(o)}if(h!==null)var Re=!0;else{var Qe=r(u);Qe!==null&&ye(_,Qe.startTime-D),Re=!1}return Re}finally{h=null,f=$,x=!1}}var C=!1,N=null,A=-1,O=5,S=-1;function G(){return!(e.unstable_now()-S<O)}function F(){if(N!==null){var b=e.unstable_now();S=b;var D=!0;try{D=N(!0,b)}finally{D?J():(C=!1,N=null)}}else C=!1}var J;if(typeof m=="function")J=function(){m(F)};else if(typeof MessageChannel<"u"){var Te=new MessageChannel,Y=Te.port2;Te.port1.onmessage=F,J=function(){Y.postMessage(null)}}else J=function(){w(F,0)};function Q(b){N=b,C||(C=!0,J())}function ye(b,D){A=w(function(){b(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){g||x||(g=!0,Q(k))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function(b){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var $=f;f=D;try{return b()}finally{f=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,D){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var $=f;f=b;try{return D()}finally{f=$}},e.unstable_scheduleCallback=function(b,D,$){var z=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,b){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,b={id:d++,callback:D,priorityLevel:b,startTime:$,expirationTime:X,sortIndex:-1},$>z?(b.sortIndex=$,t(u,b),r(o)===null&&b===r(u)&&(v?(y(A),A=-1):v=!0,ye(_,$-z))):(b.sortIndex=X,t(o,b),g||x||(g=!0,Q(k))),b},e.unstable_shouldYield=G,e.unstable_wrapCallback=function(b){var D=f;return function(){var $=f;f=D;try{return b.apply(this,arguments)}finally{f=$}}}})(nd);rd.exports=nd;var vm=rd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gm=j,Ye=vm;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sd=new Set,es={};function Pr(e,t){ln(e,t),ln(e+"Capture",t)}function ln(e,t){for(es[e]=t,e=0;e<t.length;e++)sd.add(t[e])}var Lt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,wm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lc={},oc={};function jm(e){return Qa.call(oc,e)?!0:Qa.call(lc,e)?!1:wm.test(e)?oc[e]=!0:(lc[e]=!0,!1)}function _m(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Nm(e,t,r,n){if(t===null||typeof t>"u"||_m(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,n,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;function ro(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,ro);ke[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,ro);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,ro);ke[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function no(e,t,r,n){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Nm(t,r,s,n)&&(r=null),n||s===null?jm(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Mt=gm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Os=Symbol.for("react.element"),zr=Symbol.for("react.portal"),Fr=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),Ka=Symbol.for("react.profiler"),id=Symbol.for("react.provider"),ad=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),Ga=Symbol.for("react.suspense"),Ja=Symbol.for("react.suspense_list"),ao=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),ld=Symbol.for("react.offscreen"),cc=Symbol.iterator;function Sn(e){return e===null||typeof e!="object"?null:(e=cc&&e[cc]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Object.assign,ma;function $n(e){if(ma===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ma=t&&t[1]||""}return`
`+ma+e}var pa=!1;function xa(e,t){if(!e||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),l=s.length-1,c=a.length-1;1<=l&&0<=c&&s[l]!==a[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==a[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==a[c]){var o=`
`+s[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?$n(e):""}function km(e){switch(e.tag){case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return $n("Suspense");case 19:return $n("SuspenseList");case 0:case 2:case 15:return e=xa(e.type,!1),e;case 11:return e=xa(e.type.render,!1),e;case 1:return e=xa(e.type,!0),e;default:return""}}function Ya(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fr:return"Fragment";case zr:return"Portal";case Ka:return"Profiler";case so:return"StrictMode";case Ga:return"Suspense";case Ja:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ad:return(e.displayName||"Context")+".Consumer";case id:return(e._context.displayName||"Context")+".Provider";case io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ao:return t=e.displayName||null,t!==null?t:Ya(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return Ya(e(t))}catch{}}return null}function bm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ya(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function od(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sm(e){var t=od(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function As(e){e._valueTracker||(e._valueTracker=Sm(e))}function cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=od(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xa(e,t){var r=t.checked;return ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function uc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ud(e,t){t=t.checked,t!=null&&no(e,"checked",t,!1)}function Za(e,t){ud(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?el(e,t.type,r):t.hasOwnProperty("defaultValue")&&el(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function el(e,t,r){(t!=="number"||hi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var In=Array.isArray;function Xr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function tl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(In(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function dd(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function fc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function hd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?hd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ls,fd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ts(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Fn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Em=["Webkit","ms","Moz","O"];Object.keys(Fn).forEach(function(e){Em.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Fn[t]=Fn[e]})});function md(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Fn.hasOwnProperty(e)&&Fn[e]?(""+t).trim():t+"px"}function pd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=md(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Cm=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nl(e,t){if(t){if(Cm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function sl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var il=null;function lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var al=null,Zr=null,en=null;function mc(e){if(e=Ss(e)){if(typeof al!="function")throw Error(R(280));var t=e.stateNode;t&&(t=Hi(t),al(e.stateNode,e.type,t))}}function xd(e){Zr?en?en.push(e):en=[e]:Zr=e}function yd(){if(Zr){var e=Zr,t=en;if(en=Zr=null,mc(e),t)for(e=0;e<t.length;e++)mc(t[e])}}function vd(e,t){return e(t)}function gd(){}var ya=!1;function wd(e,t,r){if(ya)return e(t,r);ya=!0;try{return vd(e,t,r)}finally{ya=!1,(Zr!==null||en!==null)&&(gd(),yd())}}function rs(e,t){var r=e.stateNode;if(r===null)return null;var n=Hi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var ll=!1;if(Lt)try{var En={};Object.defineProperty(En,"passive",{get:function(){ll=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{ll=!1}function Pm(e,t,r,n,s,a,l,c,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Bn=!1,fi=null,mi=!1,ol=null,Tm={onError:function(e){Bn=!0,fi=e}};function Rm(e,t,r,n,s,a,l,c,o){Bn=!1,fi=null,Pm.apply(Tm,arguments)}function Om(e,t,r,n,s,a,l,c,o){if(Rm.apply(this,arguments),Bn){if(Bn){var u=fi;Bn=!1,fi=null}else throw Error(R(198));mi||(mi=!0,ol=u)}}function Tr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pc(e){if(Tr(e)!==e)throw Error(R(188))}function Am(e){var t=e.alternate;if(!t){if(t=Tr(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return pc(s),e;if(a===n)return pc(s),t;a=a.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=a;else{for(var l=!1,c=s.child;c;){if(c===r){l=!0,r=s,n=a;break}if(c===n){l=!0,n=s,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,n=s;break}if(c===n){l=!0,n=a,r=s;break}c=c.sibling}if(!l)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function _d(e){return e=Am(e),e!==null?Nd(e):null}function Nd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Nd(e);if(t!==null)return t;e=e.sibling}return null}var kd=Ye.unstable_scheduleCallback,xc=Ye.unstable_cancelCallback,Lm=Ye.unstable_shouldYield,$m=Ye.unstable_requestPaint,he=Ye.unstable_now,Im=Ye.unstable_getCurrentPriorityLevel,oo=Ye.unstable_ImmediatePriority,bd=Ye.unstable_UserBlockingPriority,pi=Ye.unstable_NormalPriority,Um=Ye.unstable_LowPriority,Sd=Ye.unstable_IdlePriority,Bi=null,_t=null;function Dm(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Bi,e,void 0,(e.current.flags&128)===128)}catch{}}var mt=Math.clz32?Math.clz32:Fm,Mm=Math.log,zm=Math.LN2;function Fm(e){return e>>>=0,e===0?32:31-(Mm(e)/zm|0)|0}var $s=64,Is=4194304;function Un(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~s;c!==0?n=Un(c):(a&=l,a!==0&&(n=Un(a)))}else l=r&~s,l!==0?n=Un(l):a!==0&&(n=Un(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-mt(t),s=1<<r,n|=e[r],t&=~s;return n}function Bm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-mt(a),c=1<<l,o=s[l];o===-1?(!(c&r)||c&n)&&(s[l]=Bm(c,t)):o<=t&&(e.expiredLanes|=c),a&=~c}}function cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ed(){var e=$s;return $s<<=1,!($s&4194240)&&($s=64),e}function va(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ks(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-mt(t),e[t]=r}function Vm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-mt(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function co(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-mt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Z=0;function Cd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Pd,uo,Td,Rd,Od,ul=!1,Us=[],Xt=null,Zt=null,er=null,ns=new Map,ss=new Map,Ht=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yc(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":er=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function Cn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Ss(t),t!==null&&uo(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Hm(e,t,r,n,s){switch(t){case"focusin":return Xt=Cn(Xt,e,t,r,n,s),!0;case"dragenter":return Zt=Cn(Zt,e,t,r,n,s),!0;case"mouseover":return er=Cn(er,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ns.set(a,Cn(ns.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,ss.set(a,Cn(ss.get(a)||null,e,t,r,n,s)),!0}return!1}function Ad(e){var t=gr(e.target);if(t!==null){var r=Tr(t);if(r!==null){if(t=r.tag,t===13){if(t=jd(r),t!==null){e.blockedOn=t,Od(e.priority,function(){Td(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ri(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);il=n,r.target.dispatchEvent(n),il=null}else return t=Ss(r),t!==null&&uo(t),e.blockedOn=r,!1;t.shift()}return!0}function vc(e,t,r){ri(e)&&r.delete(t)}function Qm(){ul=!1,Xt!==null&&ri(Xt)&&(Xt=null),Zt!==null&&ri(Zt)&&(Zt=null),er!==null&&ri(er)&&(er=null),ns.forEach(vc),ss.forEach(vc)}function Pn(e,t){e.blockedOn===t&&(e.blockedOn=null,ul||(ul=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,Qm)))}function is(e){function t(s){return Pn(s,e)}if(0<Us.length){Pn(Us[0],e);for(var r=1;r<Us.length;r++){var n=Us[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xt!==null&&Pn(Xt,e),Zt!==null&&Pn(Zt,e),er!==null&&Pn(er,e),ns.forEach(t),ss.forEach(t),r=0;r<Ht.length;r++)n=Ht[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ht.length&&(r=Ht[0],r.blockedOn===null);)Ad(r),r.blockedOn===null&&Ht.shift()}var tn=Mt.ReactCurrentBatchConfig,yi=!0;function Km(e,t,r,n){var s=Z,a=tn.transition;tn.transition=null;try{Z=1,ho(e,t,r,n)}finally{Z=s,tn.transition=a}}function Gm(e,t,r,n){var s=Z,a=tn.transition;tn.transition=null;try{Z=4,ho(e,t,r,n)}finally{Z=s,tn.transition=a}}function ho(e,t,r,n){if(yi){var s=dl(e,t,r,n);if(s===null)Ca(e,t,n,vi,r),yc(e,n);else if(Hm(s,e,t,r,n))n.stopPropagation();else if(yc(e,n),t&4&&-1<Wm.indexOf(e)){for(;s!==null;){var a=Ss(s);if(a!==null&&Pd(a),a=dl(e,t,r,n),a===null&&Ca(e,t,n,vi,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Ca(e,t,n,null,r)}}var vi=null;function dl(e,t,r,n){if(vi=null,e=lo(n),e=gr(e),e!==null)if(t=Tr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=jd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vi=e,null}function Ld(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Im()){case oo:return 1;case bd:return 4;case pi:case Um:return 16;case Sd:return 536870912;default:return 16}default:return 16}}var Gt=null,fo=null,ni=null;function $d(){if(ni)return ni;var e,t=fo,r=t.length,n,s="value"in Gt?Gt.value:Gt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===s[a-n];n++);return ni=s.slice(e,1<n?1-n:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function gc(){return!1}function Ze(e){function t(r,n,s,a,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ds:gc,this.isPropagationStopped=gc,this}return ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Ze(yn),bs=ue({},yn,{view:0,detail:0}),Jm=Ze(bs),ga,wa,Tn,qi=ue({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tn&&(Tn&&e.type==="mousemove"?(ga=e.screenX-Tn.screenX,wa=e.screenY-Tn.screenY):wa=ga=0,Tn=e),ga)},movementY:function(e){return"movementY"in e?e.movementY:wa}}),wc=Ze(qi),Ym=ue({},qi,{dataTransfer:0}),Xm=Ze(Ym),Zm=ue({},bs,{relatedTarget:0}),ja=Ze(Zm),ep=ue({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),tp=Ze(ep),rp=ue({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),np=Ze(rp),sp=ue({},yn,{data:0}),jc=Ze(sp),ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ap={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lp[e])?!!t[e]:!1}function po(){return op}var cp=ue({},bs,{key:function(e){if(e.key){var t=ip[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ap[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:po,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),up=Ze(cp),dp=ue({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_c=Ze(dp),hp=ue({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:po}),fp=Ze(hp),mp=ue({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),pp=Ze(mp),xp=ue({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yp=Ze(xp),vp=[9,13,27,32],xo=Lt&&"CompositionEvent"in window,qn=null;Lt&&"documentMode"in document&&(qn=document.documentMode);var gp=Lt&&"TextEvent"in window&&!qn,Id=Lt&&(!xo||qn&&8<qn&&11>=qn),Nc=" ",kc=!1;function Ud(e,t){switch(e){case"keyup":return vp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Br=!1;function wp(e,t){switch(e){case"compositionend":return Dd(t);case"keypress":return t.which!==32?null:(kc=!0,Nc);case"textInput":return e=t.data,e===Nc&&kc?null:e;default:return null}}function jp(e,t){if(Br)return e==="compositionend"||!xo&&Ud(e,t)?(e=$d(),ni=fo=Gt=null,Br=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Id&&t.locale!=="ko"?null:t.data;default:return null}}var _p={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_p[e.type]:t==="textarea"}function Md(e,t,r,n){xd(n),t=gi(t,"onChange"),0<t.length&&(r=new mo("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vn=null,as=null;function Np(e){Jd(e,0)}function Vi(e){var t=Wr(e);if(cd(t))return e}function kp(e,t){if(e==="change")return t}var zd=!1;if(Lt){var _a;if(Lt){var Na="oninput"in document;if(!Na){var Sc=document.createElement("div");Sc.setAttribute("oninput","return;"),Na=typeof Sc.oninput=="function"}_a=Na}else _a=!1;zd=_a&&(!document.documentMode||9<document.documentMode)}function Ec(){Vn&&(Vn.detachEvent("onpropertychange",Fd),as=Vn=null)}function Fd(e){if(e.propertyName==="value"&&Vi(as)){var t=[];Md(t,as,e,lo(e)),wd(Np,t)}}function bp(e,t,r){e==="focusin"?(Ec(),Vn=t,as=r,Vn.attachEvent("onpropertychange",Fd)):e==="focusout"&&Ec()}function Sp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vi(as)}function Ep(e,t){if(e==="click")return Vi(t)}function Cp(e,t){if(e==="input"||e==="change")return Vi(t)}function Pp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xt=typeof Object.is=="function"?Object.is:Pp;function ls(e,t){if(xt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qa.call(t,s)||!xt(e[s],t[s]))return!1}return!0}function Cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pc(e,t){var r=Cc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cc(r)}}function Bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(){for(var e=window,t=hi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=hi(e.document)}return t}function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Tp(e){var t=qd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Bd(r.ownerDocument.documentElement,r)){if(n!==null&&yo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Pc(r,a);var l=Pc(r,n);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rp=Lt&&"documentMode"in document&&11>=document.documentMode,qr=null,hl=null,Wn=null,fl=!1;function Tc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;fl||qr==null||qr!==hi(n)||(n=qr,"selectionStart"in n&&yo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&ls(Wn,n)||(Wn=n,n=gi(hl,"onSelect"),0<n.length&&(t=new mo("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qr)))}function Ms(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Vr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},ka={},Vd={};Lt&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete Vr.animationend.animation,delete Vr.animationiteration.animation,delete Vr.animationstart.animation),"TransitionEvent"in window||delete Vr.transitionend.transition);function Wi(e){if(ka[e])return ka[e];if(!Vr[e])return e;var t=Vr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vd)return ka[e]=t[r];return e}var Wd=Wi("animationend"),Hd=Wi("animationiteration"),Qd=Wi("animationstart"),Kd=Wi("transitionend"),Gd=new Map,Rc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){Gd.set(e,t),Pr(t,[e])}for(var ba=0;ba<Rc.length;ba++){var Sa=Rc[ba],Op=Sa.toLowerCase(),Ap=Sa[0].toUpperCase()+Sa.slice(1);cr(Op,"on"+Ap)}cr(Wd,"onAnimationEnd");cr(Hd,"onAnimationIteration");cr(Qd,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(Kd,"onTransitionEnd");ln("onMouseEnter",["mouseout","mouseover"]);ln("onMouseLeave",["mouseout","mouseover"]);ln("onPointerEnter",["pointerout","pointerover"]);ln("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dn));function Oc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Om(n,t,void 0,e),e.currentTarget=null}function Jd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==a&&s.isPropagationStopped())break e;Oc(s,c,u),a=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==a&&s.isPropagationStopped())break e;Oc(s,c,u),a=o}}}if(mi)throw e=ol,mi=!1,ol=null,e}function se(e,t){var r=t[vl];r===void 0&&(r=t[vl]=new Set);var n=e+"__bubble";r.has(n)||(Yd(t,e,2,!1),r.add(n))}function Ea(e,t,r){var n=0;t&&(n|=4),Yd(r,e,n,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function os(e){if(!e[zs]){e[zs]=!0,sd.forEach(function(r){r!=="selectionchange"&&(Lp.has(r)||Ea(r,!1,e),Ea(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,Ea("selectionchange",!1,t))}}function Yd(e,t,r,n){switch(Ld(t)){case 1:var s=Km;break;case 4:s=Gm;break;default:s=ho}r=s.bind(null,t,r,e),s=void 0,!ll||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ca(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===s||o.nodeType===8&&o.parentNode===s))return;l=l.return}for(;c!==null;){if(l=gr(c),l===null)return;if(o=l.tag,o===5||o===6){n=a=l;continue e}c=c.parentNode}}n=n.return}wd(function(){var u=a,d=lo(r),h=[];e:{var f=Gd.get(e);if(f!==void 0){var x=mo,g=e;switch(e){case"keypress":if(si(r)===0)break e;case"keydown":case"keyup":x=up;break;case"focusin":g="focus",x=ja;break;case"focusout":g="blur",x=ja;break;case"beforeblur":case"afterblur":x=ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=wc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Xm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=fp;break;case Wd:case Hd:case Qd:x=tp;break;case Kd:x=pp;break;case"scroll":x=Jm;break;case"wheel":x=yp;break;case"copy":case"cut":case"paste":x=np;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=_c}var v=(t&4)!==0,w=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,p;m!==null;){p=m;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,y!==null&&(_=rs(m,y),_!=null&&v.push(cs(m,_,p)))),w)break;m=m.return}0<v.length&&(f=new x(f,g,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==il&&(g=r.relatedTarget||r.fromElement)&&(gr(g)||g[$t]))break e;if((x||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,x?(g=r.relatedTarget||r.toElement,x=u,g=g?gr(g):null,g!==null&&(w=Tr(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(x=null,g=u),x!==g)){if(v=wc,_="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=_c,_="onPointerLeave",y="onPointerEnter",m="pointer"),w=x==null?f:Wr(x),p=g==null?f:Wr(g),f=new v(_,m+"leave",x,r,d),f.target=w,f.relatedTarget=p,_=null,gr(d)===u&&(v=new v(y,m+"enter",g,r,d),v.target=p,v.relatedTarget=w,_=v),w=_,x&&g)t:{for(v=x,y=g,m=0,p=v;p;p=Lr(p))m++;for(p=0,_=y;_;_=Lr(_))p++;for(;0<m-p;)v=Lr(v),m--;for(;0<p-m;)y=Lr(y),p--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=Lr(v),y=Lr(y)}v=null}else v=null;x!==null&&Ac(h,f,x,v,!1),g!==null&&w!==null&&Ac(h,w,g,v,!0)}}e:{if(f=u?Wr(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var k=kp;else if(bc(f))if(zd)k=Cp;else{k=Sp;var C=bp}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Ep);if(k&&(k=k(e,u))){Md(h,k,r,d);break e}C&&C(e,f,u),e==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&el(f,"number",f.value)}switch(C=u?Wr(u):window,e){case"focusin":(bc(C)||C.contentEditable==="true")&&(qr=C,hl=u,Wn=null);break;case"focusout":Wn=hl=qr=null;break;case"mousedown":fl=!0;break;case"contextmenu":case"mouseup":case"dragend":fl=!1,Tc(h,r,d);break;case"selectionchange":if(Rp)break;case"keydown":case"keyup":Tc(h,r,d)}var N;if(xo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Br?Ud(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Id&&r.locale!=="ko"&&(Br||A!=="onCompositionStart"?A==="onCompositionEnd"&&Br&&(N=$d()):(Gt=d,fo="value"in Gt?Gt.value:Gt.textContent,Br=!0)),C=gi(u,A),0<C.length&&(A=new jc(A,e,null,r,d),h.push({event:A,listeners:C}),N?A.data=N:(N=Dd(r),N!==null&&(A.data=N)))),(N=gp?wp(e,r):jp(e,r))&&(u=gi(u,"onBeforeInput"),0<u.length&&(d=new jc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}Jd(h,t)})}function cs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=rs(e,r),a!=null&&n.unshift(cs(e,a,s)),a=rs(e,t),a!=null&&n.push(cs(e,a,s))),e=e.return}return n}function Lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ac(e,t,r,n,s){for(var a=t._reactName,l=[];r!==null&&r!==n;){var c=r,o=c.alternate,u=c.stateNode;if(o!==null&&o===n)break;c.tag===5&&u!==null&&(c=u,s?(o=rs(r,a),o!=null&&l.unshift(cs(r,o,c))):s||(o=rs(r,a),o!=null&&l.push(cs(r,o,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var $p=/\r\n?/g,Ip=/\u0000|\uFFFD/g;function Lc(e){return(typeof e=="string"?e:""+e).replace($p,`
`).replace(Ip,"")}function Fs(e,t,r){if(t=Lc(t),Lc(e)!==t&&r)throw Error(R(425))}function wi(){}var ml=null,pl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var yl=typeof setTimeout=="function"?setTimeout:void 0,Up=typeof clearTimeout=="function"?clearTimeout:void 0,$c=typeof Promise=="function"?Promise:void 0,Dp=typeof queueMicrotask=="function"?queueMicrotask:typeof $c<"u"?function(e){return $c.resolve(null).then(e).catch(Mp)}:yl;function Mp(e){setTimeout(function(){throw e})}function Pa(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),is(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);is(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ic(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),jt="__reactFiber$"+vn,us="__reactProps$"+vn,$t="__reactContainer$"+vn,vl="__reactEvents$"+vn,zp="__reactListeners$"+vn,Fp="__reactHandles$"+vn;function gr(e){var t=e[jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[$t]||r[jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Ic(e);e!==null;){if(r=e[jt])return r;e=Ic(e)}return t}e=r,r=e.parentNode}return null}function Ss(e){return e=e[jt]||e[$t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function Hi(e){return e[us]||null}var gl=[],Hr=-1;function ur(e){return{current:e}}function ie(e){0>Hr||(e.current=gl[Hr],gl[Hr]=null,Hr--)}function ne(e,t){Hr++,gl[Hr]=e.current,e.current=t}var or={},Pe=ur(or),qe=ur(!1),kr=or;function on(e,t){var r=e.type.contextTypes;if(!r)return or;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function ji(){ie(qe),ie(Pe)}function Uc(e,t,r){if(Pe.current!==or)throw Error(R(168));ne(Pe,t),ne(qe,r)}function Xd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(R(108,bm(e)||"Unknown",s));return ue({},r,n)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||or,kr=Pe.current,ne(Pe,e),ne(qe,qe.current),!0}function Dc(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=Xd(e,t,kr),n.__reactInternalMemoizedMergedChildContext=e,ie(qe),ie(Pe),ne(Pe,e)):ie(qe),ne(qe,r)}var Ct=null,Qi=!1,Ta=!1;function Zd(e){Ct===null?Ct=[e]:Ct.push(e)}function Bp(e){Qi=!0,Zd(e)}function dr(){if(!Ta&&Ct!==null){Ta=!0;var e=0,t=Z;try{var r=Ct;for(Z=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ct=null,Qi=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),kd(oo,dr),s}finally{Z=t,Ta=!1}}return null}var Qr=[],Kr=0,Ni=null,ki=0,tt=[],rt=0,br=null,Pt=1,Tt="";function pr(e,t){Qr[Kr++]=ki,Qr[Kr++]=Ni,Ni=e,ki=t}function eh(e,t,r){tt[rt++]=Pt,tt[rt++]=Tt,tt[rt++]=br,br=e;var n=Pt;e=Tt;var s=32-mt(n)-1;n&=~(1<<s),r+=1;var a=32-mt(t)+s;if(30<a){var l=s-s%5;a=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Pt=1<<32-mt(t)+s|r<<s|n,Tt=a+e}else Pt=1<<a|r<<s|n,Tt=e}function vo(e){e.return!==null&&(pr(e,1),eh(e,1,0))}function go(e){for(;e===Ni;)Ni=Qr[--Kr],Qr[Kr]=null,ki=Qr[--Kr],Qr[Kr]=null;for(;e===br;)br=tt[--rt],tt[rt]=null,Tt=tt[--rt],tt[rt]=null,Pt=tt[--rt],tt[rt]=null}var Je=null,Ge=null,ae=!1,ft=null;function th(e,t){var r=nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Je=e,Ge=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Je=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=br!==null?{id:Pt,overflow:Tt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Je=e,Ge=null,!0):!1;default:return!1}}function wl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function jl(e){if(ae){var t=Ge;if(t){var r=t;if(!Mc(e,t)){if(wl(e))throw Error(R(418));t=tr(r.nextSibling);var n=Je;t&&Mc(e,t)?th(n,r):(e.flags=e.flags&-4097|2,ae=!1,Je=e)}}else{if(wl(e))throw Error(R(418));e.flags=e.flags&-4097|2,ae=!1,Je=e}}}function zc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Je=e}function Bs(e){if(e!==Je)return!1;if(!ae)return zc(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Ge)){if(wl(e))throw rh(),Error(R(418));for(;t;)th(e,t),t=tr(t.nextSibling)}if(zc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ge=tr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Je?tr(e.stateNode.nextSibling):null;return!0}function rh(){for(var e=Ge;e;)e=tr(e.nextSibling)}function cn(){Ge=Je=null,ae=!1}function wo(e){ft===null?ft=[e]:ft.push(e)}var qp=Mt.ReactCurrentBatchConfig;function Rn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var c=s.refs;l===null?delete c[a]:c[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function qs(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fc(e){var t=e._init;return t(e._payload)}function nh(e){function t(y,m){if(e){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=ir(y,m),y.index=0,y.sibling=null,y}function a(y,m,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function l(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,m,p,_){return m===null||m.tag!==6?(m=Ua(p,y.mode,_),m.return=y,m):(m=s(m,p),m.return=y,m)}function o(y,m,p,_){var k=p.type;return k===Fr?d(y,m,p.props.children,_,p.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qt&&Fc(k)===m.type)?(_=s(m,p.props),_.ref=Rn(y,m,p),_.return=y,_):(_=di(p.type,p.key,p.props,null,y.mode,_),_.ref=Rn(y,m,p),_.return=y,_)}function u(y,m,p,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Da(p,y.mode,_),m.return=y,m):(m=s(m,p.children||[]),m.return=y,m)}function d(y,m,p,_,k){return m===null||m.tag!==7?(m=Nr(p,y.mode,_,k),m.return=y,m):(m=s(m,p),m.return=y,m)}function h(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ua(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Os:return p=di(m.type,m.key,m.props,null,y.mode,p),p.ref=Rn(y,null,m),p.return=y,p;case zr:return m=Da(m,y.mode,p),m.return=y,m;case qt:var _=m._init;return h(y,_(m._payload),p)}if(In(m)||Sn(m))return m=Nr(m,y.mode,p,null),m.return=y,m;qs(y,m)}return null}function f(y,m,p,_){var k=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return k!==null?null:c(y,m,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Os:return p.key===k?o(y,m,p,_):null;case zr:return p.key===k?u(y,m,p,_):null;case qt:return k=p._init,f(y,m,k(p._payload),_)}if(In(p)||Sn(p))return k!==null?null:d(y,m,p,_,null);qs(y,p)}return null}function x(y,m,p,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(p)||null,c(m,y,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Os:return y=y.get(_.key===null?p:_.key)||null,o(m,y,_,k);case zr:return y=y.get(_.key===null?p:_.key)||null,u(m,y,_,k);case qt:var C=_._init;return x(y,m,p,C(_._payload),k)}if(In(_)||Sn(_))return y=y.get(p)||null,d(m,y,_,k,null);qs(m,_)}return null}function g(y,m,p,_){for(var k=null,C=null,N=m,A=m=0,O=null;N!==null&&A<p.length;A++){N.index>A?(O=N,N=null):O=N.sibling;var S=f(y,N,p[A],_);if(S===null){N===null&&(N=O);break}e&&N&&S.alternate===null&&t(y,N),m=a(S,m,A),C===null?k=S:C.sibling=S,C=S,N=O}if(A===p.length)return r(y,N),ae&&pr(y,A),k;if(N===null){for(;A<p.length;A++)N=h(y,p[A],_),N!==null&&(m=a(N,m,A),C===null?k=N:C.sibling=N,C=N);return ae&&pr(y,A),k}for(N=n(y,N);A<p.length;A++)O=x(N,y,A,p[A],_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?A:O.key),m=a(O,m,A),C===null?k=O:C.sibling=O,C=O);return e&&N.forEach(function(G){return t(y,G)}),ae&&pr(y,A),k}function v(y,m,p,_){var k=Sn(p);if(typeof k!="function")throw Error(R(150));if(p=k.call(p),p==null)throw Error(R(151));for(var C=k=null,N=m,A=m=0,O=null,S=p.next();N!==null&&!S.done;A++,S=p.next()){N.index>A?(O=N,N=null):O=N.sibling;var G=f(y,N,S.value,_);if(G===null){N===null&&(N=O);break}e&&N&&G.alternate===null&&t(y,N),m=a(G,m,A),C===null?k=G:C.sibling=G,C=G,N=O}if(S.done)return r(y,N),ae&&pr(y,A),k;if(N===null){for(;!S.done;A++,S=p.next())S=h(y,S.value,_),S!==null&&(m=a(S,m,A),C===null?k=S:C.sibling=S,C=S);return ae&&pr(y,A),k}for(N=n(y,N);!S.done;A++,S=p.next())S=x(N,y,A,S.value,_),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?A:S.key),m=a(S,m,A),C===null?k=S:C.sibling=S,C=S);return e&&N.forEach(function(F){return t(y,F)}),ae&&pr(y,A),k}function w(y,m,p,_){if(typeof p=="object"&&p!==null&&p.type===Fr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case Os:e:{for(var k=p.key,C=m;C!==null;){if(C.key===k){if(k=p.type,k===Fr){if(C.tag===7){r(y,C.sibling),m=s(C,p.props.children),m.return=y,y=m;break e}}else if(C.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===qt&&Fc(k)===C.type){r(y,C.sibling),m=s(C,p.props),m.ref=Rn(y,C,p),m.return=y,y=m;break e}r(y,C);break}else t(y,C);C=C.sibling}p.type===Fr?(m=Nr(p.props.children,y.mode,_,p.key),m.return=y,y=m):(_=di(p.type,p.key,p.props,null,y.mode,_),_.ref=Rn(y,m,p),_.return=y,y=_)}return l(y);case zr:e:{for(C=p.key;m!==null;){if(m.key===C)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(y,m.sibling),m=s(m,p.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=Da(p,y.mode,_),m.return=y,y=m}return l(y);case qt:return C=p._init,w(y,m,C(p._payload),_)}if(In(p))return g(y,m,p,_);if(Sn(p))return v(y,m,p,_);qs(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(y,m.sibling),m=s(m,p),m.return=y,y=m):(r(y,m),m=Ua(p,y.mode,_),m.return=y,y=m),l(y)):r(y,m)}return w}var un=nh(!0),sh=nh(!1),bi=ur(null),Si=null,Gr=null,jo=null;function _o(){jo=Gr=Si=null}function No(e){var t=bi.current;ie(bi),e._currentValue=t}function _l(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rn(e,t){Si=e,jo=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(jo!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(Si===null)throw Error(R(308));Gr=e,Si.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var wr=null;function ko(e){wr===null?wr=[e]:wr.push(e)}function ih(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,ko(t)):(r.next=s.next,s.next=r),t.interleaved=r,It(e,n)}function It(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Vt=!1;function bo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ah(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,It(e,r)}return s=n.interleaved,s===null?(t.next=t,ko(n)):(t.next=s.next,s.next=t),n.interleaved=t,It(e,r)}function ii(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,co(e,r)}}function Bc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ei(e,t,r,n){var s=e.updateQueue;Vt=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?a=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(a!==null){var h=s.baseState;l=0,d=u=o=null,c=a;do{var f=c.lane,x=c.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var g=e,v=c;switch(f=t,x=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){h=g.call(x,h,f);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,f=typeof g=="function"?g.call(x,h,f):g,f==null)break e;h=ue({},h,f);break e;case 2:Vt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else x={eventTime:x,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=x,o=h):d=d.next=x,l|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(o=h),s.baseState=o,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Er|=l,e.lanes=l,e.memoizedState=h}}function qc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var Es={},Nt=ur(Es),ds=ur(Es),hs=ur(Es);function jr(e){if(e===Es)throw Error(R(174));return e}function So(e,t){switch(ne(hs,t),ne(ds,e),ne(Nt,Es),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=rl(t,e)}ie(Nt),ne(Nt,t)}function dn(){ie(Nt),ie(ds),ie(hs)}function lh(e){jr(hs.current);var t=jr(Nt.current),r=rl(t,e.type);t!==r&&(ne(ds,e),ne(Nt,r))}function Eo(e){ds.current===e&&(ie(Nt),ie(ds))}var oe=ur(0);function Ci(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=[];function Co(){for(var e=0;e<Ra.length;e++)Ra[e]._workInProgressVersionPrimary=null;Ra.length=0}var ai=Mt.ReactCurrentDispatcher,Oa=Mt.ReactCurrentBatchConfig,Sr=0,ce=null,pe=null,ge=null,Pi=!1,Hn=!1,fs=0,Vp=0;function be(){throw Error(R(321))}function Po(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xt(e[r],t[r]))return!1;return!0}function To(e,t,r,n,s,a){if(Sr=a,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=e===null||e.memoizedState===null?Kp:Gp,e=r(n,s),Hn){a=0;do{if(Hn=!1,fs=0,25<=a)throw Error(R(301));a+=1,ge=pe=null,t.updateQueue=null,ai.current=Jp,e=r(n,s)}while(Hn)}if(ai.current=Ti,t=pe!==null&&pe.next!==null,Sr=0,ge=pe=ce=null,Pi=!1,t)throw Error(R(300));return e}function Ro(){var e=fs!==0;return fs=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ce.memoizedState=ge=e:ge=ge.next=e,ge}function lt(){if(pe===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ge===null?ce.memoizedState:ge.next;if(t!==null)ge=t,pe=e;else{if(e===null)throw Error(R(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?ce.memoizedState=ge=e:ge=ge.next=e}return ge}function ms(e,t){return typeof t=="function"?t(e):t}function Aa(e){var t=lt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=pe,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var c=l=null,o=null,u=a;do{var d=u.lane;if((Sr&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(c=o=h,l=n):o=o.next=h,ce.lanes|=d,Er|=d}u=u.next}while(u!==null&&u!==a);o===null?l=n:o.next=c,xt(n,t.memoizedState)||(Be=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ce.lanes|=a,Er|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function La(e){var t=lt(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);xt(a,t.memoizedState)||(Be=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function oh(){}function ch(e,t){var r=ce,n=lt(),s=t(),a=!xt(n.memoizedState,s);if(a&&(n.memoizedState=s,Be=!0),n=n.queue,Oo(hh.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ge!==null&&ge.memoizedState.tag&1){if(r.flags|=2048,ps(9,dh.bind(null,r,n,s,t),void 0,null),we===null)throw Error(R(349));Sr&30||uh(r,t,s)}return s}function uh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dh(e,t,r,n){t.value=r,t.getSnapshot=n,fh(t)&&mh(e)}function hh(e,t,r){return r(function(){fh(t)&&mh(e)})}function fh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xt(e,r)}catch{return!0}}function mh(e){var t=It(e,1);t!==null&&pt(t,e,1,-1)}function Vc(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=Qp.bind(null,ce,e),[t.memoizedState,e]}function ps(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ph(){return lt().memoizedState}function li(e,t,r,n){var s=gt();ce.flags|=e,s.memoizedState=ps(1|t,r,void 0,n===void 0?null:n)}function Ki(e,t,r,n){var s=lt();n=n===void 0?null:n;var a=void 0;if(pe!==null){var l=pe.memoizedState;if(a=l.destroy,n!==null&&Po(n,l.deps)){s.memoizedState=ps(t,r,a,n);return}}ce.flags|=e,s.memoizedState=ps(1|t,r,a,n)}function Wc(e,t){return li(8390656,8,e,t)}function Oo(e,t){return Ki(2048,8,e,t)}function xh(e,t){return Ki(4,2,e,t)}function yh(e,t){return Ki(4,4,e,t)}function vh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gh(e,t,r){return r=r!=null?r.concat([e]):null,Ki(4,4,vh.bind(null,t,e),r)}function Ao(){}function wh(e,t){var r=lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Po(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function jh(e,t){var r=lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Po(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function _h(e,t,r){return Sr&21?(xt(r,t)||(r=Ed(),ce.lanes|=r,Er|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=r)}function Wp(e,t){var r=Z;Z=r!==0&&4>r?r:4,e(!0);var n=Oa.transition;Oa.transition={};try{e(!1),t()}finally{Z=r,Oa.transition=n}}function Nh(){return lt().memoizedState}function Hp(e,t,r){var n=sr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},kh(e))bh(t,r);else if(r=ih(e,t,r,n),r!==null){var s=Le();pt(r,e,n,s),Sh(r,t,n)}}function Qp(e,t,r){var n=sr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(kh(e))bh(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,c=a(l,r);if(s.hasEagerState=!0,s.eagerState=c,xt(c,l)){var o=t.interleaved;o===null?(s.next=s,ko(t)):(s.next=o.next,o.next=s),t.interleaved=s;return}}catch{}finally{}r=ih(e,t,s,n),r!==null&&(s=Le(),pt(r,e,n,s),Sh(r,t,n))}}function kh(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function bh(e,t){Hn=Pi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Sh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,co(e,r)}}var Ti={readContext:at,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},Kp={readContext:at,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:Wc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,li(4194308,4,vh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var r=gt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Hp.bind(null,ce,e),[n.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:Vc,useDebugValue:Ao,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=Vc(!1),t=e[0];return e=Wp.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ce,s=gt();if(ae){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),we===null)throw Error(R(349));Sr&30||uh(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Wc(hh.bind(null,n,a,e),[e]),n.flags|=2048,ps(9,dh.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=gt(),t=we.identifierPrefix;if(ae){var r=Tt,n=Pt;r=(n&~(1<<32-mt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=fs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Vp++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Gp={readContext:at,useCallback:wh,useContext:at,useEffect:Oo,useImperativeHandle:gh,useInsertionEffect:xh,useLayoutEffect:yh,useMemo:jh,useReducer:Aa,useRef:ph,useState:function(){return Aa(ms)},useDebugValue:Ao,useDeferredValue:function(e){var t=lt();return _h(t,pe.memoizedState,e)},useTransition:function(){var e=Aa(ms)[0],t=lt().memoizedState;return[e,t]},useMutableSource:oh,useSyncExternalStore:ch,useId:Nh,unstable_isNewReconciler:!1},Jp={readContext:at,useCallback:wh,useContext:at,useEffect:Oo,useImperativeHandle:gh,useInsertionEffect:xh,useLayoutEffect:yh,useMemo:jh,useReducer:La,useRef:ph,useState:function(){return La(ms)},useDebugValue:Ao,useDeferredValue:function(e){var t=lt();return pe===null?t.memoizedState=e:_h(t,pe.memoizedState,e)},useTransition:function(){var e=La(ms)[0],t=lt().memoizedState;return[e,t]},useMutableSource:oh,useSyncExternalStore:ch,useId:Nh,unstable_isNewReconciler:!1};function ut(e,t){if(e&&e.defaultProps){t=ue({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Nl(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ue({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gi={isMounted:function(e){return(e=e._reactInternals)?Tr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Le(),s=sr(e),a=Ot(n,s);a.payload=t,r!=null&&(a.callback=r),t=rr(e,a,s),t!==null&&(pt(t,e,s,n),ii(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Le(),s=sr(e),a=Ot(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=rr(e,a,s),t!==null&&(pt(t,e,s,n),ii(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Le(),n=sr(e),s=Ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=rr(e,s,n),t!==null&&(pt(t,e,n,r),ii(t,e,n))}};function Hc(e,t,r,n,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!ls(r,n)||!ls(s,a):!0}function Eh(e,t,r){var n=!1,s=or,a=t.contextType;return typeof a=="object"&&a!==null?a=at(a):(s=Ve(t)?kr:Pe.current,n=t.contextTypes,a=(n=n!=null)?on(e,s):or),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Qc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gi.enqueueReplaceState(t,t.state,null)}function kl(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},bo(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=at(a):(a=Ve(t)?kr:Pe.current,s.context=on(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Nl(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gi.enqueueReplaceState(s,s.state,null),Ei(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var r="",n=t;do r+=km(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function $a(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Yp=typeof WeakMap=="function"?WeakMap:Map;function Ch(e,t,r){r=Ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oi||(Oi=!0,$l=n),bl(e,t)},r}function Ph(e,t,r){r=Ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){bl(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){bl(e,t),typeof n!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Kc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Yp;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=dx.bind(null,e,t,r),t.then(e,e))}function Gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Jc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ot(-1,1),t.tag=2,rr(r,t,1))),r.lanes|=1),e)}var Xp=Mt.ReactCurrentOwner,Be=!1;function Ae(e,t,r,n){t.child=e===null?sh(t,null,r,n):un(t,e.child,r,n)}function Yc(e,t,r,n,s){r=r.render;var a=t.ref;return rn(t,s),n=To(e,t,r,n,a,s),r=Ro(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(ae&&r&&vo(t),t.flags|=1,Ae(e,t,n,s),t.child)}function Xc(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Fo(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Th(e,t,a,n,s)):(e=di(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:ls,r(l,n)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=ir(a,n),e.ref=t.ref,e.return=t,t.child=e}function Th(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(ls(a,n)&&e.ref===t.ref)if(Be=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return Sl(e,t,r,n,s)}function Rh(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(Yr,Ke),Ke|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(Yr,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ne(Yr,Ke),Ke|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ne(Yr,Ke),Ke|=n;return Ae(e,t,s,r),t.child}function Oh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,r,n,s){var a=Ve(r)?kr:Pe.current;return a=on(t,a),rn(t,s),r=To(e,t,r,n,a,s),n=Ro(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(ae&&n&&vo(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Zc(e,t,r,n,s){if(Ve(r)){var a=!0;_i(t)}else a=!1;if(rn(t,s),t.stateNode===null)oi(e,t),Eh(t,r,n),kl(t,r,n,s),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=Ve(r)?kr:Pe.current,u=on(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||o!==u)&&Qc(t,l,n,u),Vt=!1;var f=t.memoizedState;l.state=f,Ei(t,n,l,s),o=t.memoizedState,c!==n||f!==o||qe.current||Vt?(typeof d=="function"&&(Nl(t,r,d,n),o=t.memoizedState),(c=Vt||Hc(t,r,c,n,f,o,u))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=u,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,ah(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:ut(t.type,c),l.props=u,h=t.pendingProps,f=l.context,o=r.contextType,typeof o=="object"&&o!==null?o=at(o):(o=Ve(r)?kr:Pe.current,o=on(t,o));var x=r.getDerivedStateFromProps;(d=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==h||f!==o)&&Qc(t,l,n,o),Vt=!1,f=t.memoizedState,l.state=f,Ei(t,n,l,s);var g=t.memoizedState;c!==h||f!==g||qe.current||Vt?(typeof x=="function"&&(Nl(t,r,x,n),g=t.memoizedState),(u=Vt||Hc(t,r,u,n,f,g,o)||!1)?(d||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=o,n=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return El(e,t,r,n,a,s)}function El(e,t,r,n,s,a){Oh(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return s&&Dc(t,r,!1),Ut(e,t,a);n=t.stateNode,Xp.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=un(t,e.child,null,a),t.child=un(t,null,c,a)):Ae(e,t,c,a),t.memoizedState=n.state,s&&Dc(t,r,!0),t.child}function Ah(e){var t=e.stateNode;t.pendingContext?Uc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Uc(e,t.context,!1),So(e,t.containerInfo)}function eu(e,t,r,n,s){return cn(),wo(s),t.flags|=256,Ae(e,t,r,n),t.child}var Cl={dehydrated:null,treeContext:null,retryLane:0};function Pl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lh(e,t,r){var n=t.pendingProps,s=oe.current,a=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(oe,s&1),e===null)return jl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Xi(l,n,0,null),e=Nr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pl(r),t.memoizedState=Cl,e):Lo(t,l));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return Zp(e,t,l,n,c,s,r);if(a){a=n.fallback,l=t.mode,s=e.child,c=s.sibling;var o={mode:"hidden",children:n.children};return!(l&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=ir(s,o),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?a=ir(c,a):(a=Nr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Pl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Cl,n}return a=e.child,e=a.sibling,n=ir(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Lo(e,t){return t=Xi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,r,n){return n!==null&&wo(n),un(t,e.child,null,r),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zp(e,t,r,n,s,a,l){if(r)return t.flags&256?(t.flags&=-257,n=$a(Error(R(422))),Vs(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Xi({mode:"visible",children:n.children},s,0,null),a=Nr(a,s,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&un(t,e.child,null,l),t.child.memoizedState=Pl(l),t.memoizedState=Cl,a);if(!(t.mode&1))return Vs(e,t,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,a=Error(R(419)),n=$a(a,n,void 0),Vs(e,t,l,n)}if(c=(l&e.childLanes)!==0,Be||c){if(n=we,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,It(e,s),pt(n,e,s,-1))}return zo(),n=$a(Error(R(421))),Vs(e,t,l,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=hx.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Ge=tr(s.nextSibling),Je=t,ae=!0,ft=null,e!==null&&(tt[rt++]=Pt,tt[rt++]=Tt,tt[rt++]=br,Pt=e.id,Tt=e.overflow,br=t),t=Lo(t,n.children),t.flags|=4096,t)}function tu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),_l(e.return,t,r)}function Ia(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function $h(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Ae(e,t,n.children,r),n=oe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tu(e,r,t);else if(e.tag===19)tu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ne(oe,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Ci(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ia(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ia(t,!0,r,null,a);break;case"together":Ia(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function oi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Er|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=ir(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ir(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ex(e,t,r){switch(t.tag){case 3:Ah(t),cn();break;case 5:lh(t);break;case 1:Ve(t.type)&&_i(t);break;case 4:So(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ne(bi,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ne(oe,oe.current&1),t.flags|=128,null):r&t.child.childLanes?Lh(e,t,r):(ne(oe,oe.current&1),e=Ut(e,t,r),e!==null?e.sibling:null);ne(oe,oe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return $h(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(oe,oe.current),n)break;return null;case 22:case 23:return t.lanes=0,Rh(e,t,r)}return Ut(e,t,r)}var Ih,Tl,Uh,Dh;Ih=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Tl=function(){};Uh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,jr(Nt.current);var a=null;switch(r){case"input":s=Xa(e,s),n=Xa(e,n),a=[];break;case"select":s=ue({},s,{value:void 0}),n=ue({},n,{value:void 0}),a=[];break;case"textarea":s=tl(e,s),n=tl(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wi)}nl(r,n);var l;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(es.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var o=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&o!==c&&(o!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(r||(r={}),r[l]=o[l])}else r||(a||(a=[]),a.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(a=a||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(a=a||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(es.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&se("scroll",e),a||c===o||(a=[])):(a=a||[]).push(u,o))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Dh=function(e,t,r,n){r!==n&&(t.flags|=4)};function On(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function tx(e,t,r){var n=t.pendingProps;switch(go(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Ve(t.type)&&ji(),Se(t),null;case 3:return n=t.stateNode,dn(),ie(qe),ie(Pe),Co(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Dl(ft),ft=null))),Tl(e,t),Se(t),null;case 5:Eo(t);var s=jr(hs.current);if(r=t.type,e!==null&&t.stateNode!=null)Uh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return Se(t),null}if(e=jr(Nt.current),Bs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[jt]=t,n[us]=a,e=(t.mode&1)!==0,r){case"dialog":se("cancel",n),se("close",n);break;case"iframe":case"object":case"embed":se("load",n);break;case"video":case"audio":for(s=0;s<Dn.length;s++)se(Dn[s],n);break;case"source":se("error",n);break;case"img":case"image":case"link":se("error",n),se("load",n);break;case"details":se("toggle",n);break;case"input":uc(n,a),se("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},se("invalid",n);break;case"textarea":hc(n,a),se("invalid",n)}nl(r,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="children"?typeof c=="string"?n.textContent!==c&&(a.suppressHydrationWarning!==!0&&Fs(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(a.suppressHydrationWarning!==!0&&Fs(n.textContent,c,e),s=["children",""+c]):es.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&se("scroll",n)}switch(r){case"input":As(n),dc(n,a,!0);break;case"textarea":As(n),fc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=wi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[jt]=t,e[us]=n,Ih(e,t,!1,!1),t.stateNode=e;e:{switch(l=sl(r,n),r){case"dialog":se("cancel",e),se("close",e),s=n;break;case"iframe":case"object":case"embed":se("load",e),s=n;break;case"video":case"audio":for(s=0;s<Dn.length;s++)se(Dn[s],e);s=n;break;case"source":se("error",e),s=n;break;case"img":case"image":case"link":se("error",e),se("load",e),s=n;break;case"details":se("toggle",e),s=n;break;case"input":uc(e,n),s=Xa(e,n),se("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ue({},n,{value:void 0}),se("invalid",e);break;case"textarea":hc(e,n),s=tl(e,n),se("invalid",e);break;default:s=n}nl(r,s),c=s;for(a in c)if(c.hasOwnProperty(a)){var o=c[a];a==="style"?pd(e,o):a==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&fd(e,o)):a==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&ts(e,o):typeof o=="number"&&ts(e,""+o):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(es.hasOwnProperty(a)?o!=null&&a==="onScroll"&&se("scroll",e):o!=null&&no(e,a,o,l))}switch(r){case"input":As(e),dc(e,n,!1);break;case"textarea":As(e),fc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Xr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Xr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Se(t),null;case 6:if(e&&t.stateNode!=null)Dh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=jr(hs.current),jr(Nt.current),Bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[jt]=t,(a=n.nodeValue!==r)&&(e=Je,e!==null))switch(e.tag){case 3:Fs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fs(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[jt]=t,t.stateNode=n}return Se(t),null;case 13:if(ie(oe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&Ge!==null&&t.mode&1&&!(t.flags&128))rh(),cn(),t.flags|=98560,a=!1;else if(a=Bs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[jt]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),a=!1}else ft!==null&&(Dl(ft),ft=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||oe.current&1?xe===0&&(xe=3):zo())),t.updateQueue!==null&&(t.flags|=4),Se(t),null);case 4:return dn(),Tl(e,t),e===null&&os(t.stateNode.containerInfo),Se(t),null;case 10:return No(t.type._context),Se(t),null;case 17:return Ve(t.type)&&ji(),Se(t),null;case 19:if(ie(oe),a=t.memoizedState,a===null)return Se(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)On(a,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Ci(e),l!==null){for(t.flags|=128,On(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ne(oe,oe.current&1|2),t.child}e=e.sibling}a.tail!==null&&he()>fn&&(t.flags|=128,n=!0,On(a,!1),t.lanes=4194304)}else{if(!n)if(e=Ci(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),On(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ae)return Se(t),null}else 2*he()-a.renderingStartTime>fn&&r!==1073741824&&(t.flags|=128,n=!0,On(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,r=oe.current,ne(oe,n?r&1|2:r&1),t):(Se(t),null);case 22:case 23:return Mo(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ke&1073741824&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function rx(e,t){switch(go(t),t.tag){case 1:return Ve(t.type)&&ji(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),ie(qe),ie(Pe),Co(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(ie(oe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(oe),null;case 4:return dn(),null;case 10:return No(t.type._context),null;case 22:case 23:return Mo(),null;case 24:return null;default:return null}}var Ws=!1,Ce=!1,nx=typeof WeakSet=="function"?WeakSet:Set,L=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){de(e,t,n)}else r.current=null}function Rl(e,t,r){try{r()}catch(n){de(e,t,n)}}var ru=!1;function sx(e,t){if(ml=yi,e=qd(),yo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,o=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var x;h!==r||s!==0&&h.nodeType!==3||(c=l+s),h!==a||n!==0&&h.nodeType!==3||(o=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(x=h.firstChild)!==null;)f=h,h=x;for(;;){if(h===e)break t;if(f===r&&++u===s&&(c=l),f===a&&++d===n&&(o=l),(x=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=x}r=c===-1||o===-1?null:{start:c,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(pl={focusedElem:e,selectionRange:r},yi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,w=g.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ut(t.type,v),w);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(_){de(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return g=ru,ru=!1,g}function Qn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Rl(t,r,a)}s=s.next}while(s!==n)}}function Ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ol(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Mh(e){var t=e.alternate;t!==null&&(e.alternate=null,Mh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[jt],delete t[us],delete t[vl],delete t[zp],delete t[Fp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zh(e){return e.tag===5||e.tag===3||e.tag===4}function nu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Al(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wi));else if(n!==4&&(e=e.child,e!==null))for(Al(e,t,r),e=e.sibling;e!==null;)Al(e,t,r),e=e.sibling}function Ll(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ll(e,t,r),e=e.sibling;e!==null;)Ll(e,t,r),e=e.sibling}var _e=null,dt=!1;function Ft(e,t,r){for(r=r.child;r!==null;)Fh(e,t,r),r=r.sibling}function Fh(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Bi,r)}catch{}switch(r.tag){case 5:Ce||Jr(r,t);case 6:var n=_e,s=dt;_e=null,Ft(e,t,r),_e=n,dt=s,_e!==null&&(dt?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(dt?(e=_e,r=r.stateNode,e.nodeType===8?Pa(e.parentNode,r):e.nodeType===1&&Pa(e,r),is(e)):Pa(_e,r.stateNode));break;case 4:n=_e,s=dt,_e=r.stateNode.containerInfo,dt=!0,Ft(e,t,r),_e=n,dt=s;break;case 0:case 11:case 14:case 15:if(!Ce&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Rl(r,t,l),s=s.next}while(s!==n)}Ft(e,t,r);break;case 1:if(!Ce&&(Jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){de(r,t,c)}Ft(e,t,r);break;case 21:Ft(e,t,r);break;case 22:r.mode&1?(Ce=(n=Ce)||r.memoizedState!==null,Ft(e,t,r),Ce=n):Ft(e,t,r);break;default:Ft(e,t,r)}}function su(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new nx),t.forEach(function(n){var s=fx.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ot(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:_e=c.stateNode,dt=!1;break e;case 3:_e=c.stateNode.containerInfo,dt=!0;break e;case 4:_e=c.stateNode.containerInfo,dt=!0;break e}c=c.return}if(_e===null)throw Error(R(160));Fh(a,l,s),_e=null,dt=!1;var o=s.alternate;o!==null&&(o.return=null),s.return=null}catch(u){de(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Bh(t,e),t=t.sibling}function Bh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),vt(e),n&4){try{Qn(3,e,e.return),Ji(3,e)}catch(v){de(e,e.return,v)}try{Qn(5,e,e.return)}catch(v){de(e,e.return,v)}}break;case 1:ot(t,e),vt(e),n&512&&r!==null&&Jr(r,r.return);break;case 5:if(ot(t,e),vt(e),n&512&&r!==null&&Jr(r,r.return),e.flags&32){var s=e.stateNode;try{ts(s,"")}catch(v){de(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&a.type==="radio"&&a.name!=null&&ud(s,a),sl(c,l);var u=sl(c,a);for(l=0;l<o.length;l+=2){var d=o[l],h=o[l+1];d==="style"?pd(s,h):d==="dangerouslySetInnerHTML"?fd(s,h):d==="children"?ts(s,h):no(s,d,h,u)}switch(c){case"input":Za(s,a);break;case"textarea":dd(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Xr(s,!!a.multiple,x,!1):f!==!!a.multiple&&(a.defaultValue!=null?Xr(s,!!a.multiple,a.defaultValue,!0):Xr(s,!!a.multiple,a.multiple?[]:"",!1))}s[us]=a}catch(v){de(e,e.return,v)}}break;case 6:if(ot(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){de(e,e.return,v)}}break;case 3:if(ot(t,e),vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{is(t.containerInfo)}catch(v){de(e,e.return,v)}break;case 4:ot(t,e),vt(e);break;case 13:ot(t,e),vt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Uo=he())),n&4&&su(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ce=(u=Ce)||d,ot(t,e),Ce=u):ot(t,e),vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(L=e,d=e.child;d!==null;){for(h=L=d;L!==null;){switch(f=L,x=f.child,f.tag){case 0:case 11:case 14:case 15:Qn(4,f,f.return);break;case 1:Jr(f,f.return);var g=f.stateNode;if(typeof g.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){de(n,r,v)}}break;case 5:Jr(f,f.return);break;case 22:if(f.memoizedState!==null){au(h);continue}}x!==null?(x.return=f,L=x):au(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(c=h.stateNode,o=h.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=md("display",l))}catch(v){de(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){de(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ot(t,e),vt(e),n&4&&su(e);break;case 21:break;default:ot(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(zh(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ts(s,""),n.flags&=-33);var a=nu(e);Ll(e,a,s);break;case 3:case 4:var l=n.stateNode.containerInfo,c=nu(e);Al(e,c,l);break;default:throw Error(R(161))}}catch(o){de(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ix(e,t,r){L=e,qh(e)}function qh(e,t,r){for(var n=(e.mode&1)!==0;L!==null;){var s=L,a=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||Ws;if(!l){var c=s.alternate,o=c!==null&&c.memoizedState!==null||Ce;c=Ws;var u=Ce;if(Ws=l,(Ce=o)&&!u)for(L=s;L!==null;)l=L,o=l.child,l.tag===22&&l.memoizedState!==null?lu(s):o!==null?(o.return=l,L=o):lu(s);for(;a!==null;)L=a,qh(a),a=a.sibling;L=s,Ws=c,Ce=u}iu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,L=a):iu(e)}}function iu(e){for(;L!==null;){var t=L;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ce||Ji(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ce)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ut(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&qc(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qc(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&is(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ce||t.flags&512&&Ol(t)}catch(f){de(t,t.return,f)}}if(t===e){L=null;break}if(r=t.sibling,r!==null){r.return=t.return,L=r;break}L=t.return}}function au(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var r=t.sibling;if(r!==null){r.return=t.return,L=r;break}L=t.return}}function lu(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ji(4,t)}catch(o){de(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(o){de(t,s,o)}}var a=t.return;try{Ol(t)}catch(o){de(t,a,o)}break;case 5:var l=t.return;try{Ol(t)}catch(o){de(t,l,o)}}}catch(o){de(t,t.return,o)}if(t===e){L=null;break}var c=t.sibling;if(c!==null){c.return=t.return,L=c;break}L=t.return}}var ax=Math.ceil,Ri=Mt.ReactCurrentDispatcher,$o=Mt.ReactCurrentOwner,st=Mt.ReactCurrentBatchConfig,K=0,we=null,me=null,Ne=0,Ke=0,Yr=ur(0),xe=0,xs=null,Er=0,Yi=0,Io=0,Kn=null,ze=null,Uo=0,fn=1/0,St=null,Oi=!1,$l=null,nr=null,Hs=!1,Jt=null,Ai=0,Gn=0,Il=null,ci=-1,ui=0;function Le(){return K&6?he():ci!==-1?ci:ci=he()}function sr(e){return e.mode&1?K&2&&Ne!==0?Ne&-Ne:qp.transition!==null?(ui===0&&(ui=Ed()),ui):(e=Z,e!==0||(e=window.event,e=e===void 0?16:Ld(e.type)),e):1}function pt(e,t,r,n){if(50<Gn)throw Gn=0,Il=null,Error(R(185));ks(e,r,n),(!(K&2)||e!==we)&&(e===we&&(!(K&2)&&(Yi|=r),xe===4&&Qt(e,Ne)),We(e,n),r===1&&K===0&&!(t.mode&1)&&(fn=he()+500,Qi&&dr()))}function We(e,t){var r=e.callbackNode;qm(e,t);var n=xi(e,e===we?Ne:0);if(n===0)r!==null&&xc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xc(r),t===1)e.tag===0?Bp(ou.bind(null,e)):Zd(ou.bind(null,e)),Dp(function(){!(K&6)&&dr()}),r=null;else{switch(Cd(n)){case 1:r=oo;break;case 4:r=bd;break;case 16:r=pi;break;case 536870912:r=Sd;break;default:r=pi}r=Yh(r,Vh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vh(e,t){if(ci=-1,ui=0,K&6)throw Error(R(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var n=xi(e,e===we?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Li(e,n);else{t=n;var s=K;K|=2;var a=Hh();(we!==e||Ne!==t)&&(St=null,fn=he()+500,_r(e,t));do try{cx();break}catch(c){Wh(e,c)}while(!0);_o(),Ri.current=a,K=s,me!==null?t=0:(we=null,Ne=0,t=xe)}if(t!==0){if(t===2&&(s=cl(e),s!==0&&(n=s,t=Ul(e,s))),t===1)throw r=xs,_r(e,0),Qt(e,n),We(e,he()),r;if(t===6)Qt(e,n);else{if(s=e.current.alternate,!(n&30)&&!lx(s)&&(t=Li(e,n),t===2&&(a=cl(e),a!==0&&(n=a,t=Ul(e,a))),t===1))throw r=xs,_r(e,0),Qt(e,n),We(e,he()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:xr(e,ze,St);break;case 3:if(Qt(e,n),(n&130023424)===n&&(t=Uo+500-he(),10<t)){if(xi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Le(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=yl(xr.bind(null,e,ze,St),t);break}xr(e,ze,St);break;case 4:if(Qt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var l=31-mt(n);a=1<<l,l=t[l],l>s&&(s=l),n&=~a}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ax(n/1960))-n,10<n){e.timeoutHandle=yl(xr.bind(null,e,ze,St),n);break}xr(e,ze,St);break;case 5:xr(e,ze,St);break;default:throw Error(R(329))}}}return We(e,he()),e.callbackNode===r?Vh.bind(null,e):null}function Ul(e,t){var r=Kn;return e.current.memoizedState.isDehydrated&&(_r(e,t).flags|=256),e=Li(e,t),e!==2&&(t=ze,ze=r,t!==null&&Dl(t)),e}function Dl(e){ze===null?ze=e:ze.push.apply(ze,e)}function lx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!xt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qt(e,t){for(t&=~Io,t&=~Yi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-mt(t),n=1<<r;e[r]=-1,t&=~n}}function ou(e){if(K&6)throw Error(R(327));nn();var t=xi(e,0);if(!(t&1))return We(e,he()),null;var r=Li(e,t);if(e.tag!==0&&r===2){var n=cl(e);n!==0&&(t=n,r=Ul(e,n))}if(r===1)throw r=xs,_r(e,0),Qt(e,t),We(e,he()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xr(e,ze,St),We(e,he()),null}function Do(e,t){var r=K;K|=1;try{return e(t)}finally{K=r,K===0&&(fn=he()+500,Qi&&dr())}}function Cr(e){Jt!==null&&Jt.tag===0&&!(K&6)&&nn();var t=K;K|=1;var r=st.transition,n=Z;try{if(st.transition=null,Z=1,e)return e()}finally{Z=n,st.transition=r,K=t,!(K&6)&&dr()}}function Mo(){Ke=Yr.current,ie(Yr)}function _r(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Up(r)),me!==null)for(r=me.return;r!==null;){var n=r;switch(go(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ji();break;case 3:dn(),ie(qe),ie(Pe),Co();break;case 5:Eo(n);break;case 4:dn();break;case 13:ie(oe);break;case 19:ie(oe);break;case 10:No(n.type._context);break;case 22:case 23:Mo()}r=r.return}if(we=e,me=e=ir(e.current,null),Ne=Ke=t,xe=0,xs=null,Io=Yi=Er=0,ze=Kn=null,wr!==null){for(t=0;t<wr.length;t++)if(r=wr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=s,n.next=l}r.pending=n}wr=null}return e}function Wh(e,t){do{var r=me;try{if(_o(),ai.current=Ti,Pi){for(var n=ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pi=!1}if(Sr=0,ge=pe=ce=null,Hn=!1,fs=0,$o.current=null,r===null||r.return===null){xe=1,xs=t,me=null;break}e:{var a=e,l=r.return,c=r,o=t;if(t=Ne,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=c,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=Gc(l);if(x!==null){x.flags&=-257,Jc(x,l,c,a,t),x.mode&1&&Kc(a,u,t),t=x,o=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(o),t.updateQueue=v}else g.add(o);break e}else{if(!(t&1)){Kc(a,u,t),zo();break e}o=Error(R(426))}}else if(ae&&c.mode&1){var w=Gc(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Jc(w,l,c,a,t),wo(hn(o,c));break e}}a=o=hn(o,c),xe!==4&&(xe=2),Kn===null?Kn=[a]:Kn.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=Ch(a,o,t);Bc(a,y);break e;case 1:c=o;var m=a.type,p=a.stateNode;if(!(a.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nr===null||!nr.has(p)))){a.flags|=65536,t&=-t,a.lanes|=t;var _=Ph(a,c,t);Bc(a,_);break e}}a=a.return}while(a!==null)}Kh(r)}catch(k){t=k,me===r&&r!==null&&(me=r=r.return);continue}break}while(!0)}function Hh(){var e=Ri.current;return Ri.current=Ti,e===null?Ti:e}function zo(){(xe===0||xe===3||xe===2)&&(xe=4),we===null||!(Er&268435455)&&!(Yi&268435455)||Qt(we,Ne)}function Li(e,t){var r=K;K|=2;var n=Hh();(we!==e||Ne!==t)&&(St=null,_r(e,t));do try{ox();break}catch(s){Wh(e,s)}while(!0);if(_o(),K=r,Ri.current=n,me!==null)throw Error(R(261));return we=null,Ne=0,xe}function ox(){for(;me!==null;)Qh(me)}function cx(){for(;me!==null&&!Lm();)Qh(me)}function Qh(e){var t=Jh(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Kh(e):me=t,$o.current=null}function Kh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=rx(r,t),r!==null){r.flags&=32767,me=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,me=null;return}}else if(r=tx(r,t,Ke),r!==null){me=r;return}if(t=t.sibling,t!==null){me=t;return}me=t=e}while(t!==null);xe===0&&(xe=5)}function xr(e,t,r){var n=Z,s=st.transition;try{st.transition=null,Z=1,ux(e,t,r,n)}finally{st.transition=s,Z=n}return null}function ux(e,t,r,n){do nn();while(Jt!==null);if(K&6)throw Error(R(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Vm(e,a),e===we&&(me=we=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hs||(Hs=!0,Yh(pi,function(){return nn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=st.transition,st.transition=null;var l=Z;Z=1;var c=K;K|=4,$o.current=null,sx(e,r),Bh(r,e),Tp(pl),yi=!!ml,pl=ml=null,e.current=r,ix(r),$m(),K=c,Z=l,st.transition=a}else e.current=r;if(Hs&&(Hs=!1,Jt=e,Ai=s),a=e.pendingLanes,a===0&&(nr=null),Dm(r.stateNode),We(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oi)throw Oi=!1,e=$l,$l=null,e;return Ai&1&&e.tag!==0&&nn(),a=e.pendingLanes,a&1?e===Il?Gn++:(Gn=0,Il=e):Gn=0,dr(),null}function nn(){if(Jt!==null){var e=Cd(Ai),t=st.transition,r=Z;try{if(st.transition=null,Z=16>e?16:e,Jt===null)var n=!1;else{if(e=Jt,Jt=null,Ai=0,K&6)throw Error(R(331));var s=K;for(K|=4,L=e.current;L!==null;){var a=L,l=a.child;if(L.flags&16){var c=a.deletions;if(c!==null){for(var o=0;o<c.length;o++){var u=c[o];for(L=u;L!==null;){var d=L;switch(d.tag){case 0:case 11:case 15:Qn(8,d,a)}var h=d.child;if(h!==null)h.return=d,L=h;else for(;L!==null;){d=L;var f=d.sibling,x=d.return;if(Mh(d),d===u){L=null;break}if(f!==null){f.return=x,L=f;break}L=x}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}L=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,L=l;else e:for(;L!==null;){if(a=L,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Qn(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,L=y;break e}L=a.return}}var m=e.current;for(L=m;L!==null;){l=L;var p=l.child;if(l.subtreeFlags&2064&&p!==null)p.return=l,L=p;else e:for(l=m;L!==null;){if(c=L,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ji(9,c)}}catch(k){de(c,c.return,k)}if(c===l){L=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,L=_;break e}L=c.return}}if(K=s,dr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Bi,e)}catch{}n=!0}return n}finally{Z=r,st.transition=t}}return!1}function cu(e,t,r){t=hn(r,t),t=Ch(e,t,1),e=rr(e,t,1),t=Le(),e!==null&&(ks(e,1,t),We(e,t))}function de(e,t,r){if(e.tag===3)cu(e,e,r);else for(;t!==null;){if(t.tag===3){cu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nr===null||!nr.has(n))){e=hn(r,e),e=Ph(t,e,1),t=rr(t,e,1),e=Le(),t!==null&&(ks(t,1,e),We(t,e));break}}t=t.return}}function dx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Le(),e.pingedLanes|=e.suspendedLanes&r,we===e&&(Ne&r)===r&&(xe===4||xe===3&&(Ne&130023424)===Ne&&500>he()-Uo?_r(e,0):Io|=r),We(e,t)}function Gh(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var r=Le();e=It(e,t),e!==null&&(ks(e,t,r),We(e,r))}function hx(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Gh(e,r)}function fx(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Gh(e,r)}var Jh;Jh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Be=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Be=!1,ex(e,t,r);Be=!!(e.flags&131072)}else Be=!1,ae&&t.flags&1048576&&eh(t,ki,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;oi(e,t),e=t.pendingProps;var s=on(t,Pe.current);rn(t,r),s=To(null,t,n,e,s,r);var a=Ro();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(n)?(a=!0,_i(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bo(t),s.updater=Gi,t.stateNode=s,s._reactInternals=t,kl(t,n,e,r),t=El(null,t,n,!0,a,r)):(t.tag=0,ae&&a&&vo(t),Ae(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(oi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=px(n),e=ut(n,e),s){case 0:t=Sl(null,t,n,e,r);break e;case 1:t=Zc(null,t,n,e,r);break e;case 11:t=Yc(null,t,n,e,r);break e;case 14:t=Xc(null,t,n,ut(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),Sl(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),Zc(e,t,n,s,r);case 3:e:{if(Ah(t),e===null)throw Error(R(387));n=t.pendingProps,a=t.memoizedState,s=a.element,ah(e,t),Ei(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=hn(Error(R(423)),t),t=eu(e,t,n,r,s);break e}else if(n!==s){s=hn(Error(R(424)),t),t=eu(e,t,n,r,s);break e}else for(Ge=tr(t.stateNode.containerInfo.firstChild),Je=t,ae=!0,ft=null,r=sh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),n===s){t=Ut(e,t,r);break e}Ae(e,t,n,r)}t=t.child}return t;case 5:return lh(t),e===null&&jl(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,xl(n,s)?l=null:a!==null&&xl(n,a)&&(t.flags|=32),Oh(e,t),Ae(e,t,l,r),t.child;case 6:return e===null&&jl(t),null;case 13:return Lh(e,t,r);case 4:return So(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=un(t,null,n,r):Ae(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),Yc(e,t,n,s,r);case 7:return Ae(e,t,t.pendingProps,r),t.child;case 8:return Ae(e,t,t.pendingProps.children,r),t.child;case 12:return Ae(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,ne(bi,n._currentValue),n._currentValue=l,a!==null)if(xt(a.value,l)){if(a.children===s.children&&!qe.current){t=Ut(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var c=a.dependencies;if(c!==null){l=a.child;for(var o=c.firstContext;o!==null;){if(o.context===n){if(a.tag===1){o=Ot(-1,r&-r),o.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),_l(a.return,r,t),c.lanes|=r;break}o=o.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(R(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),_l(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ae(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,rn(t,r),s=at(s),n=n(s),t.flags|=1,Ae(e,t,n,r),t.child;case 14:return n=t.type,s=ut(n,t.pendingProps),s=ut(n.type,s),Xc(e,t,n,s,r);case 15:return Th(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ut(n,s),oi(e,t),t.tag=1,Ve(n)?(e=!0,_i(t)):e=!1,rn(t,r),Eh(t,n,s),kl(t,n,s,r),El(null,t,n,!0,e,r);case 19:return $h(e,t,r);case 22:return Rh(e,t,r)}throw Error(R(156,t.tag))};function Yh(e,t){return kd(e,t)}function mx(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,r,n){return new mx(e,t,r,n)}function Fo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function px(e){if(typeof e=="function")return Fo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===io)return 11;if(e===ao)return 14}return 2}function ir(e,t){var r=e.alternate;return r===null?(r=nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function di(e,t,r,n,s,a){var l=2;if(n=e,typeof e=="function")Fo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Fr:return Nr(r.children,s,a,t);case so:l=8,s|=8;break;case Ka:return e=nt(12,r,t,s|2),e.elementType=Ka,e.lanes=a,e;case Ga:return e=nt(13,r,t,s),e.elementType=Ga,e.lanes=a,e;case Ja:return e=nt(19,r,t,s),e.elementType=Ja,e.lanes=a,e;case ld:return Xi(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case id:l=10;break e;case ad:l=9;break e;case io:l=11;break e;case ao:l=14;break e;case qt:l=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=nt(l,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Nr(e,t,r,n){return e=nt(7,e,n,t),e.lanes=r,e}function Xi(e,t,r,n){return e=nt(22,e,n,t),e.elementType=ld,e.lanes=r,e.stateNode={isHidden:!1},e}function Ua(e,t,r){return e=nt(6,e,null,t),e.lanes=r,e}function Da(e,t,r){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xx(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=va(0),this.expirationTimes=va(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Bo(e,t,r,n,s,a,l,c,o){return e=new xx(e,t,r,c,o),t===1?(t=1,a===!0&&(t|=8)):t=0,a=nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bo(a),e}function yx(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Xh(e){if(!e)return or;e=e._reactInternals;e:{if(Tr(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(Ve(r))return Xd(e,r,t)}return t}function Zh(e,t,r,n,s,a,l,c,o){return e=Bo(r,n,!0,e,s,a,l,c,o),e.context=Xh(null),r=e.current,n=Le(),s=sr(r),a=Ot(n,s),a.callback=t??null,rr(r,a,s),e.current.lanes=s,ks(e,s,n),We(e,n),e}function Zi(e,t,r,n){var s=t.current,a=Le(),l=sr(s);return r=Xh(r),t.context===null?t.context=r:t.pendingContext=r,t=Ot(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rr(s,t,l),e!==null&&(pt(e,s,l,a),ii(e,s,l)),l}function $i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function uu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qo(e,t){uu(e,t),(e=e.alternate)&&uu(e,t)}function vx(){return null}var ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function Vo(e){this._internalRoot=e}ea.prototype.render=Vo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Zi(e,t,null,null)};ea.prototype.unmount=Vo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cr(function(){Zi(null,e,null,null)}),t[$t]=null}};function ea(e){this._internalRoot=e}ea.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ht.length&&t!==0&&t<Ht[r].priority;r++);Ht.splice(r,0,e),r===0&&Ad(e)}};function Wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ta(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function du(){}function gx(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=$i(l);a.call(u)}}var l=Zh(t,n,e,0,null,!1,!1,"",du);return e._reactRootContainer=l,e[$t]=l.current,os(e.nodeType===8?e.parentNode:e),Cr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=$i(o);c.call(u)}}var o=Bo(e,0,!1,null,null,!1,!1,"",du);return e._reactRootContainer=o,e[$t]=o.current,os(e.nodeType===8?e.parentNode:e),Cr(function(){Zi(t,o,r,n)}),o}function ra(e,t,r,n,s){var a=r._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var c=s;s=function(){var o=$i(l);c.call(o)}}Zi(t,l,e,s)}else l=gx(r,t,e,s,n);return $i(l)}Pd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Un(t.pendingLanes);r!==0&&(co(t,r|1),We(t,he()),!(K&6)&&(fn=he()+500,dr()))}break;case 13:Cr(function(){var n=It(e,1);if(n!==null){var s=Le();pt(n,e,1,s)}}),qo(e,1)}};uo=function(e){if(e.tag===13){var t=It(e,134217728);if(t!==null){var r=Le();pt(t,e,134217728,r)}qo(e,134217728)}};Td=function(e){if(e.tag===13){var t=sr(e),r=It(e,t);if(r!==null){var n=Le();pt(r,e,t,n)}qo(e,t)}};Rd=function(){return Z};Od=function(e,t){var r=Z;try{return Z=e,t()}finally{Z=r}};al=function(e,t,r){switch(t){case"input":if(Za(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Hi(n);if(!s)throw Error(R(90));cd(n),Za(n,s)}}}break;case"textarea":dd(e,r);break;case"select":t=r.value,t!=null&&Xr(e,!!r.multiple,t,!1)}};vd=Do;gd=Cr;var wx={usingClientEntryPoint:!1,Events:[Ss,Wr,Hi,xd,yd,Do]},An={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jx={bundleType:An.bundleType,version:An.version,rendererPackageName:An.rendererPackageName,rendererConfig:An.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_d(e),e===null?null:e.stateNode},findFiberByHostInstance:An.findFiberByHostInstance||vx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{Bi=Qs.inject(jx),_t=Qs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wx;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wo(t))throw Error(R(200));return yx(e,t,null,r)};Xe.createRoot=function(e,t){if(!Wo(e))throw Error(R(299));var r=!1,n="",s=ef;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Bo(e,1,!1,null,null,r,!1,n,s),e[$t]=t.current,os(e.nodeType===8?e.parentNode:e),new Vo(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=_d(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Cr(e)};Xe.hydrate=function(e,t,r){if(!ta(t))throw Error(R(200));return ra(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!Wo(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",l=ef;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Zh(t,null,e,1,r??null,s,!1,a,l),e[$t]=t.current,os(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ea(t)};Xe.render=function(e,t,r){if(!ta(t))throw Error(R(200));return ra(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!ta(e))throw Error(R(40));return e._reactRootContainer?(Cr(function(){ra(null,null,e,!1,function(){e._reactRootContainer=null,e[$t]=null})}),!0):!1};Xe.unstable_batchedUpdates=Do;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ta(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return ra(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function tf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(tf)}catch(e){console.error(e)}}tf(),td.exports=Xe;var _x=td.exports,hu=_x;Ha.createRoot=hu.createRoot,Ha.hydrateRoot=hu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ys(){return ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ys.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const fu="popstate";function Nx(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:l,hash:c}=n.location;return Ml("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ii(s)}return bx(t,r,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kx(){return Math.random().toString(36).substr(2,8)}function mu(e,t){return{usr:e.state,key:e.key,idx:t}}function Ml(e,t,r,n){return r===void 0&&(r=null),ys({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?gn(t):t,{state:r,key:t&&t.key||n||kx()})}function Ii(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function gn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function bx(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,l=s.history,c=Yt.Pop,o=null,u=d();u==null&&(u=0,l.replaceState(ys({},l.state,{idx:u}),""));function d(){return(l.state||{idx:null}).idx}function h(){c=Yt.Pop;let w=d(),y=w==null?null:w-u;u=w,o&&o({action:c,location:v.location,delta:y})}function f(w,y){c=Yt.Push;let m=Ml(v.location,w,y);u=d()+1;let p=mu(m,u),_=v.createHref(m);try{l.pushState(p,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}a&&o&&o({action:c,location:v.location,delta:1})}function x(w,y){c=Yt.Replace;let m=Ml(v.location,w,y);u=d();let p=mu(m,u),_=v.createHref(m);l.replaceState(p,"",_),a&&o&&o({action:c,location:v.location,delta:0})}function g(w){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof w=="string"?w:Ii(w);return m=m.replace(/ $/,"%20"),fe(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let v={get action(){return c},get location(){return e(s,l)},listen(w){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(fu,h),o=w,()=>{s.removeEventListener(fu,h),o=null}},createHref(w){return t(s,w)},createURL:g,encodeLocation(w){let y=g(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:x,go(w){return l.go(w)}};return v}var pu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pu||(pu={}));function Sx(e,t,r){return r===void 0&&(r="/"),Ex(e,t,r)}function Ex(e,t,r,n){let s=typeof t=="string"?gn(t):t,a=Ho(s.pathname||"/",r);if(a==null)return null;let l=nf(e);Cx(l);let c=null;for(let o=0;c==null&&o<l.length;++o){let u=zx(a);c=Ux(l[o],u)}return c}function nf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,l,c)=>{let o={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};o.relativePath.startsWith("/")&&(fe(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),o.relativePath=o.relativePath.slice(n.length));let u=ar([n,o.relativePath]),d=r.concat(o);a.children&&a.children.length>0&&(fe(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),nf(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:$x(u,a.index),routesMeta:d})};return e.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let o of sf(a.path))s(a,l,o)}),t}function sf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let l=sf(n.join("/")),c=[];return c.push(...l.map(o=>o===""?a:[a,o].join("/"))),s&&c.push(...l),c.map(o=>e.startsWith("/")&&o===""?"/":o)}function Cx(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Ix(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Px=/^:[\w-]+$/,Tx=3,Rx=2,Ox=1,Ax=10,Lx=-2,xu=e=>e==="*";function $x(e,t){let r=e.split("/"),n=r.length;return r.some(xu)&&(n+=Lx),t&&(n+=Rx),r.filter(s=>!xu(s)).reduce((s,a)=>s+(Px.test(a)?Tx:a===""?Ox:Ax),n)}function Ix(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Ux(e,t,r){let{routesMeta:n}=e,s={},a="/",l=[];for(let c=0;c<n.length;++c){let o=n[c],u=c===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Dx({path:o.relativePath,caseSensitive:o.caseSensitive,end:u},d),f=o.route;if(!h)return null;Object.assign(s,h.params),l.push({params:s,pathname:ar([a,h.pathname]),pathnameBase:Vx(ar([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=ar([a,h.pathnameBase]))}return l}function Dx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Mx(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:x}=d;if(f==="*"){let v=c[h]||"";l=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=c[h];return x&&!g?u[f]=void 0:u[f]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:l,pattern:e}}function Mx(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,o)=>(n.push({paramName:c,isOptional:o!=null}),o?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function zx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Ho(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Fx(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?gn(e):e;return{pathname:r?r.startsWith("/")?r:Bx(r,t):t,search:Wx(n),hash:Hx(s)}}function Bx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ma(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qx(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Qo(e,t){let r=qx(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ko(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=gn(e):(s=ys({},e),fe(!s.pathname||!s.pathname.includes("?"),Ma("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Ma("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Ma("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}c=h>=0?t[h]:"/"}let o=Fx(s,c),u=l&&l!=="/"&&l.endsWith("/"),d=(a||l===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}const ar=e=>e.join("/").replace(/\/\/+/g,"/"),Vx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Wx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Qx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const af=["post","put","patch","delete"];new Set(af);const Kx=["get",...af];new Set(Kx);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vs(){return vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vs.apply(this,arguments)}const Go=j.createContext(null),Gx=j.createContext(null),hr=j.createContext(null),na=j.createContext(null),zt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),lf=j.createContext(null);function Jx(e,t){let{relative:r}=t===void 0?{}:t;wn()||fe(!1);let{basename:n,navigator:s}=j.useContext(hr),{hash:a,pathname:l,search:c}=cf(e,{relative:r}),o=l;return n!=="/"&&(o=l==="/"?n:ar([n,l])),s.createHref({pathname:o,search:c,hash:a})}function wn(){return j.useContext(na)!=null}function Rr(){return wn()||fe(!1),j.useContext(na).location}function of(e){j.useContext(hr).static||j.useLayoutEffect(e)}function jn(){let{isDataRoute:e}=j.useContext(zt);return e?c0():Yx()}function Yx(){wn()||fe(!1);let e=j.useContext(Go),{basename:t,future:r,navigator:n}=j.useContext(hr),{matches:s}=j.useContext(zt),{pathname:a}=Rr(),l=JSON.stringify(Qo(s,r.v7_relativeSplatPath)),c=j.useRef(!1);return of(()=>{c.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!c.current)return;if(typeof u=="number"){n.go(u);return}let h=Ko(u,JSON.parse(l),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ar([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,l,a,e])}function sa(){let{matches:e}=j.useContext(zt),t=e[e.length-1];return t?t.params:{}}function cf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=j.useContext(hr),{matches:s}=j.useContext(zt),{pathname:a}=Rr(),l=JSON.stringify(Qo(s,n.v7_relativeSplatPath));return j.useMemo(()=>Ko(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function Xx(e,t){return Zx(e,t)}function Zx(e,t,r,n){wn()||fe(!1);let{navigator:s}=j.useContext(hr),{matches:a}=j.useContext(zt),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let o=l?l.pathnameBase:"/";l&&l.route;let u=Rr(),d;if(t){var h;let w=typeof t=="string"?gn(t):t;o==="/"||(h=w.pathname)!=null&&h.startsWith(o)||fe(!1),d=w}else d=u;let f=d.pathname||"/",x=f;if(o!=="/"){let w=o.replace(/^\//,"").split("/");x="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=Sx(e,{pathname:x}),v=s0(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},c,w.params),pathname:ar([o,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?o:ar([o,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&v?j.createElement(na.Provider,{value:{location:vs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yt.Pop}},v):v}function e0(){let e=o0(),t=Qx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:s},r):null,null)}const t0=j.createElement(e0,null);class r0 extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(zt.Provider,{value:this.props.routeContext},j.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n0(e){let{routeContext:t,match:r,children:n}=e,s=j.useContext(Go);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(zt.Provider,{value:t},n)}function s0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,c=(s=r)==null?void 0:s.errors;if(c!=null){let d=l.findIndex(h=>h.route.id&&(c==null?void 0:c[h.route.id])!==void 0);d>=0||fe(!1),l=l.slice(0,Math.min(l.length,d+1))}let o=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<l.length;d++){let h=l[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:x}=r,g=h.route.loader&&f[h.route.id]===void 0&&(!x||x[h.route.id]===void 0);if(h.route.lazy||g){o=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((d,h,f)=>{let x,g=!1,v=null,w=null;r&&(x=c&&h.route.id?c[h.route.id]:void 0,v=h.route.errorElement||t0,o&&(u<0&&f===0?(u0("route-fallback"),g=!0,w=null):u===f&&(g=!0,w=h.route.hydrateFallbackElement||null)));let y=t.concat(l.slice(0,f+1)),m=()=>{let p;return x?p=v:g?p=w:h.route.Component?p=j.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,j.createElement(n0,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:p})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(r0,{location:r.location,revalidation:r.revalidation,component:v,error:x,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var uf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(uf||{}),df=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(df||{});function i0(e){let t=j.useContext(Go);return t||fe(!1),t}function a0(e){let t=j.useContext(Gx);return t||fe(!1),t}function l0(e){let t=j.useContext(zt);return t||fe(!1),t}function hf(e){let t=l0(),r=t.matches[t.matches.length-1];return r.route.id||fe(!1),r.route.id}function o0(){var e;let t=j.useContext(lf),r=a0(),n=hf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function c0(){let{router:e}=i0(uf.UseNavigateStable),t=hf(df.UseNavigateStable),r=j.useRef(!1);return of(()=>{r.current=!0}),j.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,vs({fromRouteId:t},a)))},[e,t])}const yu={};function u0(e,t,r){yu[e]||(yu[e]=!0)}function d0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Jo(e){let{to:t,replace:r,state:n,relative:s}=e;wn()||fe(!1);let{future:a,static:l}=j.useContext(hr),{matches:c}=j.useContext(zt),{pathname:o}=Rr(),u=jn(),d=Ko(t,Qo(c,a.v7_relativeSplatPath),o,s==="path"),h=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Oe(e){fe(!1)}function h0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Yt.Pop,navigator:a,static:l=!1,future:c}=e;wn()&&fe(!1);let o=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:o,navigator:a,static:l,future:vs({v7_relativeSplatPath:!1},c)}),[o,c,a,l]);typeof n=="string"&&(n=gn(n));let{pathname:d="/",search:h="",hash:f="",state:x=null,key:g="default"}=n,v=j.useMemo(()=>{let w=Ho(d,o);return w==null?null:{location:{pathname:w,search:h,hash:f,state:x,key:g},navigationType:s}},[o,d,h,f,x,g,s]);return v==null?null:j.createElement(hr.Provider,{value:u},j.createElement(na.Provider,{children:r,value:v}))}function vu(e){let{children:t,location:r}=e;return Xx(zl(t),r)}new Promise(()=>{});function zl(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,s)=>{if(!j.isValidElement(n))return;let a=[...t,s];if(n.type===j.Fragment){r.push.apply(r,zl(n.props.children,a));return}n.type!==Oe&&fe(!1),!n.props.index||!n.props.children||fe(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=zl(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function f0(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function m0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function p0(e,t){return e.button===0&&(!t||t==="_self")&&!m0(e)}function Bl(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function x0(e,t){let r=Bl(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const y0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v0="6";try{window.__reactRouterVersion=v0}catch{}const g0="startTransition",gu=dm[g0];function w0(e){let{basename:t,children:r,future:n,window:s}=e,a=j.useRef();a.current==null&&(a.current=Nx({window:s,v5Compat:!0}));let l=a.current,[c,o]=j.useState({action:l.action,location:l.location}),{v7_startTransition:u}=n||{},d=j.useCallback(h=>{u&&gu?gu(()=>o(h)):o(h)},[o,u]);return j.useLayoutEffect(()=>l.listen(d),[l,d]),j.useEffect(()=>d0(n),[n]),j.createElement(h0,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const j0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=j.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:l,state:c,target:o,to:u,preventScrollReset:d,viewTransition:h}=t,f=f0(t,y0),{basename:x}=j.useContext(hr),g,v=!1;if(typeof u=="string"&&_0.test(u)&&(g=u,j0))try{let p=new URL(window.location.href),_=u.startsWith("//")?new URL(p.protocol+u):new URL(u),k=Ho(_.pathname,x);_.origin===p.origin&&k!=null?u=k+_.search+_.hash:v=!0}catch{}let w=Jx(u,{relative:s}),y=N0(u,{replace:l,state:c,target:o,preventScrollReset:d,relative:s,viewTransition:h});function m(p){n&&n(p),p.defaultPrevented||y(p)}return j.createElement("a",Fl({},f,{href:g||w,onClick:v||a?n:m,ref:r,target:o}))});var wu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wu||(wu={}));var ju;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ju||(ju={}));function N0(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c}=t===void 0?{}:t,o=jn(),u=Rr(),d=cf(e,{relative:l});return j.useCallback(h=>{if(p0(h,r)){h.preventDefault();let f=n!==void 0?n:Ii(u)===Ii(d);o(e,{replace:f,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[u,o,d,n,s,r,e,a,l,c])}function ff(e){let t=j.useRef(Bl(e)),r=j.useRef(!1),n=Rr(),s=j.useMemo(()=>x0(n.search,r.current?null:t.current),[n.search]),a=jn(),l=j.useCallback((c,o)=>{const u=Bl(typeof c=="function"?c(s):c);r.current=!0,a("?"+u,o)},[a,s]);return[s,l]}const k0="modulepreload",b0=function(e){return"/"+e},_u={},Cs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(o=>{if(o=b0(o),o in _u)return;_u[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":k0,u||(h.as="script"),h.crossOrigin="",h.href=o,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((f,x)=>{h.addEventListener("load",f),h.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${o}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},S0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Yo extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class E0 extends Yo{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class C0 extends Yo{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class P0 extends Yo{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ql;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ql||(ql={}));var T0=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class R0{constructor(t,{headers:r={},customFetch:n,region:s=ql.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=S0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return T0(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:l}=r;let c={},{region:o}=r;o||(o=this.region),o&&o!=="any"&&(c["x-region"]=o);let u;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",u=l):typeof l=="string"?(c["Content-Type"]="text/plain",u=l):typeof FormData<"u"&&l instanceof FormData?u=l:(c["Content-Type"]="application/json",u=JSON.stringify(l)));const d=yield this.fetch(`${this.url}/${t}`,{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),s),body:u}).catch(g=>{throw new E0(g)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new C0(d);if(!d.ok)throw new P0(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return f==="application/json"?x=yield d.json():f==="application/octet-stream"?x=yield d.blob():f==="text/event-stream"?x=d:f==="multipart/form-data"?x=yield d.formData():x=yield d.text(),{data:x,error:null}}catch(s){return{data:null,error:s}}})}}var Fe={},Xo={},ia={},Ps={},aa={},la={},O0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},mn=O0();const A0=mn.fetch,mf=mn.fetch.bind(mn),pf=mn.Headers,L0=mn.Request,$0=mn.Response,_n=Object.freeze(Object.defineProperty({__proto__:null,Headers:pf,Request:L0,Response:$0,default:mf,fetch:A0},Symbol.toStringTag,{value:"Module"})),I0=Gf(_n);var oa={};Object.defineProperty(oa,"__esModule",{value:!0});let U0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};oa.default=U0;var xf=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(la,"__esModule",{value:!0});const D0=xf(I0),M0=xf(oa);let z0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=D0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var l,c,o;let u=null,d=null,h=null,f=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),w=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");v&&w&&w.length>1&&(h=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,x="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,x="OK")}catch{a.status===404&&v===""?(f=204,x="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((o=u==null?void 0:u.details)===null||o===void 0)&&o.includes("0 rows"))&&(u=null,f=200,x="OK"),u&&this.shouldThrowOnError)throw new M0.default(u)}return{error:u,data:d,count:h,status:f,statusText:x}});return this.shouldThrowOnError||(s=s.catch(a=>{var l,c,o;return{error:{message:`${(l=a==null?void 0:a.name)!==null&&l!==void 0?l:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(c=a==null?void 0:a.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=a==null?void 0:a.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};la.default=z0;var F0=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(aa,"__esModule",{value:!0});const B0=F0(la);let q0=class extends B0.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const l=a?`${a}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,l=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(l,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${u}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};aa.default=q0;var V0=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ps,"__esModule",{value:!0});const W0=V0(aa);let H0=class extends W0.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const l=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${l}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Ps.default=H0;var Q0=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ia,"__esModule",{value:!0});const Ln=Q0(Ps);let K0=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!a?"":(c==='"'&&(a=!a),c)).join("");return this.url.searchParams.set("select",l),n&&(this.headers.Prefer=`count=${n}`),new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ln.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const l="POST",c=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),a||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ln.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ln.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ln.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ia.default=K0;var ca={},ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.version=void 0;ua.version="0.0.0-automated";Object.defineProperty(ca,"__esModule",{value:!0});ca.DEFAULT_HEADERS=void 0;const G0=ua;ca.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${G0.version}`};var yf=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xo,"__esModule",{value:!0});const J0=yf(ia),Y0=yf(Ps),X0=ca;let Z0=class vf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},X0.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new J0.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new vf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{c.searchParams.append(d,h)})):(l="POST",o=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new Y0.default({method:l,url:c,headers:u,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};Xo.default=Z0;var Nn=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;const gf=Nn(Xo);Fe.PostgrestClient=gf.default;const wf=Nn(ia);Fe.PostgrestQueryBuilder=wf.default;const jf=Nn(Ps);Fe.PostgrestFilterBuilder=jf.default;const _f=Nn(aa);Fe.PostgrestTransformBuilder=_f.default;const Nf=Nn(la);Fe.PostgrestBuilder=Nf.default;const kf=Nn(oa);Fe.PostgrestError=kf.default;var ey=Fe.default={PostgrestClient:gf.default,PostgrestQueryBuilder:wf.default,PostgrestFilterBuilder:jf.default,PostgrestTransformBuilder:_f.default,PostgrestBuilder:Nf.default,PostgrestError:kf.default};const{PostgrestClient:ty,PostgrestQueryBuilder:Pg,PostgrestFilterBuilder:Tg,PostgrestTransformBuilder:Rg,PostgrestBuilder:Og,PostgrestError:Ag}=ey;function ry(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const ny=ry(),sy="2.11.15",iy=`realtime-js/${sy}`,ay="1.0.0",bf=1e4,ly=1e3;var Jn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jn||(Jn={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ht||(ht={}));var Vl;(function(e){e.websocket="websocket"})(Vl||(Vl={}));var vr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(vr||(vr={}));class oy{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let l=this.HEADER_LENGTH+2;const c=n.decode(t.slice(l,l+s));l=l+s;const o=n.decode(t.slice(l,l+a));l=l+a;const u=JSON.parse(n.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:u}}}class Sf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const Nu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,l)=>(a[l]=cy(l,e,t,s),a),{})},cy=(e,t,r,n)=>{const s=t.find(c=>c.name===e),a=s==null?void 0:s.type,l=r[e];return a&&!n.includes(a)?Ef(a,l):Wl(l)},Ef=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return fy(t,r)}switch(e){case re.bool:return uy(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return dy(t);case re.json:case re.jsonb:return hy(t);case re.timestamp:return my(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Wl(t);default:return Wl(t)}},Wl=e=>e,uy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},hy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},fy=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const l=e.slice(1,r);try{a=JSON.parse("["+l+"]")}catch{a=l?l.split(","):[]}return a.map(c=>Ef(t,c))}return e},my=e=>typeof e=="string"?e.replace(" ","T"):e,Cf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class za{constructor(t,r,n={},s=bf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ku;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ku||(ku={}));class Yn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yn.syncState(this.state,s,a,l),this.pendingDiffs.forEach(o=>{this.state=Yn.syncDiff(this.state,o,a,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Yn.syncDiff(this.state,s,a,l),c())}),this.onJoin((s,a,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:l})}),this.onLeave((s,a,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),l=this.transformState(r),c={},o={};return this.map(a,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const h=a[u];if(h){const f=d.map(w=>w.presence_ref),x=h.map(w=>w.presence_ref),g=d.filter(w=>x.indexOf(w.presence_ref)<0),v=h.filter(w=>f.indexOf(w.presence_ref)<0);g.length>0&&(c[u]=g),v.length>0&&(o[u]=v)}else c[u]=d}),this.syncDiff(a,{joins:c,leaves:o},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const h=t[c].map(x=>x.presence_ref),f=d.filter(x=>h.indexOf(x.presence_ref)<0);t[c].unshift(...f)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[c]=u,s(c,u,o),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bu||(bu={}));var Su;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Su||(Su={}));var Et;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class Zo{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new za(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Sf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Yn(this),this.broadcastEndpointURL=Cf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params;this._onError(d=>t==null?void 0:t(Et.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Et.CLOSED));const o={},u={broadcast:a,presence:l,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},o)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Et.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,x=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,g=[];for(let v=0;v<x;v++){const w=f[v],{filter:{event:y,schema:m,table:p,filter:_}}=w,k=d&&d[v];if(k&&k.event===y&&k.schema===m&&k.table===p&&k.filter===_)g.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Et.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ee.errored,t==null||t(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var l,c,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new za(this,ht.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new za(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=ht;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let f=this._onMessage(l,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var g,v,w;return((g=x.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(v=x.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(x=>x.callback(f,n)):(a=this.bindings[l])===null||a===void 0||a.filter(x=>{var g,v,w,y,m,p;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in x){const _=x.id,k=(g=x.filter)===null||g===void 0?void 0:g.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(y=x==null?void 0:x.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===l}).map(x=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:v,table:w,commit_timestamp:y,type:m,errors:p}=g;f=Object.assign(Object.assign({},{schema:v,table:w,commit_timestamp:y,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(g))}x.callback(f,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Zo.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ht.close,{},t)}_onError(t){this._on(ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Nu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Nu(t.columns,t.old_record)),r}}const Eu=()=>{},py=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xy{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eu,this.ref=0,this.logger=Eu,this.conn=null,this.sendBuffer=[],this.serializer=new oy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let l;return a?l=a:typeof fetch>"u"?l=(...c)=>Cs(async()=>{const{default:o}=await Promise.resolve().then(()=>_n);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${Vl.websocket}`,this.httpEndpoint=Cf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,l)=>l(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ny),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ay}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jn.connecting:return vr.Connecting;case Jn.open:return vr.Open;case Jn.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Zo(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:iy};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ht.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(ly,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:l}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${l&&"("+l+")"||""}`,a),Array.from(this.channels).filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,a,l)),this.stateChangeCallbacks.message.forEach(c=>c(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([py],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class ec extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class yy extends ec{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Hl extends ec{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var vy=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const Pf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},gy=()=>vy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Cs(()=>Promise.resolve().then(()=>_n),void 0)).Response:Response}),Ql=e=>{if(Array.isArray(e))return e.map(r=>Ql(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Ql(n)}),t};var Or=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const Fa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wy=(e,t,r)=>Or(void 0,void 0,void 0,function*(){const n=yield gy();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new yy(Fa(s),e.status||500))}).catch(s=>{t(new Hl(Fa(s),s))}):t(new Hl(Fa(e),e))}),jy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ts(e,t,r,n,s,a){return Or(this,void 0,void 0,function*(){return new Promise((l,c)=>{e(r,jy(t,n,s,a)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>wy(o,c,n))})})}function Ui(e,t,r,n){return Or(this,void 0,void 0,function*(){return Ts(e,"GET",t,r,n)})}function Wt(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Ts(e,"POST",t,n,s,r)})}function _y(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Ts(e,"PUT",t,n,s,r)})}function Ny(e,t,r,n){return Or(this,void 0,void 0,function*(){return Ts(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tf(e,t,r,n,s){return Or(this,void 0,void 0,function*(){return Ts(e,"DELETE",t,n,s,r)})}var Me=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const ky={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class by{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Pf(s)}uploadOrUpdate(t,r,n,s){return Me(this,void 0,void 0,function*(){try{let a;const l=Object.assign(Object.assign({},Cu),s);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",l.cacheControl),o&&a.append("metadata",this.encodeMetadata(o))):(a=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),s!=null&&s.headers&&(c=Object.assign(Object.assign({},c),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if(ve(a))return{data:null,error:a};throw a}})}upload(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Me(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),l=this._getFinalPath(a),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:Cu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(ve(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return Me(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Wt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+a.url),c=l.searchParams.get("token");if(!c)throw new ec("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}update(t,r,n){return Me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Me(this,void 0,void 0,function*(){try{return{data:{path:(yield Wt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Wt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${l}`)},{data:a,error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=yield Wt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${a}`):null})),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}download(t,r){return Me(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=a?`?${a}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield Ui(this.fetch,`${this.url}/${s}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(ve(c))return{data:null,error:c};throw c}})}info(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ui(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ql(n),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}exists(t){return Me(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ny(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ve(n)&&n instanceof Hl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const c=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${n}${u}`)}}}remove(t){return Me(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}list(t,r,n){return Me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ky),r),{prefix:t||""});return{data:yield Wt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Sy="2.7.1",Ey={"X-Client-Info":`storage-js/${Sy}`};var $r=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class Cy{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Ey),r),this.fetch=Pf(n)}listBuckets(){return $r(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}getBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return $r(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return $r(this,void 0,void 0,function*(){try{return{data:yield _y(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $r(this,void 0,void 0,function*(){try{return{data:yield Tf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}}class Py extends Cy{constructor(t,r={},n){super(t,r,n)}from(t){return new by(this.url,this.headers,t,this.fetch)}}const Ty="2.50.2";let Mn="";typeof Deno<"u"?Mn="deno":typeof document<"u"?Mn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Mn="react-native":Mn="node";const Ry={"X-Client-Info":`supabase-js-${Mn}/${Ty}`},Oy={headers:Ry},Ay={schema:"public"},Ly={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$y={};var Iy=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};const Uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=mf:t=fetch,(...r)=>t(...r)},Dy=()=>typeof Headers>"u"?pf:Headers,My=(e,t,r)=>{const n=Uy(r),s=Dy();return(a,l)=>Iy(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:e;let u=new s(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(a,Object.assign(Object.assign({},l),{headers:u}))})};var zy=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};function Fy(e){return e.endsWith("/")?e:e+"/"}function By(e,t){var r,n;const{db:s,auth:a,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),l),global:Object.assign(Object.assign(Object.assign({},h),c),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>zy(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Rf="2.70.0",Mr=30*1e3,Kl=3,Ba=Kl*Mr,qy="http://localhost:9999",Vy="supabase.auth.token",Wy={"X-Client-Info":`gotrue-js/${Rf}`},Gl="X-Supabase-Api-Version",Of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qy=6e5;class tc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ky extends tc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Gy(e){return q(e)&&e.name==="AuthApiError"}class Af extends tc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fr extends tc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Bt extends fr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jy(e){return q(e)&&e.name==="AuthSessionMissingError"}class Ks extends fr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gs extends fr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Js extends fr{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yy(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pu extends fr{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Jl extends fr{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function qa(e){return q(e)&&e.name==="AuthRetryableFetchError"}class Tu extends fr{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xn extends fr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ru=` 	
\r=`.split(""),Xy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ru.length;t+=1)e[Ru[t].charCodeAt(0)]=-2;for(let t=0;t<Di.length;t+=1)e[Di[t].charCodeAt(0)]=t;return e})();function Ou(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Di[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Di[n]),t.queuedBits-=6}}function Lf(e,t,r){const n=Xy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Au(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=l=>{tv(l,n,r)};for(let l=0;l<e.length;l+=1)Lf(e.charCodeAt(l),s,a);return t.join("")}function Zy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ev(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Zy(n,t)}}function tv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function rv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Lf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function nv(e){const t=[];return ev(e,r=>t.push(r)),new Uint8Array(t)}function sv(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Ou(s,r,n)),Ou(null,r,n),t.join("")}function iv(e){return Math.round(Date.now()/1e3)+e}function av(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ct=()=>typeof window<"u"&&typeof document<"u",mr={tested:!1,writable:!1},Zn=()=>{if(!ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mr.tested)return mr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mr.tested=!0,mr.writable=!0}catch{mr.tested=!0,mr.writable=!1}return mr.writable};function lv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const $f=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Cs(async()=>{const{default:n}=await Promise.resolve().then(()=>_n);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ov=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",If=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ys=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Xs=async(e,t)=>{await e.removeItem(t)};class da{constructor(){this.promise=new da.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}da.promiseConstructor=Promise;function Va(e){const t=e.split(".");if(t.length!==3)throw new Xn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Hy.test(t[n]))throw new Xn("JWT not in base64url format");return{header:JSON.parse(Au(t[0])),payload:JSON.parse(Au(t[1])),signature:rv(t[2]),raw:{header:t[0],payload:t[1]}}}async function cv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uv(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const l=await e(a);if(!t(a,null,l)){n(l);return}}catch(l){if(!t(a,l)){s(l);return}}})()})}function dv(e){return("0"+e.toString(16)).substr(-2)}function hv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,dv).join("")}async function fv(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function mv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await fv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ir(e,t,r=!1){const n=hv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await If(e,`${t}-code-verifier`,s);const a=await mv(n);return[a,n===a?"plain":"s256"]}const pv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xv(e){const t=e.headers.get(Gl);if(!t||!t.match(pv))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ur(e){if(!gv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var wv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const yr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jv=[502,503,504];async function Lu(e){var t;if(!ov(e))throw new Jl(yr(e),0);if(jv.includes(e.status))throw new Jl(yr(e),e.status);let r;try{r=await e.json()}catch(a){throw new Af(yr(a),a)}let n;const s=xv(e);if(s&&s.getTime()>=Of["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Tu(yr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Bt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0))throw new Tu(yr(r),e.status,r.weak_password.reasons);throw new Ky(yr(r),e.status||500,n)}const _v=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function W(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Gl]||(a[Gl]=Of["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await Nv(e,t,r+c,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function Nv(e,t,r,n,s,a){const l=_v(t,n,s,a);let c;try{c=await e(r,Object.assign({},l))}catch(o){throw console.error(o),new Jl(yr(o),0)}if(c.ok||await Lu(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await Lu(o)}}function bt(e){var t;let r=null;Ev(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=iv(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $u(e){const t=bt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kv(e){return{data:e,error:null}}function bv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,l=wv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function Sv(e){return e}function Ev(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wa=["global","local","others"];var Cv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class Pv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=$f(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Wa[0]){if(Wa.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wa.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Cv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:bv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(q(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Sv});if(d.error)throw d.error;const h=await d.json(),f=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,x=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return x.length>0&&(x.forEach(g=>{const v=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ur(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ur(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ur(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ur(t.userId);try{const{data:r,error:n}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(q(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ur(t.userId),Ur(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}}const Tv={getItem:e=>Zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Zn()&&globalThis.localStorage.removeItem(e)}};function Iu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Rv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Dr={debug:!!(globalThis&&Zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ov extends Uf{}async function Av(e,t,r){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Dr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ov(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Dr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Rv();const Lv={url:qy,storageKey:Vy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uu(e,t,r){return await r()}class gs{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=gs.nextInstanceID,gs.nextInstanceID+=1,this.instanceID>0&&ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Lv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Pv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$f(s.fetch),this.lock=s.lock||Uu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:ct()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Av:this.lock=Uu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Zn()?this.storage=Tv:(this.memoryStorage={},this.storage=Iu(this.memoryStorage)):(this.memoryStorage={},this.storage=Iu(this.memoryStorage)),ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Rf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=lv(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ct()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Yy(a)){const o=(t=a.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:l,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return q(r)?{error:r}:{error:new Af("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:bt}),{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let x=null,g=null;this.flowType==="pkce"&&([x,g]=await Ir(this.storage,this.storageKey)),a=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:g},xform:bt})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:bt})}else throw new Gs("You must provide either an email or phone number and a password");const{data:l,error:c}=a;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:l,options:c}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:$u})}else if("phone"in t){const{phone:a,password:l,options:c}=t;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:$u})}else throw new Gs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ks}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,l,c,o,u,d,h,f,x;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:w,wallet:y,statement:m,options:p}=t;let _;if(ct())if(typeof y=="object")_=y;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const k=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),m?{statement:m}:null));let N;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")N=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)N=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),v=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=C}}try{const{data:w,error:y}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:sv(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:bt});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ks}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(q(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:l}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:bt});if(await Xs(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ks}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:l})}catch(a){if(q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:l}=t,c=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:bt}),{data:o,error:u}=c;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Ks}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ir(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=o==null?void 0:o.data)!==null&&s!==void 0?s:{},create_user:(a=o==null?void 0:o.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Gs("You must provide either an email or phone number.")}catch(c){if(q(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:bt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,l=null;return this.flowType==="pkce"&&([a,l]=await Ir(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:kv})}catch(a){if(q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Bt;const{error:s}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:l}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:l,error:c}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Gs("You must provide either an email or phone number and a type")}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ys(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ba:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!l&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async r=>{var n,s,a;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Kt})})}catch(r){if(q(r))return Jy(r)&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Bt;const l=s.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await Ir(this.storage,this.storageKey));const{data:u,error:d}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:Kt});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(q(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Bt;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:l}=Va(t.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};a=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(q(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Bt;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(q(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!ct())throw new Js("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Js(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Js("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pu("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!a||!c||!l||!u)throw new Js("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(c);let f=d+h;o&&(f=parseInt(o));const x=f-d;x*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${h}s`);const g=f-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,d);const{data:v,error:w}=await this._getUser(a);if(w)throw w;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:l,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(q(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ys(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(Gy(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Xs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=av(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ir(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var l,c,o,u,d;const{data:h,error:f}=a;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",x,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ct()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(q(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)throw l;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uv(async s=>(s>0&&await cv(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:bt})),(s,a)=>{const l=200*Math.pow(2,s);return a&&qa(a)&&Date.now()+l-n<Mr})}catch(n){if(this._debug(r,"error",n),q(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ct()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Ys(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ba;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Ba}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),qa(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new da;const{data:a,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!a.session)throw new Bt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(s,"error",a),q(a)){const l={session:null,error:a};return qa(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(o){a.push(o)}});if(await Promise.all(l),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await If(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await Xs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Mr}ms, refresh threshold is ${Kl} ticks`),s<=Kl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,l]=await Ir(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:l}=r;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await W(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=o==null?void 0:o.totp)===null||s===void 0)&&s.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(q(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(q(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(l=>l.factor_type==="totp"&&l.status==="verified"),a=n.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Va(s.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n||(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Qy>Date.now()))return n;const{data:s,error:a}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Xn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(l=>l.kid===t),!n)throw new Xn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:x,error:g}=await this.getSession();if(g||!x.session)return{data:null,error:g};n=x.session.access_token}const{header:s,payload:a,signature:l,raw:{header:c,payload:o}}=Va(n);if(yv(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:a,header:s,signature:l},error:null}}const u=vv(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,l,nv(`${c}.${o}`)))throw new Xn("Invalid JWT signature");return{data:{claims:a,header:s,signature:l},error:null}}catch(n){if(q(n))return{data:null,error:n};throw n}}}gs.nextInstanceID=0;const $v=gs;class Iv extends $v{constructor(t){super(t)}}var Uv=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(l){l(a)})}return new(r||(r=Promise))(function(a,l){function c(d){try{u(n.next(d))}catch(h){l(h)}}function o(d){try{u(n.throw(d))}catch(h){l(h)}}function u(d){d.done?a(d.value):s(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})};class Dv{constructor(t,r,n){var s,a,l;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const c=Fy(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const u=`sb-${o.hostname.split(".")[0]}-auth-token`,d={db:Ay,realtime:$y,auth:Object.assign(Object.assign({},Ly),{storageKey:u}),global:Oy},h=By(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=h.auth)!==null&&l!==void 0?l:{},this.headers,h.global.fetch),this.fetch=My(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new ty(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new R0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Py(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Uv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:l,lock:c,debug:o},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Iv({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:l,lock:c,debug:o,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mv=(e,t,r)=>new Dv(e,t,r),zv="https://hbtelrfocadpmfxynjal.supabase.co",Fv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhidGVscmZvY2FkcG1meHluamFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTExMjQ4NzUsImV4cCI6MjA2NjcwMDg3NX0.wq3u8n8r5qKARYb-knHWrfLSuDaiN8-sKb-qTXmxWpM",M=Mv(zv,Fv,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),Df=j.createContext(void 0);function Bv({children:e}){const[t,r]=j.useState(null),[n,s]=j.useState(null),[a,l]=j.useState(!0);j.useEffect(()=>{M.auth.getSession().then(({data:{session:f}})=>{s(f),r((f==null?void 0:f.user)??null),l(!1)});const{data:{subscription:h}}=M.auth.onAuthStateChange(async(f,x)=>{var g;if(s(x),r((x==null?void 0:x.user)??null),l(!1),f==="SIGNED_UP"&&(x!=null&&x.user))try{const{error:v}=await M.from("profiles").insert({id:x.user.id,email:x.user.email,full_name:((g=x.user.user_metadata)==null?void 0:g.full_name)||null,role:"creator"});v&&console.error("Error creating profile:",v)}catch(v){console.error("Error in profile creation:",v)}});return()=>h.unsubscribe()},[]);const d={user:t,session:n,loading:a,signIn:async(h,f)=>{const{error:x}=await M.auth.signInWithPassword({email:h,password:f});return{error:x}},signUp:async(h,f,x)=>{const{error:g}=await M.auth.signUp({email:h,password:f,options:{data:{full_name:x}}});return{error:g}},signOut:async()=>{await M.auth.signOut()}};return i.jsx(Df.Provider,{value:d,children:e})}function Ue(){const e=j.useContext(Df);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function qv({children:e}){const{user:t,loading:r}=Ue();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(Jo,{to:"/login",replace:!0})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:o,...u},d)=>j.createElement("svg",{ref:d,...Vv,width:s,height:s,stroke:n,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${Wv(e)}`,c].join(" "),...u},[...t.map(([h,f])=>j.createElement(h,f)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=V("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=V("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=V("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=V("CalendarX",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["line",{x1:"10",x2:"14",y1:"14",y2:"18",key:"1g3qc0"}],["line",{x1:"14",x2:"10",y1:"14",y2:"18",key:"1az83m"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=V("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=V("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=V("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=V("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=V("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ha=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=V("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=V("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=V("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=V("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=V("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=V("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=V("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=V("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=V("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=V("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=V("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=V("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fu=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=V("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=V("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function sg({children:e}){var c;const{user:t,signOut:r}=Ue(),n=Rr(),s=[{name:"Dashboard",href:"/dashboard",icon:Xv},{name:"Available Exams",href:"/available-exams",icon:wt},{name:"Exam History",href:"/exam-history",icon:Jv},{name:"Create Exam",href:"/exams/create",icon:Rt},{name:"Question Bank",href:"/questions",icon:Mi},{name:"Users",href:"/users",icon:At},{name:"Settings",href:"/settings",icon:Wf}],a=o=>n.pathname===o||n.pathname.startsWith(o+"/"),l=async()=>{try{await r()}catch(o){console.error("Error signing out:",o)}};return i.jsxs("div",{className:"flex h-screen bg-secondary-50",children:[i.jsx("div",{className:"hidden md:flex md:w-64 md:flex-col",children:i.jsxs("div",{className:"flex flex-col flex-grow pt-5 overflow-y-auto bg-white border-r border-secondary-200",children:[i.jsxs("div",{className:"flex items-center flex-shrink-0 px-4",children:[i.jsx(Mi,{className:"h-8 w-8 text-primary-600"}),i.jsx("span",{className:"ml-2 text-xl font-semibold text-secondary-900",children:"CBT System"})]}),i.jsx("div",{className:"mt-8 flex-grow flex flex-col",children:i.jsx("nav",{className:"flex-1 px-2 space-y-1",children:s.map(o=>{const u=o.icon;return i.jsxs(et,{to:o.href,className:`group flex items-center px-2 py-2 text-sm font-medium rounded-md transition-colors ${a(o.href)?"bg-primary-100 text-primary-900":"text-secondary-600 hover:bg-secondary-50 hover:text-secondary-900"}`,children:[i.jsx(u,{className:`mr-3 flex-shrink-0 h-5 w-5 ${a(o.href)?"text-primary-500":"text-secondary-400"}`}),o.name]},o.name)})})}),i.jsx("div",{className:"flex-shrink-0 flex border-t border-secondary-200 p-4",children:i.jsxs("div",{className:"flex items-center w-full",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-primary-600",children:(c=t==null?void 0:t.email)==null?void 0:c.charAt(0).toUpperCase()})})}),i.jsx("div",{className:"ml-3 flex-1",children:i.jsx("p",{className:"text-sm font-medium text-secondary-900 truncate",children:t==null?void 0:t.email})}),i.jsx("button",{onClick:l,className:"ml-3 flex-shrink-0 p-1 rounded-full text-secondary-400 hover:text-secondary-500 focus:outline-none focus:ring-2 focus:ring-primary-500",title:"Sign out",children:i.jsx(Bf,{className:"h-4 w-4"})})]})})]})}),i.jsx("div",{className:"flex flex-col flex-1 overflow-hidden",children:i.jsx("main",{className:"flex-1 relative overflow-y-auto focus:outline-none",children:i.jsx("div",{className:"py-6",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e})})})})]})}function ig(){const{user:e,signIn:t,signUp:r,loading:n}=Ue(),[s]=ff(),[a,l]=j.useState(!0),[c,o]=j.useState(""),[u,d]=j.useState(""),[h,f]=j.useState(""),[x,g]=j.useState(!1),[v,w]=j.useState(""),[y,m]=j.useState(!1),p=s.get("redirect");if(e)return i.jsx(Jo,{to:p||"/dashboard",replace:!0});const _=async k=>{k.preventDefault(),w(""),m(!0);try{let C;a?C=await t(c,u):C=await r(c,u,h),C.error?w(C.error.message):a&&p&&(window.location.href=p)}catch{w("An unexpected error occurred")}finally{m(!1)}};return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-secondary-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex justify-center",children:i.jsx(Mi,{className:"h-12 w-12 text-primary-600"})}),i.jsx("h2",{className:"mt-6 text-center text-3xl font-bold text-secondary-900",children:a?"Sign in to your account":"Create your account"}),i.jsx("p",{className:"mt-2 text-center text-sm text-secondary-600",children:"Computer-Based Testing System"}),p&&i.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-700 text-center",children:"Please log in to access your exam"})})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[i.jsxs("div",{className:"space-y-4",children:[!a&&i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-secondary-700",children:"Full Name"}),i.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!a,className:"input mt-1",placeholder:"Enter your full name",value:h,onChange:k=>f(k.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-secondary-700",children:"Email address"}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input mt-1",placeholder:"Enter your email",value:c,onChange:k=>o(k.target.value)})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-secondary-700",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:x?"text":"password",autoComplete:a?"current-password":"new-password",required:!0,className:"input pr-10",placeholder:"Enter your password",value:u,onChange:k=>d(k.target.value)}),i.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>g(!x),children:x?i.jsx(Ff,{className:"h-4 w-4 text-secondary-400"}):i.jsx(ha,{className:"h-4 w-4 text-secondary-400"})})]})]})]}),v&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsx("div",{className:"text-sm text-red-700",children:v})}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:y,className:"btn-primary w-full py-2 px-4 disabled:opacity-50",children:y?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),a?"Signing in...":"Creating account..."]}):a?"Sign in":"Create account"})}),i.jsx("div",{className:"text-center",children:i.jsx("button",{type:"button",className:"text-sm text-primary-600 hover:text-primary-500",onClick:()=>{l(!a),w("")},children:a?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})}function ag(){const{user:e}=Ue(),[t,r]=j.useState({totalExams:0,activeExams:0,totalAttempts:0,averageScore:0}),[n,s]=j.useState([]),[a,l]=j.useState(!0),[c,o]=j.useState(null),u=async()=>{if(e)try{l(!0),o(null);const{data:d,error:h}=await M.from("exams").select(`
          *,
          exam_attempts(count)
        `).eq("creator_id",e.id).order("created_at",{ascending:!1});if(h)throw h;const f=d||[],x=f.slice(0,5).map(p=>({...p,attempts_count:Array.isArray(p.exam_attempts)?p.exam_attempts.length:0}));s(x);const g=f.length,v=f.filter(p=>p.status==="published").length,w=f.map(p=>p.id);let y=0,m=0;if(w.length>0){const{data:p,error:_}=await M.from("exam_attempts").select("score").in("exam_id",w).not("completed_at","is",null);if(_)throw _;if(y=(p==null?void 0:p.length)||0,y>0){const k=(p==null?void 0:p.filter(C=>C.score!==null))||[];if(k.length>0){const C=k.reduce((N,A)=>N+(A.score||0),0);m=Math.round(C/k.length)}}}r({totalExams:g,activeExams:v,totalAttempts:y,averageScore:m})}catch(d){o(d instanceof Error?d.message:"Failed to fetch dashboard data")}finally{l(!1)}};return j.useEffect(()=>{u()},[e]),{stats:t,recentExams:n,loading:a,error:c,refetch:u}}function nc(){const{user:e}=Ue(),[t,r]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState(null),c=async()=>{if(e)try{s(!0);const{data:f,error:x}=await M.from("exams").select(`
          *,
          subjects (*)
        `).eq("creator_id",e.id).order("created_at",{ascending:!1});if(x)throw x;r(f||[])}catch(f){l(f instanceof Error?f.message:"Failed to fetch exams")}finally{s(!1)}},o=async(f,x)=>{if(!e)throw new Error("User not authenticated");try{const{data:g,error:v}=await M.from("exams").insert({...f,creator_id:e.id}).select().single();if(v)throw v;if(x.length>0){const w=x.map((m,p)=>({...m,exam_id:g.id,order_index:p})),{error:y}=await M.from("subjects").insert(w);if(y)throw y}return await c(),g}catch(g){throw g instanceof Error?g:new Error("Failed to create exam")}},u=async(f,x,g)=>{if(!e)throw new Error("User not authenticated");try{const{data:v,error:w}=await M.from("exams").update(x).eq("id",f).eq("creator_id",e.id).select().single();if(w)throw w;const{data:y,error:m}=await M.from("subjects").select("*").eq("exam_id",f);if(m)throw m;for(let p=0;p<g.length;p++){const _=g[p],k=y==null?void 0:y[p];if(k){const{error:C}=await M.from("subjects").update({name:_.name,time_limit:_.time_limit,pass_mark:_.pass_mark,order_index:p}).eq("id",k.id);if(C)throw C}else{const{error:C}=await M.from("subjects").insert({..._,exam_id:f,order_index:p});if(C)throw C}}if(y&&y.length>g.length){const p=y.slice(g.length);for(const _ of p){const{error:k}=await M.from("subjects").delete().eq("id",_.id);if(k)throw k}}return await c(),v}catch(v){throw v instanceof Error?v:new Error("Failed to update exam")}},d=async f=>{if(!e)throw new Error("User not authenticated");try{const{data:x,error:g}=await M.from("exams").update({status:"published"}).eq("id",f).eq("creator_id",e.id).select().single();if(g)throw g;return await c(),x}catch(x){throw x instanceof Error?x:new Error("Failed to publish exam")}},h=async f=>{if(!e)throw new Error("User not authenticated");try{const{data:x,error:g}=await M.from("exams").select("status").eq("id",f).eq("creator_id",e.id).maybeSingle();if(g)throw g;if(!x)throw new Error("Exam not found or you do not have permission to delete it.");if(x.status==="published")throw new Error("Cannot delete published exams. You can only delete draft exams.");const{error:v}=await M.from("exams").delete().eq("id",f).eq("creator_id",e.id);if(v)throw v;await c()}catch(x){throw x instanceof Error?x:new Error("Failed to delete exam")}};return j.useEffect(()=>{c()},[e]),{exams:t,loading:n,error:a,createExam:o,updateExam:u,publishExam:d,deleteExam:h,refetch:c}}function lg(){var d,h,f;const{user:e,signOut:t}=Ue(),{stats:r,recentExams:n,loading:s,error:a}=ag(),{deleteExam:l}=nc(),c=[{name:"Total Exams",value:r.totalExams.toString(),icon:Rt,color:"text-blue-600"},{name:"Active Exams",value:r.activeExams.toString(),icon:He,color:"text-green-600"},{name:"Total Attempts",value:r.totalAttempts.toString(),icon:At,color:"text-purple-600"},{name:"Avg. Score",value:r.averageScore>0?`${r.averageScore}%`:"N/A",icon:Hf,color:"text-orange-600"}],o=async(x,g)=>{if(confirm(`Are you sure you want to delete "${g}"? This action cannot be undone.`))try{await l(x)}catch(v){alert(v instanceof Error?v.message:"Failed to delete exam")}},u=async()=>{if(confirm("Are you sure you want to sign out?"))try{await t()}catch(x){console.error("Error signing out:",x),alert("Failed to sign out. Please try again.")}};return s?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Dashboard"}),i.jsxs("p",{className:"text-secondary-600",children:["Welcome back, ",((d=e==null?void 0:e.user_metadata)==null?void 0:d.full_name)||(e==null?void 0:e.email)]})]})}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]}):a?i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Dashboard"}),i.jsxs("p",{className:"text-secondary-600",children:["Welcome back, ",((h=e==null?void 0:e.user_metadata)==null?void 0:h.full_name)||(e==null?void 0:e.email)]})]})}),i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error loading dashboard"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Dashboard"}),i.jsxs("p",{className:"text-secondary-600",children:["Welcome back, ",((f=e==null?void 0:e.user_metadata)==null?void 0:f.full_name)||(e==null?void 0:e.email)]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs(et,{to:"/exams/create",className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx("span",{children:"Create Exam"})]}),i.jsxs("button",{onClick:u,className:"btn-outline px-4 py-2 flex items-center space-x-2 text-red-600 border-red-300 hover:bg-red-50",children:[i.jsx(Bf,{className:"h-4 w-4"}),i.jsx("span",{children:"Sign Out"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(x=>{const g=x.icon;return i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(g,{className:`h-8 w-8 ${x.color}`})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-secondary-500 truncate",children:x.name}),i.jsx("dd",{className:"text-lg font-medium text-secondary-900",children:x.value})]})})]})},x.name)})}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"px-6 py-4 border-b border-secondary-200",children:i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Recent Exams"})}),n.length>0?i.jsx("div",{className:"divide-y divide-secondary-200",children:n.map(x=>i.jsxs("div",{className:"px-6 py-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Rt,{className:"h-5 w-5 text-secondary-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-secondary-900",children:x.title}),i.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.status==="published"?"bg-green-100 text-green-800":x.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:[x.status==="published"?i.jsx(He,{className:"h-3 w-3 mr-1"}):i.jsx(Dt,{className:"h-3 w-3 mr-1"}),x.status]}),i.jsxs("span",{className:"text-xs text-secondary-500",children:[x.attempts_count," attempts"]}),i.jsxs("span",{className:"text-xs text-secondary-500",children:["Created ",new Date(x.created_at).toLocaleDateString()]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(et,{to:`/exams/${x.id}/edit`,className:"btn-outline px-3 py-1 text-xs flex items-center space-x-1",children:[i.jsx(qf,{className:"h-3 w-3"}),i.jsx("span",{children:"Edit"})]}),x.status==="published"&&i.jsxs(et,{to:`/exams/${x.id}/results`,className:"btn-secondary px-3 py-1 text-xs flex items-center space-x-1",children:[i.jsx(rc,{className:"h-3 w-3"}),i.jsx("span",{children:"Results"})]}),x.status==="draft"&&i.jsx("button",{onClick:()=>o(x.id,x.title),className:"text-red-600 hover:text-red-700 p-1",title:"Delete exam",children:i.jsx(js,{className:"h-3 w-3"})})]})]},x.id))}):i.jsxs("div",{className:"px-6 py-8 text-center",children:[i.jsx(Rt,{className:"h-12 w-12 text-secondary-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No exams yet"}),i.jsx("p",{className:"text-secondary-500 mb-4",children:"Get started by creating your first exam"}),i.jsxs(et,{to:"/exams/create",className:"btn-primary px-4 py-2 inline-flex items-center space-x-2",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx("span",{children:"Create Your First Exam"})]})]}),n.length>0&&i.jsx("div",{className:"px-6 py-3 bg-secondary-50 border-t border-secondary-200",children:i.jsx(et,{to:"/exams",className:"text-sm text-primary-600 hover:text-primary-500",children:"View all exams "})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(et,{to:"/exams/create",className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(sn,{className:"h-8 w-8 text-primary-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Create New Exam"}),i.jsx("p",{className:"text-sm text-secondary-500",children:"Start building your next assessment"})]})]})}),i.jsx(et,{to:"/questions",className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Rt,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Question Bank"}),i.jsx("p",{className:"text-sm text-secondary-500",children:"Manage your question library"})]})]})}),i.jsx(et,{to:"/users",className:"card p-6 hover:shadow-md transition-shadow cursor-pointer",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(At,{className:"h-8 w-8 text-purple-600"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Manage Users"}),i.jsx("p",{className:"text-sm text-secondary-500",children:"Handle user access and codes"})]})]})})]})]})}function og(){const{user:e}=Ue(),[t,r]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState(null),c=async()=>{if(e)try{s(!0),l(null);const{data:o,error:u}=await M.from("exam_codes").select(`
          *,
          exams (
            id,
            title,
            description,
            start_date,
            end_date,
            status
          )
        `).eq("user_email",e.email).order("created_at",{ascending:!1});if(u)throw u;if(!o||o.length===0){r([]);return}const d=o.map(g=>g.exam_id),{data:h,error:f}=await M.from("exam_attempts").select("exam_id, completed_at, score").eq("user_id",e.id).in("exam_id",d).not("completed_at","is",null);if(f)throw f;const x=o.map(g=>{const v=g.exams,w=h==null?void 0:h.find(p=>p.exam_id===g.exam_id),y=new Date;let m="available";return w&&w.completed_at?m="completed":g.expires_at&&new Date(g.expires_at)<y?m="expired":v.start_date&&new Date(v.start_date)>y?m="not_started":v.end_date&&new Date(v.end_date)<y?m="expired":v.status!=="published"&&(m="not_started"),{id:g.id,exam_id:g.exam_id,exam_title:v.title,exam_description:v.description,code:g.code,expires_at:g.expires_at,used:g.used,created_at:g.created_at,exam_start_date:v.start_date,exam_end_date:v.end_date,exam_status:v.status,attempt_completed:!!(w!=null&&w.completed_at),attempt_score:(w==null?void 0:w.score)||null,status:m}});r(x)}catch(o){l(o instanceof Error?o.message:"Failed to fetch available exams")}finally{s(!1)}};return j.useEffect(()=>{c()},[e]),{availableExams:t,loading:n,error:a,refetch:c}}function cg(){const{availableExams:e,loading:t,error:r}=og(),n=o=>{switch(o){case"available":return i.jsx(wt,{className:"h-5 w-5 text-green-600"});case"completed":return i.jsx(He,{className:"h-5 w-5 text-blue-600"});case"expired":return i.jsx(an,{className:"h-5 w-5 text-red-600"});case"not_started":return i.jsx(Dt,{className:"h-5 w-5 text-yellow-600"});default:return i.jsx(yt,{className:"h-5 w-5 text-gray-600"})}},s=o=>{switch(o){case"available":return"Available";case"completed":return"Completed";case"expired":return"Expired";case"not_started":return"Not Started";default:return"Unknown"}},a=o=>{switch(o){case"available":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"expired":return"bg-red-100 text-red-800";case"not_started":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},l=(o,u)=>`/exam/${o}/take?code=${u}`;if(t)return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Available Exams"}),i.jsx("p",{className:"text-secondary-600",children:"Exams assigned to you"})]}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]});if(r)return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Available Exams"}),i.jsx("p",{className:"text-secondary-600",children:"Exams assigned to you"})]}),i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error loading available exams"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]})})]});const c={total:e.length,available:e.filter(o=>o.status==="available").length,completed:e.filter(o=>o.status==="completed").length,expired:e.filter(o=>o.status==="expired").length};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Available Exams"}),i.jsx("p",{className:"text-secondary-600",children:"Exams assigned to you with access codes"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Rt,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Total Assigned"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:c.total})]})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(wt,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Available"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:c.available})]})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(He,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Completed"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:c.completed})]})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(an,{className:"h-8 w-8 text-red-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Expired"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:c.expired})]})]})})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"px-6 py-4 border-b border-secondary-200",children:i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Your Assigned Exams"})}),e.length>0?i.jsx("div",{className:"divide-y divide-secondary-200",children:e.map(o=>i.jsx("div",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[n(o.status),i.jsx("h4",{className:"text-lg font-medium text-secondary-900",children:o.exam_title}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a(o.status)}`,children:s(o.status)})]}),o.exam_description&&i.jsx("p",{className:"text-sm text-secondary-600 mb-2",children:o.exam_description}),i.jsxs("div",{className:"flex items-center space-x-6 text-sm text-secondary-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(pn,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Code: ",i.jsx("span",{className:"font-mono",children:o.code})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(wt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Assigned: ",new Date(o.created_at).toLocaleDateString()]})]}),o.expires_at&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Expires: ",new Date(o.expires_at).toLocaleDateString()]})]}),o.exam_start_date&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(wt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Starts: ",new Date(o.exam_start_date).toLocaleDateString()]})]}),o.exam_end_date&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(wt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Ends: ",new Date(o.exam_end_date).toLocaleDateString()]})]})]}),o.status==="completed"&&o.attempt_score!==null&&i.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[i.jsx(_s,{className:"h-4 w-4 text-yellow-600"}),i.jsxs("span",{className:"text-sm font-medium text-secondary-900",children:["Score: ",o.attempt_score,"%"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[o.status==="available"&&i.jsxs(et,{to:l(o.exam_id,o.code),className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[i.jsx(zf,{className:"h-4 w-4"}),i.jsx("span",{children:"Take Exam"})]}),o.status==="completed"&&i.jsxs(et,{to:`/exam/${o.exam_id}/result`,className:"btn-outline px-4 py-2 flex items-center space-x-2",children:[i.jsx(_s,{className:"h-4 w-4"}),i.jsx("span",{children:"View Results"})]}),o.status==="not_started"&&i.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:o.exam_start_date&&new Date(o.exam_start_date)>new Date?"Exam not started yet":"Exam not published yet"}),o.status==="expired"&&i.jsx("div",{className:"text-sm text-red-600 font-medium",children:o.expires_at&&new Date(o.expires_at)<new Date?"Access code expired":"Exam period ended"})]})]})},o.id))}):i.jsxs("div",{className:"px-6 py-8 text-center",children:[i.jsx(wt,{className:"h-12 w-12 text-secondary-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No exams assigned"}),i.jsx("p",{className:"text-secondary-500",children:"You don't have any exams assigned to you yet. Contact your administrator to get access codes for exams."})]})]})]})}function ug({isOpen:e,onClose:t,onSave:r,question:n}){const[s,a]=j.useState({type:"multiple_choice",question_text:"",options:["","","",""],correct_answers:[],points:1});j.useEffect(()=>{a(n?{type:n.type,question_text:n.question_text,options:n.options,correct_answers:n.correct_answers,points:n.points}:{type:"multiple_choice",question_text:"",options:["","","",""],correct_answers:[],points:1})},[n]);const l=f=>{if(f.preventDefault(),!s.question_text.trim()){alert("Please enter a question");return}if(s.type==="multiple_choice"&&s.options.some(x=>!x.trim())){alert("Please fill in all options");return}if(s.correct_answers.length===0){alert("Please select at least one correct answer");return}r(s),t()},c=(f,x)=>{const g=[...s.options];g[f]=x,a({...s,options:g})},o=()=>{a({...s,options:[...s.options,""]})},u=f=>{if(s.options.length>2){const x=s.options.filter((v,w)=>w!==f),g=s.correct_answers.filter(v=>v!==s.options[f]);a({...s,options:x,correct_answers:g})}},d=f=>{const x=s.correct_answers.includes(f);let g;s.type==="multiple_choice"?x?g=s.correct_answers.filter(v=>v!==f):g=[...s.correct_answers,f]:g=[f],a({...s,correct_answers:g})},h=f=>{let x=[],g=[];f==="true_false"?x=["True","False"]:f==="multiple_choice"&&(x=["","","",""]),a({...s,type:f,options:x,correct_answers:g})};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:n?"Edit Question":"Add New Question"}),i.jsx("button",{onClick:t,className:"text-secondary-400 hover:text-secondary-600",children:i.jsx(zi,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:l,className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Question Type"}),i.jsxs("select",{value:s.type,onChange:f=>h(f.target.value),className:"input w-full",children:[i.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),i.jsx("option",{value:"true_false",children:"True/False"}),i.jsx("option",{value:"fill_blank",children:"Fill in the Blank"}),i.jsx("option",{value:"short_answer",children:"Short Answer"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Question Text *"}),i.jsx("textarea",{value:s.question_text,onChange:f=>a({...s,question_text:f.target.value}),className:"input w-full h-24 resize-none",placeholder:"Enter your question here...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Points"}),i.jsx("input",{type:"number",value:s.points,onChange:f=>a({...s,points:parseInt(f.target.value)||1}),className:"input w-24",min:"1",required:!0})]}),(s.type==="multiple_choice"||s.type==="true_false")&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700",children:"Options"}),s.type==="multiple_choice"&&i.jsxs("button",{type:"button",onClick:o,className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:[i.jsx(sn,{className:"h-4 w-4 mr-1"}),"Add Option"]})]}),i.jsx("div",{className:"space-y-3",children:s.options.map((f,x)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("input",{type:"checkbox",checked:s.correct_answers.includes(f),onChange:()=>d(f),className:"rounded border-secondary-300 text-green-600 focus:ring-green-500",disabled:s.type==="true_false"&&!f.trim()}),i.jsx("input",{type:"text",value:f,onChange:g=>c(x,g.target.value),className:"input flex-1",placeholder:`Option ${x+1}`,disabled:s.type==="true_false",required:s.type==="multiple_choice"}),s.type==="multiple_choice"&&s.options.length>2&&i.jsx("button",{type:"button",onClick:()=>u(x),className:"text-red-600 hover:text-red-700 p-1",children:i.jsx(js,{className:"h-4 w-4"})})]},x))}),i.jsx("p",{className:"text-xs text-secondary-500 mt-2",children:"Check the box next to correct answer(s)"})]}),(s.type==="fill_blank"||s.type==="short_answer")&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Correct Answer(s) *"}),i.jsx("textarea",{value:s.correct_answers.join(`
`),onChange:f=>a({...s,correct_answers:f.target.value.split(`
`).filter(x=>x.trim())}),className:"input w-full h-20 resize-none",placeholder:"Enter correct answers (one per line for multiple acceptable answers)",required:!0}),i.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"For multiple acceptable answers, enter each on a new line"})]}),i.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-6 border-t border-secondary-200",children:[i.jsx("button",{type:"button",onClick:t,className:"btn-outline px-4 py-2",children:"Cancel"}),i.jsx("button",{type:"submit",className:"btn-primary px-4 py-2",children:n?"Update Question":"Add Question"})]})]})]})}):null}function dg(e){const{user:t}=Ue(),[r,n]=j.useState([]),[s,a]=j.useState(!1),[l,c]=j.useState(null),o=async()=>{if(!(!e||!t))try{a(!0);const{data:f,error:x}=await M.from("exam_codes").select("*").eq("exam_id",e).order("created_at",{ascending:!1});if(x)throw x;n(f||[])}catch(f){c(f instanceof Error?f.message:"Failed to fetch exam codes")}finally{a(!1)}},u=async(f,x)=>{if(!e||!t)throw new Error("Exam ID and user required");try{const g=Math.random().toString(36).substring(2,10).toUpperCase(),{data:v,error:w}=await M.from("exam_codes").insert({exam_id:e,code:g,user_email:f,expires_at:x||null}).select().single();if(w)throw w;return await o(),v}catch(g){throw g instanceof Error?g:new Error("Failed to generate exam code")}},d=async(f,x)=>{if(!e||!t)throw new Error("Exam ID and user required");try{const g=f.map(y=>({exam_id:e,code:Math.random().toString(36).substring(2,10).toUpperCase(),user_email:y,expires_at:x||null})),{data:v,error:w}=await M.from("exam_codes").insert(g).select();if(w)throw w;return await o(),v}catch(g){throw g instanceof Error?g:new Error("Failed to generate bulk codes")}},h=async f=>{if(!t)throw new Error("User not authenticated");try{const{error:x}=await M.from("exam_codes").delete().eq("id",f);if(x)throw x;await o()}catch(x){throw x instanceof Error?x:new Error("Failed to delete code")}};return j.useEffect(()=>{e&&o()},[e,t]),{codes:r,loading:s,error:l,generateCode:u,generateBulkCodes:d,deleteCode:h,refetch:o}}function hg({isOpen:e,onClose:t,examId:r}){const{codes:n,loading:s,generateCode:a,generateBulkCodes:l,deleteCode:c}=dg(r),[o,u]=j.useState(""),[d,h]=j.useState(""),[f,x]=j.useState(""),[g,v]=j.useState(!1),[w,y]=j.useState({}),m=async()=>{if(!o.trim()){alert("Please enter an email address");return}try{v(!0),await a(o,f||void 0),u(""),alert("Code generated and sent via email successfully!")}catch(O){alert(O instanceof Error?O.message:"Failed to generate code")}finally{v(!1)}},p=async()=>{const O=d.split(`
`).map(S=>S.trim()).filter(S=>S&&S.includes("@"));if(O.length===0){alert("Please enter valid email addresses (one per line)");return}try{v(!0),await l(O,f||void 0),h(""),alert(`${O.length} codes generated and sent via email successfully!`)}catch(S){alert(S instanceof Error?S.message:"Failed to generate codes")}finally{v(!1)}},_=O=>{navigator.clipboard.writeText(O),alert("Code copied to clipboard!")},k=O=>{const S=`${window.location.origin}/exam/${r}/take?code=${O}`;navigator.clipboard.writeText(S),alert("Exam URL copied to clipboard!")},C=async O=>{if(confirm("Are you sure you want to delete this code?"))try{await c(O)}catch(S){alert(S instanceof Error?S.message:"Failed to delete code")}},N=O=>{y(S=>({...S,[O]:!S[O]}))},A=()=>{const O=["Email,Code,Exam URL,Used,Expires At,Created At",...n.map(J=>{const Te=`${window.location.origin}/exam/${r}/take?code=${J.code}`;return`${J.user_email},${J.code},${Te},${J.used?"Yes":"No"},${J.expires_at||"Never"},${new Date(J.created_at).toLocaleString()}`})].join(`
`),S=new Blob([O],{type:"text/csv"}),G=window.URL.createObjectURL(S),F=document.createElement("a");F.href=G,F.download=`exam-codes-${r}.csv`,F.click(),window.URL.revokeObjectURL(G)};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-5xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[i.jsx("h2",{className:"text-xl font-semibold text-secondary-900",children:"Exam Access Codes & URLs"}),i.jsx("button",{onClick:t,className:"text-secondary-400 hover:text-secondary-600",children:i.jsx(zi,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Generate New Codes"}),i.jsxs("div",{className:"card p-4 mb-4",children:[i.jsxs("h4",{className:"font-medium text-secondary-900 mb-3 flex items-center",children:[i.jsx(Zs,{className:"h-4 w-4 mr-2"}),"Single Code"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("input",{type:"email",className:"input w-full",placeholder:"Enter email address",value:o,onChange:O=>u(O.target.value)}),i.jsxs("button",{onClick:m,disabled:g,className:"btn-primary w-full py-2 flex items-center justify-center space-x-2",children:[i.jsx(Zs,{className:"h-4 w-4"}),i.jsx("span",{children:"Generate & Send Code"})]})]})]}),i.jsxs("div",{className:"card p-4",children:[i.jsxs("h4",{className:"font-medium text-secondary-900 mb-3 flex items-center",children:[i.jsx(At,{className:"h-4 w-4 mr-2"}),"Bulk Codes"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("textarea",{className:"input w-full h-32 resize-none",placeholder:"Enter email addresses (one per line)",value:d,onChange:O=>h(O.target.value)}),i.jsxs("button",{onClick:p,disabled:g,className:"btn-primary w-full py-2 flex items-center justify-center space-x-2",children:[i.jsx(At,{className:"h-4 w-4"}),i.jsx("span",{children:"Generate & Send Bulk Codes"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Expiration Date (Optional)"}),i.jsx("input",{type:"datetime-local",className:"input w-full",value:f,onChange:O=>x(O.target.value)})]})]})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Generated Codes & URLs"}),n.length>0&&i.jsxs("button",{onClick:A,className:"btn-outline px-3 py-1 text-sm flex items-center space-x-1",children:[i.jsx(ws,{className:"h-4 w-4"}),i.jsx("span",{children:"Export CSV"})]})]}),s?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):n.length>0?i.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:n.map(O=>{const S=`${window.location.origin}/exam/${r}/take?code=${O.code}`;return i.jsx("div",{className:"border border-secondary-200 rounded-lg p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Zs,{className:"h-4 w-4 text-secondary-400"}),i.jsx("span",{className:"text-sm font-medium text-secondary-900",children:O.user_email})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs text-secondary-500 w-16",children:"Code:"}),i.jsx("span",{className:"font-mono text-sm font-medium text-primary-600",children:w[O.id]?O.code:""}),i.jsx("button",{onClick:()=>N(O.id),className:"text-secondary-400 hover:text-secondary-600",title:w[O.id]?"Hide code":"Show code",children:w[O.id]?i.jsx(Ff,{className:"h-4 w-4"}):i.jsx(ha,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>_(O.code),className:"text-secondary-400 hover:text-secondary-600",title:"Copy code",children:i.jsx(Mf,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs text-secondary-500 w-16",children:"URL:"}),i.jsx("span",{className:"text-xs text-blue-600 truncate flex-1 font-mono",children:S}),i.jsx("button",{onClick:()=>k(O.code),className:"text-secondary-400 hover:text-secondary-600",title:"Copy exam URL",children:i.jsx(Mu,{className:"h-4 w-4"})}),i.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"text-secondary-400 hover:text-secondary-600",title:"Open exam URL",children:i.jsx(zf,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3 text-xs text-secondary-500",children:[i.jsx("span",{className:`px-2 py-1 rounded-full ${O.used?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:O.used?"Used":"Available"}),O.expires_at&&i.jsxs("span",{children:["Expires: ",new Date(O.expires_at).toLocaleDateString()]}),i.jsxs("span",{children:["Created: ",new Date(O.created_at).toLocaleDateString()]})]}),i.jsx("button",{onClick:()=>C(O.id),className:"text-red-600 hover:text-red-700 p-1",title:"Delete code",children:i.jsx(js,{className:"h-4 w-4"})})]})]})},O.id)})}):i.jsxs("div",{className:"text-center py-8 text-secondary-500",children:[i.jsx(At,{className:"h-12 w-12 mx-auto mb-2 text-secondary-300"}),i.jsx("p",{children:"No codes generated yet"}),i.jsx("p",{className:"text-sm",children:"Generate codes to allow students to access this exam"})]})]})]}),i.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Zs,{className:"h-5 w-5 text-blue-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Email Delivery"}),i.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Exam codes and direct URLs are automatically sent to users via email. Each email contains the access code and a unique direct link to the exam."})]})]})}),i.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Mu,{className:"h-5 w-5 text-green-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-green-900",children:"Direct Access URLs"}),i.jsx("p",{className:"text-sm text-green-700 mt-1",children:"Each code has a unique URL that automatically fills in the access code. Users can click the link to go directly to their exam."})]})]})})]})]})]})}):null}function Bu(){const e=jn(),{examId:t}=sa(),{createExam:r,updateExam:n,publishExam:s,exams:a}=nc(),[l,c]=j.useState(!1),[o,u]=j.useState(!1),[d,h]=j.useState(null),[f,x]=j.useState(null),[g,v]=j.useState(!1),[w,y]=j.useState(!1),[m,p]=j.useState(null),[_,k]=j.useState(null),[C,N]=j.useState({}),[A,O]=j.useState(!1),[S,G]=j.useState({title:"",description:"",time_limit:60,shuffle_questions:!1,show_results:!0,start_date:"",end_date:"",status:"draft"}),[F,J]=j.useState([{id:"1",name:"General Knowledge",time_limit:30,pass_mark:60,questions:[]}]);j.useEffect(()=>{if(t&&a.length>0&&!A){const E=a.find(I=>I.id===t);if(E){if(G({title:E.title,description:E.description||"",time_limit:E.time_limit||60,shuffle_questions:E.shuffle_questions,show_results:E.show_results,start_date:E.start_date?new Date(E.start_date).toISOString().slice(0,16):"",end_date:E.end_date?new Date(E.end_date).toISOString().slice(0,16):"",status:E.status}),E.subjects&&E.subjects.length>0){const I=E.subjects.map(T=>({id:T.id,name:T.name,time_limit:T.time_limit||30,pass_mark:T.pass_mark||60,questions:[]}));J(I),I.forEach(T=>{Te(T.id)})}O(!0)}}},[t,a,A]);const Te=async E=>{try{N(P=>({...P,[E]:!0}));const{data:I,error:T}=await M.from("questions").select("*").eq("subject_id",E).order("order_index",{ascending:!0});if(T)throw T;J(P=>P.map(U=>U.id===E?{...U,questions:I.map(B=>({id:B.id,type:B.type,question_text:B.question_text,options:B.options||[],correct_answers:B.correct_answers,points:B.points}))}:U))}catch(I){console.error("Failed to load questions for subject:",I)}finally{N(I=>({...I,[E]:!1}))}},Y=E=>{if(typeof E=="string")return E;if(E!=null&&E.message){const I=E.message.toLowerCase();return I.includes("connection")||I.includes("network")?"Unable to connect to the database. Please check your internet connection and try again.":I.includes("permission")||I.includes("unauthorized")||I.includes("forbidden")?"You don't have permission to perform this action. Please contact your administrator.":I.includes("validation")||I.includes("invalid")?"Some of the exam information is invalid. Please check all fields and try again.":I.includes("unique")||I.includes("duplicate")?"An exam with this title already exists. Please choose a different title.":I.includes("foreign key")||I.includes("reference")?"There's a problem with the exam data structure. Please refresh the page and try again.":I.includes("timeout")||I.includes("time out")?"The operation took too long to complete. Please try again.":I.includes("server error")||I.includes("internal error")?"There's a temporary problem with our servers. Please try again in a few minutes.":I.includes("authentication")||I.includes("session")?"Your session has expired. Please log out and log back in.":E.message}return"An unexpected error occurred. Please try again."},Q=(E,I)=>{I==="success"?(x(E),h(null)):(h(E),x(null)),setTimeout(()=>{x(null),h(null)},5e3)},ye=async()=>{if(!S.title.trim()){Q("Please enter an exam title before saving","error");return}if(F.some(E=>!E.name.trim())){Q("Please provide names for all subjects before saving","error");return}try{c(!0),h(null);const E={title:S.title,description:S.description||null,time_limit:S.time_limit,shuffle_questions:S.shuffle_questions,show_results:S.show_results,start_date:S.start_date?new Date(S.start_date).toISOString():null,end_date:S.end_date?new Date(S.end_date).toISOString():null,status:"draft"},I=F.map((T,P)=>({name:T.name,time_limit:T.time_limit,pass_mark:T.pass_mark,order_index:P}));if(t)await n(t,E,I),Q("Exam updated successfully!","success");else{const T=await r(E,I);Q("Exam saved as draft!","success"),e(`/exams/${T.id}/edit`,{replace:!0})}}catch(E){Q(Y(E),"error")}finally{c(!1)}},b=async()=>{if(!S.title.trim()){Q("Please enter an exam title before publishing","error");return}if(F.length===0){Q("Please add at least one subject before publishing the exam","error");return}if(F.some(P=>!P.name.trim())){Q("Please provide names for all subjects before publishing","error");return}if(F.reduce((P,U)=>P+U.questions.length,0)===0){Q("Please add at least one question to your exam before publishing","error");return}const I=F.filter(P=>P.questions.length===0);if(I.length>0){const P=I.map(U=>U.name).join(", ");Q(`The following subjects need questions before publishing: ${P}`,"error");return}if(F.some(P=>P.questions.some(U=>!U.question_text.trim()||U.correct_answers.length===0||U.type==="multiple_choice"&&U.options.some(B=>!B.trim())))){Q("Some questions are incomplete. Please ensure all questions have text, options (for multiple choice), and correct answers","error");return}if(S.start_date&&S.end_date){const P=new Date(S.start_date),U=new Date(S.end_date);if(P>=U){Q("The exam end date must be after the start date","error");return}if(P<new Date){Q("The exam start date cannot be in the past","error");return}}try{u(!0),h(null);let P=t;if(!P){const U={title:S.title,description:S.description||null,time_limit:S.time_limit,shuffle_questions:S.shuffle_questions,show_results:S.show_results,start_date:S.start_date?new Date(S.start_date).toISOString():null,end_date:S.end_date?new Date(S.end_date).toISOString():null,status:"draft"},B=F.map((le,kn)=>({name:le.name,time_limit:le.time_limit,pass_mark:le.pass_mark,order_index:kn}));P=(await r(U,B)).id}if(!P)return;await s(P),G(U=>({...U,status:"published"})),Q("Exam published successfully! Students can now access it with exam codes.","success"),t||e(`/exams/${P}/edit`,{replace:!0})}catch(P){Q(Y(P),"error")}finally{u(!1)}},D=()=>{const E={id:Date.now().toString(),name:`Subject ${F.length+1}`,time_limit:30,pass_mark:60,questions:[]};J([...F,E])},$=E=>{F.length>1&&J(F.filter(I=>I.id!==E))},z=(E,I,T)=>{J(F.map(P=>P.id===E?{...P,[I]:T}:P))},X=E=>{p(E),k(null),v(!0)},Re=(E,I)=>{p(E),k(I),v(!0)},Qe=async E=>{var I,T;if(m)try{const P=a.find(B=>B.id===t),U=(I=P==null?void 0:P.subjects)==null?void 0:I.find(B=>B.id===m);if(!U){Q("Please save the exam first before adding questions","error");return}if(_){const{error:B}=await M.from("questions").update({type:E.type,question_text:E.question_text,options:E.options,correct_answers:E.correct_answers,points:E.points}).eq("id",_.id);if(B)throw B;J(F.map(ee=>ee.id===m?{...ee,questions:ee.questions.map(le=>le.id===_.id?{...E,id:_.id}:le)}:ee)),Q("Question updated successfully!","success")}else{const{data:B,error:ee}=await M.from("questions").insert({subject_id:U.id,type:E.type,question_text:E.question_text,options:E.options,correct_answers:E.correct_answers,points:E.points,order_index:((T=F.find(le=>le.id===m))==null?void 0:T.questions.length)||0}).select().single();if(ee)throw ee;J(F.map(le=>le.id===m?{...le,questions:[...le.questions,{id:B.id,type:B.type,question_text:B.question_text,options:B.options||[],correct_answers:B.correct_answers,points:B.points}]}:le)),Q("Question added successfully!","success")}v(!1),p(null),k(null)}catch(P){Q(Y(P),"error")}},kt=async(E,I)=>{if(confirm("Are you sure you want to delete this question?"))try{const{error:T}=await M.from("questions").delete().eq("id",I);if(T)throw T;J(F.map(P=>P.id===E?{...P,questions:P.questions.filter(U=>U.id!==I)}:P)),Q("Question deleted successfully!","success")}catch(T){Q(Y(T),"error")}},De=()=>F.reduce((E,I)=>E+I.questions.length,0),te=()=>F.reduce((E,I)=>E+I.questions.reduce((T,P)=>T+P.points,0),0);return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:t?"Edit Exam":"Create New Exam"}),i.jsx("p",{className:"text-secondary-600",children:"Build your computer-based test"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-outline px-4 py-2",disabled:l||o,children:"Cancel"}),i.jsx("button",{onClick:ye,disabled:l||o,className:"btn-secondary px-4 py-2 flex items-center space-x-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-secondary-600"}),i.jsx("span",{children:"Saving..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{children:"Save Draft"})]})})]})]}),f&&i.jsx("div",{className:"rounded-md bg-green-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(He,{className:"h-5 w-5 text-green-400"}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm font-medium text-green-800",children:f})})]})}),d&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsx("div",{className:"text-sm text-red-700",children:d})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"card p-6",children:[i.jsx("h2",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Basic Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Exam Title *"}),i.jsx("input",{type:"text",className:"input w-full",placeholder:"Enter exam title",value:S.title,onChange:E=>G({...S,title:E.target.value}),disabled:l||o})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Description"}),i.jsx("textarea",{className:"input w-full h-24 resize-none",placeholder:"Enter exam description",value:S.description,onChange:E=>G({...S,description:E.target.value}),disabled:l||o})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Start Date & Time"}),i.jsx("input",{type:"datetime-local",className:"input w-full",value:S.start_date,onChange:E=>G({...S,start_date:E.target.value}),disabled:l||o})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"End Date & Time"}),i.jsx("input",{type:"datetime-local",className:"input w-full",value:S.end_date,onChange:E=>G({...S,end_date:E.target.value}),disabled:l||o})]})]})]})]}),i.jsxs("div",{className:"card p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-medium text-secondary-900",children:"Subjects"}),i.jsxs("button",{onClick:D,disabled:l||o,className:"btn-primary px-3 py-1 text-sm flex items-center space-x-1",children:[i.jsx(sn,{className:"h-4 w-4"}),i.jsx("span",{children:"Add Subject"})]})]}),i.jsx("div",{className:"space-y-4",children:F.map((E,I)=>i.jsxs("div",{className:"border border-secondary-200 rounded-lg p-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 mb-3",children:[i.jsx("input",{type:"text",className:"input",value:E.name,onChange:T=>z(E.id,"name",T.target.value),disabled:l||o,placeholder:"Subject name"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",className:"input w-full",placeholder:"Time (min)",value:E.time_limit,onChange:T=>z(E.id,"time_limit",parseInt(T.target.value)||0),disabled:l||o,min:"1"}),i.jsx("span",{className:"text-sm text-secondary-500",children:"min"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",className:"input w-full",placeholder:"Pass mark (%)",value:E.pass_mark,onChange:T=>z(E.id,"pass_mark",parseInt(T.target.value)||60),disabled:l||o,min:"0",max:"100"}),i.jsx("span",{className:"text-sm text-secondary-500",children:"%"})]}),i.jsx("div",{className:"flex items-center justify-end",children:F.length>1&&i.jsx("button",{onClick:()=>$(E.id),disabled:l||o,className:"text-red-600 hover:text-red-700 p-1 disabled:opacity-50",children:i.jsx(js,{className:"h-4 w-4"})})})]}),i.jsxs("div",{className:"text-sm text-secondary-500 mb-3 flex items-center space-x-2",children:[i.jsxs("span",{children:[E.questions.length," questions  ",E.questions.reduce((T,P)=>T+P.points,0)," points  Pass mark: ",E.pass_mark,"%"]}),C[E.id]&&i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})]}),E.questions.length>0&&i.jsx("div",{className:"space-y-2 mb-3",children:E.questions.map((T,P)=>i.jsxs("div",{className:"bg-secondary-50 rounded p-3 flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"text-sm font-medium text-secondary-900",children:["Q",P+1,": ",T.question_text.substring(0,60),T.question_text.length>60?"...":""]}),i.jsxs("div",{className:"text-xs text-secondary-500",children:[T.type.replace("_"," "),"  ",T.points," points"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>Re(E.id,T),disabled:l||o,className:"text-primary-600 hover:text-primary-700 p-1",children:i.jsx(qf,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>kt(E.id,T.id),disabled:l||o,className:"text-red-600 hover:text-red-700 p-1",children:i.jsx(js,{className:"h-4 w-4"})})]})]},T.id))}),i.jsxs("button",{onClick:()=>X(E.id),className:"text-sm text-primary-600 hover:text-primary-700 disabled:opacity-50 flex items-center",disabled:l||o||!t,children:[i.jsx(sn,{className:"h-4 w-4 mr-1"}),t?"Add Questions":"Save exam first to add questions"]})]},E.id))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"card p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-secondary-900 mb-4 flex items-center",children:[i.jsx(Wf,{className:"h-5 w-5 mr-2"}),"Exam Settings"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Total Time Limit (minutes)"}),i.jsx("input",{type:"number",className:"input w-full",value:S.time_limit,onChange:E=>G({...S,time_limit:parseInt(E.target.value)||0}),disabled:l||o,min:"1"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"Shuffle Questions"}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:S.shuffle_questions,onChange:E=>G({...S,shuffle_questions:E.target.checked}),disabled:l||o})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"Show Results Immediately"}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:S.show_results,onChange:E=>G({...S,show_results:E.target.checked}),disabled:l||o})]})]})]}),i.jsxs("div",{className:"card p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Exam Summary"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Total Questions:"}),i.jsx("span",{className:"font-medium",children:De()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Total Points:"}),i.jsx("span",{className:"font-medium",children:te()})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Subjects:"}),i.jsx("span",{className:"font-medium",children:F.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-secondary-600",children:"Avg. Pass Mark:"}),i.jsxs("span",{className:"font-medium",children:[Math.round(F.reduce((E,I)=>E+I.pass_mark,0)/F.length),"%"]})]})]})]}),i.jsxs("div",{className:"card p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Publish Status"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-secondary-600",children:"Status"}),i.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.status==="published"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[S.status==="published"?i.jsx(He,{className:"h-3 w-3 mr-1"}):null,S.status]})]}),S.status!=="published"&&i.jsx("button",{onClick:b,disabled:o||l,className:"btn-primary w-full py-2",children:o?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Publishing..."]}):"Publish Exam"}),S.status==="published"&&t&&i.jsxs("button",{onClick:()=>y(!0),className:"btn-primary w-full py-2 flex items-center justify-center space-x-2",children:[i.jsx(eg,{className:"h-4 w-4"}),i.jsx("span",{children:"Generate Codes"})]}),i.jsx("p",{className:"text-xs text-secondary-500",children:S.status==="published"?"This exam is live and accessible to users with valid codes.":"Once published, exam codes can be generated and distributed to users."})]})]})]})]}),i.jsx(ug,{isOpen:g,onClose:()=>{v(!1),p(null),k(null)},onSave:Qe,question:_||void 0}),t&&i.jsx(hg,{isOpen:w,onClose:()=>y(!1),examId:t})]})}function fg(){const{examId:e}=sa(),t=jn(),{user:r}=Ue(),[n]=ff(),[s,a]=j.useState(null),[l,c]=j.useState(0),[o,u]=j.useState(0),[d,h]=j.useState({}),[f,x]=j.useState(!1),[g,v]=j.useState(""),[w,y]=j.useState(null),[m,p]=j.useState(!1),[_,k]=j.useState(!1),[C,N]=j.useState(!0),[A,O]=j.useState(null),[S,G]=j.useState([]),[F,J]=j.useState(null),[Te,Y]=j.useState(null),[Q,ye]=j.useState(null);j.useEffect(()=>{if(!r){const T=n.get("code"),P=T?`/login?redirect=${encodeURIComponent(`/exam/${e}/take?code=${T}`)}`:"/login";t(P);return}},[r,t,e,n]),j.useEffect(()=>{const T=n.get("code");T&&r?(v(T),$(T)):r&&N(!1)},[n,r]),j.useEffect(()=>{e&&m&&r&&D()},[e,m,r]);const b=T=>{const P=new Date;if(T.start_date){const U=new Date(T.start_date);if(P<U)return`This exam is not yet available. It will start on ${U.toLocaleString()}.`}if(T.end_date){const U=new Date(T.end_date);if(P>U)return`This exam has ended. It was available until ${U.toLocaleString()}.`}return null},D=async()=>{var T;try{N(!0),O(null),J(null);const{data:P,error:U}=await M.from("exams").select(`
          *,
          subjects (
            *,
            questions (*)
          )
        `).eq("id",e).eq("status","published").single();if(U)throw U;if(!P)throw new Error("Exam not found or not published");const B=b(P);if(B){J(B);return}const ee=((T=P.subjects)==null?void 0:T.map(je=>{var bn;return{id:je.id,name:je.name,time_limit:je.time_limit,pass_mark:je.pass_mark||60,questions:((bn=je.questions)==null?void 0:bn.map(Ar=>({id:Ar.id,type:Ar.type,question_text:Ar.question_text,options:Ar.options||[],correct_answers:Ar.correct_answers,points:Ar.points})))||[]}}))||[],le=ee.flatMap(je=>je.questions);if(P.shuffle_questions)for(let je=le.length-1;je>0;je--){const bn=Math.floor(Math.random()*(je+1));[le[je],le[bn]]=[le[bn],le[je]]}a({id:P.id,title:P.title,description:P.description,time_limit:P.time_limit,shuffle_questions:P.shuffle_questions,show_results:P.show_results,start_date:P.start_date,end_date:P.end_date,subjects:ee}),G(le);const kn=(P.time_limit||60)*60;c(kn)}catch(P){O(P instanceof Error?P.message:"Failed to load exam")}finally{N(!1)}},$=async T=>{if(!T.trim()){ye("Please enter your access code"),N(!1);return}if(!r){ye("You must be logged in to access this exam. Please log in with your account."),N(!1);return}try{k(!0),ye(null),N(!0);const{data:P,error:U}=await M.from("exam_codes").select("*").eq("code",T.toUpperCase()).eq("exam_id",e).eq("used",!1);if(U){console.error("Database error:",U),ye("Failed to verify access code. Please try again."),N(!1);return}if(!P||P.length===0){ye("Invalid or expired access code. Please check your code and try again."),N(!1);return}const B=P[0];if(B.expires_at&&new Date(B.expires_at)<new Date){ye("This access code has expired. Please contact your administrator for a new code."),N(!1);return}if(B.user_email!==r.email){ye("This access code is not assigned to your account. Please use the correct access code for your account or contact your administrator."),N(!1);return}const{data:ee,error:le}=await M.from("profiles").select("*").eq("id",r.id).single();if(le||!ee){ye("Your account is not properly registered in the system. Please contact your administrator to set up your account before taking exams."),N(!1);return}y(B.id),p(!0)}catch(P){console.error("Verification error:",P),ye("Failed to verify access code. Please try again."),N(!1)}finally{k(!1)}};j.useEffect(()=>{if(f&&l>0){const T=setInterval(()=>{c(P=>P-1)},1e3);return()=>clearInterval(T)}else l===0&&f&&te()},[f,l]);const z=T=>{const P=Math.floor(T/3600),U=Math.floor(T%3600/60),B=T%60;return`${P.toString().padStart(2,"0")}:${U.toString().padStart(2,"0")}:${B.toString().padStart(2,"0")}`},X=async()=>{if(!r||!s||!w)return;const T=b(s);if(T){J(T);return}try{const{data:P,error:U}=await M.from("exam_attempts").insert({exam_id:s.id,user_id:r.id,code_id:w,total_points:S.reduce((B,ee)=>B+ee.points,0)}).select().single();if(U)throw U;Y(P.id),x(!0)}catch{alert("Failed to start exam. Please try again.")}},Re=(T,P)=>{h(U=>({...U,[T]:P}))},Qe=()=>{o<S.length-1&&u(T=>T+1)},kt=()=>{o>0&&u(T=>T-1)},De=()=>{let T=0,P=0;return S.forEach(U=>{P+=U.points;const B=d[U.id];if(B){if(U.type==="multiple_choice"||U.type==="true_false")U.correct_answers.includes(B)&&(T+=U.points);else if(U.type==="fill_blank"||U.type==="short_answer"){const ee=B.toString().trim().toLowerCase();U.correct_answers.some(kn=>{const je=kn.toString().trim().toLowerCase();return je===ee?!0:U.type==="fill_blank"?je.includes(ee)||ee.includes(je):!1})&&(T+=U.points)}}}),{score:T,totalPoints:P,percentage:P>0?Math.round(T/P*100):0}},te=async()=>{if(!(!r||!s||!Te))try{const{score:T,totalPoints:P,percentage:U}=De(),B=Math.round(((s.time_limit||60)*60-l)/60),{error:ee}=await M.from("exam_attempts").update({answers:d,score:U,completed_at:new Date().toISOString(),time_spent:B}).eq("id",Te);if(ee)throw ee;w&&await M.from("exam_codes").update({used:!0}).eq("id",w),s.show_results?t(`/exam/${s.id}/result?score=${U}&total=${P}&points=${T}`):t("/dashboard?message=exam-completed")}catch(T){console.error("Submit error:",T),alert("Failed to submit exam. Please try again.")}};if(!r)return null;if(Q)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsx(ng,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Access Denied"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:Q}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:()=>{const T=n.get("code"),P=T?`/login?redirect=${encodeURIComponent(`/exam/${e}/take?code=${T}`)}`:"/login";t(P)},className:"btn-primary w-full px-4 py-2",children:"Go to Login"}),i.jsx("button",{onClick:()=>{ye(null),p(!1),v(""),N(!1)},className:"btn-outline w-full px-4 py-2",children:"Try Different Code"})]})]})})});if(C)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-secondary-600",children:"Loading exam..."})]})});if(F)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsx(Kv,{className:"h-16 w-16 text-orange-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Exam Not Available"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:F}),(s==null?void 0:s.start_date)&&new Date<new Date(s.start_date)&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700",children:[i.jsx(wt,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Exam Schedule"})]}),i.jsxs("div",{className:"text-sm text-blue-600 mt-2",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Starts:"})," ",new Date(s.start_date).toLocaleString()]}),s.end_date&&i.jsxs("p",{children:[i.jsx("strong",{children:"Ends:"})," ",new Date(s.end_date).toLocaleString()]})]})]}),i.jsx("button",{onClick:()=>t("/dashboard"),className:"btn-primary px-4 py-2",children:"Return to Dashboard"})]})})});if(A)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsx(yt,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Error Loading Exam"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:A}),i.jsx("button",{onClick:()=>t("/dashboard"),className:"btn-primary px-4 py-2",children:"Return to Dashboard"})]})})});if(!m)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(Yv,{className:"h-16 w-16 text-primary-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Enter Access Code"}),i.jsx("p",{className:"text-secondary-600",children:"Please enter your exam access code to continue"})]}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700",children:[i.jsx(He,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Logged in as"})]}),i.jsx("p",{className:"text-sm text-blue-600 mt-1",children:i.jsx("strong",{children:r==null?void 0:r.email})}),i.jsx("p",{className:"text-xs text-blue-500 mt-1",children:"Make sure your access code is assigned to this email address"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{children:i.jsx("input",{type:"text",className:"input w-full text-center text-lg font-mono tracking-wider",placeholder:"Enter your access code",value:g,onChange:T=>v(T.target.value.toUpperCase()),maxLength:10})}),i.jsx("button",{onClick:()=>$(g),disabled:_||!g.trim(),className:"btn-primary w-full py-3 text-lg",children:_?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Verifying..."]}):"Verify Code"})]}),i.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsxs("p",{className:"text-sm text-yellow-700",children:[i.jsx("strong",{children:"Important:"}),i.jsx("br",{})," You must have a registered account to take exams",i.jsx("br",{})," Your access code must be assigned to your email address",i.jsx("br",{})," Contact your administrator if you need help"]})})]})})});if(!s||S.length===0)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-secondary-600",children:"Preparing exam..."})]})});const E=S[o],I=(o+1)/S.length*100;return f?i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx("div",{className:"bg-white border-b border-secondary-200 px-4 py-3",children:i.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-medium text-secondary-900",children:s.title}),i.jsxs("p",{className:"text-sm text-secondary-500",children:["Question ",o+1," of ",S.length,"  ",i.jsx("strong",{children:r.email})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center text-sm text-secondary-600",children:[i.jsx(Dt,{className:"h-4 w-4 mr-1"}),i.jsx("span",{className:l<300?"text-red-600 font-medium":"",children:z(l)})]}),i.jsx("button",{onClick:te,className:"btn-primary px-4 py-2",children:"Submit Exam"})]})]})}),i.jsx("div",{className:"bg-white border-b border-secondary-200",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-2",children:i.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:i.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${I}%`}})})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsxs("div",{className:"card p-8",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-medium text-secondary-900 mb-4",children:E.question_text}),i.jsx("div",{className:"space-y-3",children:E.type==="multiple_choice"||E.type==="true_false"?E.options.map((T,P)=>i.jsxs("label",{className:"flex items-center p-3 border border-secondary-200 rounded-lg hover:bg-secondary-50 cursor-pointer transition-colors",children:[i.jsx("input",{type:"radio",name:`question-${E.id}`,value:T,checked:d[E.id]===T,onChange:U=>Re(E.id,U.target.value),className:"mr-3 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{className:"text-secondary-900",children:T})]},P)):i.jsx("textarea",{className:"input w-full h-32 resize-none",placeholder:"Enter your answer here...",value:d[E.id]||"",onChange:T=>Re(E.id,T.target.value)})})]}),i.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-secondary-200",children:[i.jsx("button",{onClick:kt,disabled:o===0,className:"btn-outline px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),i.jsxs("span",{className:"text-sm text-secondary-500",children:[Object.keys(d).length," of ",S.length," answered"]}),o===S.length-1?i.jsx("button",{onClick:te,className:"btn-primary px-4 py-2",children:"Submit Exam"}):i.jsx("button",{onClick:Qe,className:"btn-primary px-4 py-2",children:"Next"})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-2xl w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(He,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:s.title}),i.jsx("p",{className:"text-secondary-600",children:s.description||"Welcome to your exam"})]}),i.jsxs("div",{className:"bg-green-50 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-700",children:[i.jsx(He,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Access Verified"})]}),i.jsxs("p",{className:"text-sm text-green-600 mt-1",children:["Code: ",i.jsx("span",{className:"font-mono",children:g}),"  User: ",i.jsx("strong",{children:r.email})]})]}),(s.start_date||s.end_date)&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-700 mb-2",children:[i.jsx(wt,{className:"h-5 w-5"}),i.jsx("span",{className:"font-medium",children:"Exam Schedule"})]}),i.jsxs("div",{className:"text-sm text-blue-600 space-y-1",children:[s.start_date&&i.jsxs("p",{children:[i.jsx("strong",{children:"Started:"})," ",new Date(s.start_date).toLocaleString()]}),s.end_date&&i.jsxs("p",{children:[i.jsx("strong",{children:"Ends:"})," ",new Date(s.end_date).toLocaleString()]})]})]}),i.jsxs("div",{className:"bg-secondary-50 rounded-lg p-6 mb-6",children:[i.jsx("h2",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Exam Instructions"}),i.jsxs("div",{className:"text-left space-y-2 text-sm text-secondary-600",children:[i.jsxs("p",{children:[" You have ",s.time_limit||60," minutes to complete this exam"]}),i.jsxs("p",{children:[" There are ",S.length," questions in total"]}),i.jsx("p",{children:" You can navigate between questions using the Next/Previous buttons"}),i.jsx("p",{children:" Make sure to save your answers before the time runs out"}),i.jsx("p",{children:" Once you start, you cannot pause the exam"}),s.shuffle_questions&&i.jsx("p",{children:" Questions have been randomized for this attempt"})]})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-secondary-500 mb-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:[s.time_limit||60," minutes"]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(yt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:[S.length," questions"]})]})]}),i.jsx("button",{onClick:X,className:"btn-primary px-8 py-3 text-lg",children:"Start Exam"})]})})})}function mg(){const{examId:e}=sa(),t=jn(),{user:r}=Ue(),[n,s]=j.useState(null),[a,l]=j.useState(!0),[c,o]=j.useState(null);j.useEffect(()=>{e&&r&&u()},[e,r]);const u=async()=>{try{l(!0),o(null);const{data:w,error:y}=await M.from("exam_attempts").select(`
          *,
          exams (
            title,
            description,
            show_results,
            subjects (
              id,
              name,
              pass_mark
            )
          ),
          profiles (
            full_name,
            email
          )
        `).eq("exam_id",e).eq("user_id",r.id).not("completed_at","is",null).order("completed_at",{ascending:!1}).limit(1).single();if(y)throw y;if(!w)throw new Error("No completed exam attempt found");const m=await d(w.answers,w.exams.subjects),p=m.length>0?m.reduce((k,C)=>k+C.pass_mark,0)/m.length:60,_=w.score>=p;s({id:w.id,exam_id:w.exam_id,exam_title:w.exams.title,exam_description:w.exams.description,score:w.score,total_points:w.total_points,time_spent:w.time_spent,completed_at:w.completed_at,passed:_,show_results:w.exams.show_results,subjects:m,user_name:w.profiles.full_name,user_email:w.profiles.email})}catch(w){o(w instanceof Error?w.message:"Failed to load exam result")}finally{l(!1)}},d=async(w,y)=>{const m=[];for(const p of y){const{data:_}=await M.from("questions").select("*").eq("subject_id",p.id);if(!_)continue;let k=0,C=0;_.forEach(O=>{C+=O.points;const S=w[O.id];if(S){if(O.type==="multiple_choice"||O.type==="true_false")O.correct_answers.includes(S)&&(k+=O.points);else if(O.type==="fill_blank"||O.type==="short_answer"){const G=S.toLowerCase().trim();O.correct_answers.some(J=>J.toLowerCase().trim()===G)&&(k+=O.points)}}});const N=C>0?Math.round(k/C*100):0,A=N>=p.pass_mark;m.push({id:p.id,name:p.name,pass_mark:p.pass_mark,score:N,total_points:C,passed:A})}return m},h=()=>{window.print()},f=()=>{t("/dashboard")},x=(w,y)=>w>=y?"text-green-600":w>=y*.8?"text-yellow-600":"text-red-600",g=(w,y)=>w>=y?"bg-green-100 text-green-800":w>=y*.8?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";if(a)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-secondary-600",children:"Loading your results..."})]})});if(c||!n)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsx(an,{className:"h-16 w-16 text-red-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Unable to Load Results"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:c||"Results not found"}),i.jsx("button",{onClick:f,className:"btn-primary px-4 py-2",children:"Return to Dashboard"})]})})});if(!n.show_results)return i.jsx("div",{className:"min-h-screen bg-secondary-50 flex items-center justify-center p-4",children:i.jsx("div",{className:"max-w-md w-full",children:i.jsxs("div",{className:"card p-8 text-center",children:[i.jsx(Rt,{className:"h-16 w-16 text-blue-600 mx-auto mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-secondary-900 mb-2",children:"Exam Completed"}),i.jsx("p",{className:"text-secondary-600 mb-4",children:"Your exam has been submitted successfully. Results will be available later."}),i.jsx("button",{onClick:f,className:"btn-primary px-4 py-2",children:"Return to Dashboard"})]})})});const v=n.subjects.length>0?n.subjects.reduce((w,y)=>w+y.pass_mark,0)/n.subjects.length:60;return i.jsxs("div",{className:"min-h-screen bg-secondary-50",children:[i.jsx("style",{children:`
        @media print {
          .no-print { display: none !important; }
          .print-only { display: block !important; }
          body { background: white !important; }
          .card { box-shadow: none !important; border: 1px solid #ccc !important; }
        }
        .print-only { display: none; }
      `}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[i.jsxs("div",{className:"no-print mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Exam Results"}),i.jsx("p",{className:"text-secondary-600",children:"Your performance summary"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:h,className:"btn-outline px-4 py-2 flex items-center space-x-2",children:[i.jsx(zu,{className:"h-4 w-4"}),i.jsx("span",{children:"Print Results"})]}),i.jsxs("button",{onClick:f,className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[i.jsx(Du,{className:"h-4 w-4"}),i.jsx("span",{children:"Dashboard"})]})]})]}),i.jsxs("div",{className:"print-only mb-6 text-center border-b pb-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-secondary-900",children:"Exam Results Certificate"}),i.jsx("p",{className:"text-secondary-600 mt-2",children:"Computer-Based Testing System"})]}),i.jsxs("div",{className:"card p-8 mb-6",children:[i.jsxs("div",{className:"text-center mb-8 border-b border-secondary-200 pb-6",children:[i.jsxs("div",{className:"flex items-center justify-center mb-4",children:[i.jsx(pn,{className:"h-8 w-8 text-primary-600 mr-3"}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-2xl font-bold text-secondary-900",children:n.user_name||"Student Name Not Available"}),i.jsx("p",{className:"text-lg text-secondary-600",children:n.user_email})]})]}),i.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4",children:i.jsx("p",{className:"text-sm text-primary-700",children:"This certificate belongs to the above named individual"})})]}),i.jsx("div",{className:"text-center mb-8",children:n.passed?i.jsxs("div",{children:[i.jsx(_s,{className:"h-20 w-20 text-yellow-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-3xl font-bold text-green-600 mb-2",children:"Congratulations!"}),i.jsxs("p",{className:"text-xl text-secondary-900 mb-2",children:[i.jsx("strong",{children:n.user_name||n.user_email})," passed the exam!"]}),i.jsx("p",{className:"text-secondary-600",children:"You have successfully met the pass mark requirements for this examination."})]}):i.jsxs("div",{children:[i.jsx(an,{className:"h-20 w-20 text-red-500 mx-auto mb-4"}),i.jsx("h3",{className:"text-3xl font-bold text-red-600 mb-2",children:"Unfortunately"}),i.jsxs("p",{className:"text-xl text-secondary-900 mb-2",children:[i.jsx("strong",{children:n.user_name||n.user_email})," didn't meet the pass mark for this exam"]}),i.jsx("p",{className:"text-secondary-600",children:"Don't worry! You can review the material and try again when available."})]})}),i.jsxs("div",{className:"border-t border-secondary-200 pt-6 mb-6",children:[i.jsx("h4",{className:"text-xl font-semibold text-secondary-900 mb-4",children:n.exam_title}),n.exam_description&&i.jsx("p",{className:"text-secondary-600 mb-4",children:n.exam_description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-center",children:[i.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(rc,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-secondary-900",children:[n.score,"%"]}),i.jsx("div",{className:"text-sm text-secondary-600",children:"Overall Score"})]}),i.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(rg,{className:"h-6 w-6 text-orange-600"})}),i.jsxs("div",{className:"text-2xl font-bold text-secondary-900",children:[Math.round(v),"%"]}),i.jsx("div",{className:"text-sm text-secondary-600",children:"Required Pass Mark"})]}),i.jsxs("div",{className:"p-4 bg-secondary-50 rounded-lg",children:[i.jsx("div",{className:"flex items-center justify-center mb-2",children:i.jsx(Dt,{className:"h-6 w-6 text-purple-600"})}),i.jsx("div",{className:"text-2xl font-bold text-secondary-900",children:n.time_spent?`${n.time_spent} min`:"N/A"}),i.jsx("div",{className:"text-sm text-secondary-600",children:"Time Spent"})]})]})]}),n.subjects.length>0&&i.jsxs("div",{className:"border-t border-secondary-200 pt-6",children:[i.jsx("h5",{className:"text-lg font-semibold text-secondary-900 mb-4",children:"Subject-wise Performance"}),i.jsx("div",{className:"space-y-4",children:n.subjects.map(w=>i.jsxs("div",{className:"border border-secondary-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h6",{className:"font-medium text-secondary-900",children:w.name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[w.passed?i.jsx(He,{className:"h-5 w-5 text-green-600"}):i.jsx(an,{className:"h-5 w-5 text-red-600"}),i.jsxs("span",{className:`font-bold text-lg ${x(w.score,w.pass_mark)}`,children:[w.score,"%"]})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-secondary-600",children:["Pass Mark: ",w.pass_mark,"%"]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g(w.score,w.pass_mark)}`,children:w.passed?"Passed":"Failed"})]}),i.jsxs("div",{className:"mt-3",children:[i.jsx("div",{className:"w-full bg-secondary-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w.passed?"bg-green-500":"bg-red-500"}`,style:{width:`${Math.min(w.score,100)}%`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-secondary-500 mt-1",children:[i.jsx("span",{children:"0%"}),i.jsxs("span",{className:"font-medium",children:["Pass: ",w.pass_mark,"%"]}),i.jsx("span",{children:"100%"})]})]})]},w.id))})]}),i.jsx("div",{className:"border-t border-secondary-200 pt-6 mt-6",children:i.jsxs("div",{className:"text-sm text-secondary-600 space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Student:"})," ",n.user_name||n.user_email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Email:"})," ",n.user_email]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Completed:"})," ",new Date(n.completed_at).toLocaleString()]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Total Points:"})," ",Math.round(n.score/100*n.total_points)," / ",n.total_points]}),n.time_spent&&i.jsxs("p",{children:[i.jsx("strong",{children:"Time Taken:"})," ",n.time_spent," minutes"]})]})})]}),i.jsxs("div",{className:"no-print text-center space-x-4",children:[i.jsxs("button",{onClick:h,className:"btn-outline px-6 py-3 flex items-center space-x-2 mx-auto",children:[i.jsx(zu,{className:"h-5 w-5"}),i.jsx("span",{children:"Print Certificate"})]}),i.jsxs("button",{onClick:f,className:"btn-primary px-6 py-3 flex items-center space-x-2 mx-auto",children:[i.jsx(Du,{className:"h-5 w-5"}),i.jsx("span",{children:"Return to Dashboard"})]})]}),i.jsxs("div",{className:"print-only mt-8 pt-4 border-t text-center text-sm text-secondary-600",children:[i.jsx("p",{children:"This is an official result certificate from the Computer-Based Testing System"}),i.jsxs("p",{children:["Student: ",i.jsx("strong",{children:n.user_name||n.user_email}),"  Email: ",n.user_email]}),i.jsxs("p",{children:["Generated on: ",new Date().toLocaleString()]})]})]})]})}function pg(){var w,y;const{user:e}=Ue(),[t,r]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState(null),[c,o]=j.useState("all");j.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{s(!0),l(null);const{data:m,error:p}=await M.from("exam_results_view").select("*").eq("user_id",e.id).order("started_at",{ascending:!1});if(p)throw p;r(m||[])}catch(m){l(m instanceof Error?m.message:"Failed to load exam history")}finally{s(!1)}},d=t.filter(m=>{switch(c){case"completed":return m.completed_at!==null;case"passed":return m.passed===!0;case"failed":return m.passed===!1;default:return!0}}),h=m=>m.completed_at?m.passed?i.jsx(_s,{className:"h-5 w-5 text-green-600"}):i.jsx(an,{className:"h-5 w-5 text-red-600"}):i.jsx(Dt,{className:"h-5 w-5 text-yellow-600"}),f=m=>m.completed_at?m.passed?"Passed":"Failed":"In Progress",x=m=>m.completed_at?m.passed?"bg-green-100 text-green-800":"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800",g=m=>m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600",v={total:t.length,completed:t.filter(m=>m.completed_at).length,passed:t.filter(m=>m.passed===!0).length,averageScore:t.filter(m=>m.completed_at).length>0?Math.round(t.filter(m=>m.completed_at).reduce((m,p)=>m+p.score,0)/t.filter(m=>m.completed_at).length):0};return n?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Exam History"}),i.jsx("p",{className:"text-secondary-600",children:"Your exam attempts and results"})]}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]}):a?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Exam History"}),i.jsx("p",{className:"text-secondary-600",children:"Your exam attempts and results"})]}),i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error loading exam history"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:a})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Exam History"}),i.jsxs("div",{className:"flex items-center space-x-2 text-secondary-600",children:[i.jsx(pn,{className:"h-4 w-4"}),i.jsxs("span",{children:[i.jsx("strong",{children:((w=e==null?void 0:e.user_metadata)==null?void 0:w.full_name)||(e==null?void 0:e.email)}),((y=e==null?void 0:e.user_metadata)==null?void 0:y.full_name)&&i.jsxs("span",{className:"text-sm ml-2",children:["(",e.email,")"]})]})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Rt,{className:"h-8 w-8 text-blue-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Total Exams"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:v.total})]})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(He,{className:"h-8 w-8 text-green-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Completed"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:v.completed})]})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(_s,{className:"h-8 w-8 text-yellow-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Passed"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:v.passed})]})]})}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(rc,{className:"h-8 w-8 text-purple-600"}),i.jsxs("div",{className:"ml-5",children:[i.jsx("p",{className:"text-sm font-medium text-secondary-500",children:"Avg. Score"}),i.jsx("p",{className:"text-lg font-medium text-secondary-900",children:v.averageScore>0?`${v.averageScore}%`:"N/A"})]})]})})]}),i.jsx("div",{className:"card p-4",children:i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("button",{onClick:()=>o("all"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${c==="all"?"bg-primary-100 text-primary-900":"text-secondary-600 hover:text-secondary-900"}`,children:["All (",t.length,")"]}),i.jsxs("button",{onClick:()=>o("completed"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${c==="completed"?"bg-primary-100 text-primary-900":"text-secondary-600 hover:text-secondary-900"}`,children:["Completed (",v.completed,")"]}),i.jsxs("button",{onClick:()=>o("passed"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${c==="passed"?"bg-primary-100 text-primary-900":"text-secondary-600 hover:text-secondary-900"}`,children:["Passed (",v.passed,")"]}),i.jsxs("button",{onClick:()=>o("failed"),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${c==="failed"?"bg-primary-100 text-primary-900":"text-secondary-600 hover:text-secondary-900"}`,children:["Failed (",v.completed-v.passed,")"]})]})}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"px-6 py-4 border-b border-secondary-200",children:i.jsxs("h3",{className:"text-lg font-medium text-secondary-900",children:["Exam Attempts (",d.length,")"]})}),d.length>0?i.jsx("div",{className:"divide-y divide-secondary-200",children:d.map(m=>i.jsx("div",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[h(m),i.jsx("h4",{className:"text-lg font-medium text-secondary-900",children:m.exam_title}),i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(m)}`,children:f(m)})]}),m.exam_description&&i.jsx("p",{className:"text-sm text-secondary-600 mb-2",children:m.exam_description}),i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(pn,{className:"h-4 w-4 text-secondary-400"}),i.jsx("span",{className:"text-sm font-medium text-secondary-700",children:m.user_name||m.user_email}),m.user_name&&i.jsxs("span",{className:"text-xs text-secondary-500",children:["(",m.user_email,")"]})]}),i.jsxs("div",{className:"flex items-center space-x-6 text-sm text-secondary-500",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(wt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Started: ",new Date(m.started_at).toLocaleDateString()]})]}),m.completed_at&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(He,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:["Completed: ",new Date(m.completed_at).toLocaleDateString()]})]}),m.time_spent&&i.jsxs("div",{className:"flex items-center",children:[i.jsx(Dt,{className:"h-4 w-4 mr-1"}),i.jsxs("span",{children:[m.time_spent," minutes"]})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[m.completed_at&&i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-2xl font-bold ${g(m.score)}`,children:[m.score,"%"]}),i.jsxs("div",{className:"text-sm text-secondary-500",children:[Math.round(m.score/100*m.total_points)," / ",m.total_points," points"]})]}),m.completed_at&&m.show_results&&i.jsxs(et,{to:`/exam/${m.exam_id}/result`,className:"btn-outline px-3 py-1 text-sm flex items-center space-x-1",children:[i.jsx(ha,{className:"h-4 w-4"}),i.jsx("span",{children:"View Results"})]})]})]})},m.id))}):i.jsxs("div",{className:"px-6 py-8 text-center",children:[i.jsx(Rt,{className:"h-12 w-12 text-secondary-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:c==="all"?"No exam history yet":`No ${c} exams`}),i.jsx("p",{className:"text-secondary-500",children:c==="all"?"Your exam attempts will appear here":`No exams match the ${c} filter`})]})]})]})}function xg(e){const{user:t}=Ue(),[r,n]=j.useState(null),[s,a]=j.useState([]),[l,c]=j.useState({averageScore:0,highestScore:0,lowestScore:0,passRate:0,averageTime:0,totalAttempts:0}),[o,u]=j.useState({excellent:0,good:0,needsImprovement:0}),[d,h]=j.useState(!0),[f,x]=j.useState(null),g=async()=>{if(!(!t||!e))try{h(!0),x(null);const{data:v,error:w}=await M.from("exams").select("*").eq("id",e).eq("creator_id",t.id).single();if(w)throw w;n(v);const{data:y,error:m}=await M.from("exam_attempts").select(`
          *,
          profiles (*)
        `).eq("exam_id",e).not("completed_at","is",null).order("completed_at",{ascending:!1});if(m)throw m;const p=y||[];if(a(p),p.length>0){const _=p.filter(k=>k.score!==null&&k.completed_at);if(_.length>0){const k=_.map(Y=>Y.score||0),C=_.filter(Y=>Y.time_spent).map(Y=>Y.time_spent||0),N=Math.round(k.reduce((Y,Q)=>Y+Q,0)/k.length),A=Math.max(...k),O=Math.min(...k),S=Math.round(k.filter(Y=>Y>=60).length/k.length*100),G=C.length>0?Math.round(C.reduce((Y,Q)=>Y+Q,0)/C.length):0;c({averageScore:N,highestScore:A,lowestScore:O,passRate:S,averageTime:G,totalAttempts:_.length});const F=k.filter(Y=>Y>=80).length,J=k.filter(Y=>Y>=60&&Y<80).length,Te=k.filter(Y=>Y<60).length;u({excellent:F,good:J,needsImprovement:Te})}}}catch(v){x(v instanceof Error?v.message:"Failed to fetch exam results")}finally{h(!1)}};return j.useEffect(()=>{g()},[t,e]),{exam:r,attempts:s,stats:l,scoreDistribution:o,loading:d,error:f,refetch:g}}function yg(){const{examId:e}=sa(),{exam:t,attempts:r,stats:n,scoreDistribution:s,loading:a,error:l}=xg(e);if(a)return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Exam Results"}),i.jsx("p",{className:"text-secondary-600",children:"Loading exam data..."})]})}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]});if(l||!t)return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Exam Results"}),i.jsx("p",{className:"text-secondary-600",children:"Error loading exam data"})]})}),i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error loading exam results"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:l||"Exam not found"})]})]})})]});const c=[{name:"Average Score",value:n.averageScore>0?`${n.averageScore}%`:"N/A",icon:Hf,color:"text-blue-600"},{name:"Total Attempts",value:n.totalAttempts.toString(),icon:At,color:"text-green-600"},{name:"Average Time",value:n.averageTime>0?`${n.averageTime} min`:"N/A",icon:Dt,color:"text-purple-600"},{name:"Pass Rate",value:`${n.passRate}%`,icon:Hv,color:"text-orange-600"}],o=d=>d>=80?"text-green-600":d>=60?"text-yellow-600":"text-red-600",u=d=>d>=80?"bg-green-100 text-green-800":d>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800";return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-secondary-900",children:[t.title," - Results"]}),i.jsx("p",{className:"text-secondary-600",children:t.description||"Exam results and analytics"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{className:"btn-outline px-4 py-2 flex items-center space-x-2",children:[i.jsx(ws,{className:"h-4 w-4"}),i.jsx("span",{children:"Export CSV"})]}),i.jsxs("button",{className:"btn-secondary px-4 py-2 flex items-center space-x-2",children:[i.jsx(ws,{className:"h-4 w-4"}),i.jsx("span",{children:"Export PDF"})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(d=>{const h=d.icon;return i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(h,{className:`h-8 w-8 ${d.color}`})}),i.jsx("div",{className:"ml-5 w-0 flex-1",children:i.jsxs("dl",{children:[i.jsx("dt",{className:"text-sm font-medium text-secondary-500 truncate",children:d.name}),i.jsx("dd",{className:"text-lg font-medium text-secondary-900",children:d.value})]})})]})},d.name)})}),i.jsxs("div",{className:"card p-6",children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Score Distribution"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.excellent}),i.jsx("div",{className:"text-sm text-green-700",children:"Excellent (80-100%)"})]}),i.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:s.good}),i.jsx("div",{className:"text-sm text-yellow-700",children:"Good (60-79%)"})]}),i.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.needsImprovement}),i.jsx("div",{className:"text-sm text-red-700",children:"Needs Improvement (<60%)"})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"px-6 py-4 border-b border-secondary-200",children:i.jsx("h3",{className:"text-lg font-medium text-secondary-900",children:"Individual Results"})}),r.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-secondary-200",children:[i.jsx("thead",{className:"bg-secondary-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Student"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Score"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Time Spent"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Completed At"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-secondary-200",children:r.map(d=>{var h,f;return i.jsxs("tr",{className:"hover:bg-secondary-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(pn,{className:"h-5 w-5 text-secondary-400 mr-3"}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-secondary-900",children:((h=d.profiles)==null?void 0:h.full_name)||"Name Not Available"}),i.jsx("div",{className:"text-sm text-secondary-500",children:(f=d.profiles)==null?void 0:f.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsxs("span",{className:`text-lg font-medium ${o(d.score||0)}`,children:[d.score||0,"%"]}),i.jsxs("span",{className:`ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${u(d.score||0)}`,children:[d.score||0,"/",d.total_points]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-900",children:d.time_spent?`${d.time_spent} minutes`:"N/A"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500",children:d.completed_at?new Date(d.completed_at).toLocaleString():"In Progress"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("button",{className:"text-primary-600 hover:text-primary-900 flex items-center",children:[i.jsx(ha,{className:"h-4 w-4 mr-1"}),"View Details"]})})]},d.id)})})]})}):i.jsxs("div",{className:"px-6 py-8 text-center",children:[i.jsx(At,{className:"h-12 w-12 text-secondary-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:"No attempts yet"}),i.jsx("p",{className:"text-secondary-500",children:"Students haven't taken this exam yet"})]})]})]})}function vg(){const{user:e}=Ue(),[t,r]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState(null),c=async()=>{if(e)try{s(!0);const{data:u,error:d}=await M.from("questions").select(`
          *,
          subjects!inner (
            *,
            exams!inner (*)
          )
        `).eq("subjects.exams.creator_id",e.id).order("created_at",{ascending:!1});if(d)throw d;r(u||[])}catch(u){l(u instanceof Error?u.message:"Failed to fetch questions")}finally{s(!1)}},o=async(u,d)=>{if(!e)throw new Error("User not authenticated");try{const{data:h,error:f}=await M.from("questions").select("*").eq("id",u).single();if(f)throw f;const{data:x}=await M.from("questions").select("order_index").eq("subject_id",d).order("order_index",{ascending:!1}).limit(1),g=x&&x.length>0?x[0].order_index+1:0,{data:v,error:w}=await M.from("questions").insert({subject_id:d,type:h.type,question_text:h.question_text,options:h.options,correct_answers:h.correct_answers,points:h.points,order_index:g}).select().single();if(w)throw w;return await c(),v}catch(h){throw h instanceof Error?h:new Error("Failed to copy question")}};return j.useEffect(()=>{c()},[e]),{questions:t,loading:n,error:a,copyQuestionToSubject:o,refetch:c}}function gg(){const{questions:e,loading:t,error:r,copyQuestionToSubject:n}=vg(),{exams:s}=nc(),[a,l]=j.useState(""),[c,o]=j.useState("all"),[u,d]=j.useState("all"),[h,f]=j.useState(!1),[x,g]=j.useState(!1),[v,w]=j.useState(null),[y,m]=j.useState(""),[p,_]=j.useState(""),[k,C]=j.useState(!1),[N,A]=j.useState(null),[O,S]=j.useState(null),G=[{value:"all",label:"All Types"},{value:"multiple_choice",label:"Multiple Choice"},{value:"true_false",label:"True/False"},{value:"fill_blank",label:"Fill in the Blank"},{value:"short_answer",label:"Short Answer"}],F=e.filter(b=>{const D=b.question_text.toLowerCase().includes(a.toLowerCase()),$=c==="all"||b.type===c,z=u==="all"||b.subjects.exams.id===u;return D&&$&&z}),J=async(b,D)=>{try{await n(b,D),f(!1),w(null),alert("Question copied successfully!")}catch($){alert($ instanceof Error?$.message:"Failed to copy question")}},Te=()=>s.flatMap(b=>{var D;return((D=b.subjects)==null?void 0:D.map($=>({id:$.id,name:$.name,examTitle:b.title})))||[]}),Y=()=>{const b=["Question Type,Question Text,Option 1,Option 2,Option 3,Option 4,Correct Answer(s),Points",'multiple_choice,"What is 2+2?","3","4","5","6","4",1','true_false,"The earth is round","True","False","","","True",1','fill_blank,"The capital of France is ____","","","","","Paris",1','short_answer,"Explain photosynthesis","","","","","Process by which plants make food",2'].join(`
`),D=new Blob([b],{type:"text/csv"}),$=window.URL.createObjectURL(D),z=document.createElement("a");z.href=$,z.download="question-bank-template.csv",z.click(),window.URL.revokeObjectURL($)},Q=b=>{const D=[];let $="",z=!1;for(let X=0;X<b.length;X++){const Re=b[X];Re==='"'?z=!z:Re===","&&!z?(D.push($.trim()),$=""):$+=Re}return D.push($.trim()),D},ye=async()=>{if(!y.trim()){S("Please paste CSV data");return}if(!p){S("Please select a subject for the questions");return}try{C(!0),S(null),A(null);const b=y.trim().split(`
`);if(b.length<2)throw new Error("CSV must contain at least a header row and one data row");if(Q(b[0]).length<7)throw new Error("Invalid CSV format. Please use the template with all required columns.");const $=[],z=[];for(let te=1;te<b.length;te++)try{const E=Q(b[te]);if(E.length<7){z.push(`Row ${te+1}: Insufficient columns`);continue}const I=E[0].toLowerCase().trim(),T=E[1].trim(),P=E.slice(2,6).filter(ee=>ee.trim()),U=E[6].split(";").map(ee=>ee.trim()).filter(ee=>ee),B=parseInt(E[7])||1;if(!["multiple_choice","true_false","fill_blank","short_answer"].includes(I)){z.push(`Row ${te+1}: Invalid question type "${I}"`);continue}if(!T){z.push(`Row ${te+1}: Question text is required`);continue}if(U.length===0){z.push(`Row ${te+1}: At least one correct answer is required`);continue}if(I==="multiple_choice"&&P.length<2){z.push(`Row ${te+1}: Multiple choice questions need at least 2 options`);continue}I==="true_false"&&(P.length=0,P.push("True","False")),$.push({type:I,question_text:T,options:P.length>0?P:null,correct_answers:U,points:B})}catch(E){z.push(`Row ${te+1}: ${E instanceof Error?E.message:"Parse error"}`)}if(z.length>0)throw new Error(`Parsing errors:
${z.join(`
`)}`);if($.length===0)throw new Error("No valid questions found to upload");const{data:X}=await M.from("questions").select("order_index").eq("subject_id",p).order("order_index",{ascending:!1}).limit(1);let Re=X&&X.length>0?X[0].order_index+1:0;const Qe=$.map(te=>({subject_id:p,type:te.type,question_text:te.question_text,options:te.options,correct_answers:te.correct_answers,points:te.points,order_index:Re++})),{data:kt,error:De}=await M.from("questions").insert(Qe).select();if(De)throw De;A(`Successfully uploaded ${kt.length} questions!`),m(""),_(""),window.location.reload()}catch(b){S(b instanceof Error?b.message:"Failed to upload questions")}finally{C(!1)}};return t?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Question Bank"}),i.jsx("p",{className:"text-secondary-600",children:"Manage your question library"})]}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]}):r?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Question Bank"}),i.jsx("p",{className:"text-secondary-600",children:"Manage your question library"})]}),i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error loading questions"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Question Bank"}),i.jsx("p",{className:"text-secondary-600",children:"Manage and reuse questions across exams"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:Y,className:"btn-outline px-4 py-2 flex items-center space-x-2",children:[i.jsx(ws,{className:"h-4 w-4"}),i.jsx("span",{children:"Download Template"})]}),i.jsxs("button",{onClick:()=>g(!0),className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[i.jsx(Fu,{className:"h-4 w-4"}),i.jsx("span",{children:"Bulk Upload"})]})]})]}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Search Questions"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-secondary-400"}),i.jsx("input",{type:"text",className:"input pl-10 w-full",placeholder:"Search by question text...",value:a,onChange:b=>l(b.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Question Type"}),i.jsx("select",{className:"input w-full",value:c,onChange:b=>o(b.target.value),children:G.map(b=>i.jsx("option",{value:b.value,children:b.label},b.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Source Exam"}),i.jsxs("select",{className:"input w-full",value:u,onChange:b=>d(b.target.value),children:[i.jsx("option",{value:"all",children:"All Exams"}),s.map(b=>i.jsx("option",{value:b.id,children:b.title},b.id))]})]})]})}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"px-6 py-4 border-b border-secondary-200",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("h3",{className:"text-lg font-medium text-secondary-900",children:["Questions (",F.length,")"]})})}),F.length>0?i.jsx("div",{className:"divide-y divide-secondary-200",children:F.map(b=>i.jsx("div",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b.type==="multiple_choice"?"bg-blue-100 text-blue-800":b.type==="true_false"?"bg-green-100 text-green-800":b.type==="fill_blank"?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"}`,children:b.type.replace("_"," ")}),i.jsxs("span",{className:"text-sm text-secondary-500",children:[b.points," points"]})]}),i.jsx("h4",{className:"text-sm font-medium text-secondary-900 mb-2",children:b.question_text}),b.options&&b.options.length>0&&i.jsxs("div",{className:"text-sm text-secondary-600 mb-2",children:[i.jsx("strong",{children:"Options:"})," ",b.options.join(", ")]}),i.jsxs("div",{className:"text-sm text-secondary-600 mb-2",children:[i.jsx("strong",{children:"Correct Answer(s):"})," ",b.correct_answers.join(", ")]}),i.jsxs("div",{className:"text-xs text-secondary-500",children:["From: ",b.subjects.exams.title,"  ",b.subjects.name]})]}),i.jsx("div",{className:"flex items-center space-x-2 ml-4",children:i.jsxs("button",{onClick:()=>{w(b.id),f(!0)},className:"btn-outline px-3 py-1 text-sm flex items-center space-x-1",children:[i.jsx(Mf,{className:"h-3 w-3"}),i.jsx("span",{children:"Copy"})]})})]})},b.id))}):i.jsxs("div",{className:"px-6 py-8 text-center",children:[i.jsx(Mi,{className:"h-12 w-12 text-secondary-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:e.length===0?"No questions yet":"No questions match your filters"}),i.jsx("p",{className:"text-secondary-500",children:e.length===0?"Questions will appear here as you create exams":"Try adjusting your search criteria"})]})]}),h&&v&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Copy Question"}),i.jsx("button",{onClick:()=>{f(!1),w(null)},className:"text-secondary-400 hover:text-secondary-600",children:i.jsx(zi,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("p",{className:"text-sm text-secondary-600 mb-4",children:"Select the subject where you want to copy this question:"}),i.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Te().map(b=>i.jsxs("button",{onClick:()=>J(v,b.id),className:"w-full text-left p-3 border border-secondary-200 rounded-lg hover:bg-secondary-50 transition-colors",children:[i.jsx("div",{className:"font-medium text-secondary-900",children:b.name}),i.jsx("div",{className:"text-sm text-secondary-500",children:b.examTitle})]},b.id))}),Te().length===0&&i.jsx("p",{className:"text-sm text-secondary-500 text-center py-4",children:"No subjects available. Create an exam with subjects first."})]})]})}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-secondary-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-secondary-900",children:"Bulk Upload Questions"}),i.jsx("button",{onClick:()=>{g(!1),S(null),A(null),m(""),_("")},className:"text-secondary-400 hover:text-secondary-600",children:i.jsx(zi,{className:"h-6 w-6"})})]}),i.jsxs("div",{className:"p-6",children:[N&&i.jsx("div",{className:"mb-4 rounded-md bg-green-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(He,{className:"h-5 w-5 text-green-400"}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm font-medium text-green-800",children:N})})]})}),O&&i.jsx("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Upload Error"}),i.jsx("pre",{className:"text-sm text-red-700 mt-1 whitespace-pre-wrap",children:O})]})]})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-sm text-secondary-600 mb-2",children:"Upload questions in CSV format. Download the template to see the required format."}),i.jsxs("button",{onClick:Y,className:"btn-outline px-3 py-1 text-sm flex items-center space-x-1",children:[i.jsx(ws,{className:"h-4 w-4"}),i.jsx("span",{children:"Download Template"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Select Subject *"}),i.jsxs("select",{className:"input w-full",value:p,onChange:b=>_(b.target.value),disabled:k,children:[i.jsx("option",{value:"",children:"Choose a subject for the questions..."}),Te().map(b=>i.jsxs("option",{value:b.id,children:[b.examTitle,"  ",b.name]},b.id))]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"CSV Data *"}),i.jsx("textarea",{className:"input w-full h-48 resize-none font-mono text-xs",placeholder:"Paste your CSV data here...",value:y,onChange:b=>m(b.target.value),disabled:k}),i.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Format: Question Type, Question Text, Option 1, Option 2, Option 3, Option 4, Correct Answer(s), Points"})]}),i.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"CSV Format Guidelines:"}),i.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[i.jsx("li",{children:" Question Type: multiple_choice, true_false, fill_blank, or short_answer"}),i.jsx("li",{children:" Use quotes around text containing commas"}),i.jsx("li",{children:" For multiple correct answers, separate with semicolons (;)"}),i.jsx("li",{children:" True/False questions automatically get True/False options"}),i.jsx("li",{children:" Fill blank and short answer questions don't need options"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>{g(!1),S(null),A(null),m(""),_("")},className:"btn-outline px-4 py-2",disabled:k,children:"Cancel"}),i.jsx("button",{onClick:ye,disabled:k||!y.trim()||!p,className:"btn-primary px-4 py-2 flex items-center space-x-2",children:k?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Uploading..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Fu,{className:"h-4 w-4"}),i.jsx("span",{children:"Upload Questions"})]})})]})]})]})})]})}function wg(){const{user:e}=Ue(),[t,r]=j.useState([]),[n,s]=j.useState(!0),[a,l]=j.useState(null),c=async()=>{if(e)try{s(!0);const{data:u,error:d}=await M.from("profiles").select("*").order("created_at",{ascending:!1});if(d)throw d;r(u||[])}catch(u){l(u instanceof Error?u.message:"Failed to fetch users")}finally{s(!1)}},o=async(u,d)=>{if(!e)throw new Error("User not authenticated");try{const{data:h,error:f}=await M.from("profiles").update({role:d}).eq("id",u).select().single();if(f)throw f;return await c(),h}catch(h){throw h instanceof Error?h:new Error("Failed to update user role")}};return j.useEffect(()=>{c()},[e]),{users:t,loading:n,error:a,updateUserRole:o,refetch:c}}function jg(){const{users:e,loading:t,error:r,updateUserRole:n}=wg(),[s,a]=j.useState(""),[l,c]=j.useState("all"),[o,u]=j.useState(null),d=[{value:"all",label:"All Roles"},{value:"user",label:"User"},{value:"editor",label:"Editor"},{value:"admin",label:"Admin"},{value:"creator",label:"Creator"}],h=e.filter(v=>{const w=v.email.toLowerCase().includes(s.toLowerCase())||v.full_name&&v.full_name.toLowerCase().includes(s.toLowerCase()),y=l==="all"||v.role===l;return w&&y}),f=async(v,w)=>{if(confirm(`Are you sure you want to change this user's role to ${w}?`))try{u(v),await n(v,w)}catch(y){alert(y instanceof Error?y.message:"Failed to update user role")}finally{u(null)}},x=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"creator":return"bg-blue-100 text-blue-800";case"editor":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"admin":return"Full system access and user management";case"creator":return"Can create and manage exams";case"editor":return"Can edit existing exams";case"user":return"Can take exams only";default:return"Standard user access"}};return t?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"User Management"}),i.jsx("p",{className:"text-secondary-600",children:"Manage user roles and permissions"})]}),i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})})]}):r?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"User Management"}),i.jsx("p",{className:"text-secondary-600",children:"Manage user roles and permissions"})]}),i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-red-800",children:"Error loading users"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:r})]})]})})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"User Management"}),i.jsx("p",{className:"text-secondary-600",children:"Manage user roles and permissions"})]}),i.jsx("div",{className:"card p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Search Users"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-secondary-400"}),i.jsx("input",{type:"text",className:"input pl-10 w-full",placeholder:"Search by name or email...",value:s,onChange:v=>a(v.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-2",children:"Filter by Role"}),i.jsx("select",{className:"input w-full",value:l,onChange:v=>c(v.target.value),children:d.map(v=>i.jsx("option",{value:v.value,children:v.label},v.value))})]})]})}),i.jsxs("div",{className:"card p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-secondary-900 mb-4 flex items-center",children:[i.jsx(tg,{className:"h-5 w-5 mr-2"}),"Role Permissions"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-red-800 mb-2",children:"Admin"}),i.jsx("p",{className:"text-sm text-red-700",children:"Full system access, user management, all exam operations"})]}),i.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Creator"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Create, edit, publish exams, manage questions"})]}),i.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"Editor"}),i.jsx("p",{className:"text-sm text-green-700",children:"Edit existing exams, manage questions"})]}),i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"User"}),i.jsx("p",{className:"text-sm text-gray-700",children:"Take exams, view results"})]})]})]}),i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"px-6 py-4 border-b border-secondary-200",children:i.jsxs("h3",{className:"text-lg font-medium text-secondary-900",children:["Users (",h.length,")"]})}),h.length>0?i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-secondary-200",children:[i.jsx("thead",{className:"bg-secondary-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"User"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Current Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Joined"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-secondary-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-secondary-200",children:h.map(v=>i.jsxs("tr",{className:"hover:bg-secondary-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-medium text-primary-600",children:v.email.charAt(0).toUpperCase()})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("div",{className:"text-sm font-medium text-secondary-900",children:v.full_name||"No name provided"}),i.jsx("div",{className:"text-sm text-secondary-500",children:v.email})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(v.role)}`,children:v.role}),i.jsx("div",{className:"text-xs text-secondary-500 mt-1",children:g(v.role)})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-secondary-500",children:new Date(v.created_at).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("select",{value:v.role,onChange:w=>f(v.id,w.target.value),disabled:o===v.id,className:"text-sm border border-secondary-300 rounded px-2 py-1 focus:ring-primary-500 focus:border-primary-500",children:[i.jsx("option",{value:"user",children:"User"}),i.jsx("option",{value:"editor",children:"Editor"}),i.jsx("option",{value:"admin",children:"Admin"}),i.jsx("option",{value:"creator",children:"Creator"})]}),o===v.id&&i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary-600"})]})})]},v.id))})]})}):i.jsxs("div",{className:"px-6 py-8 text-center",children:[i.jsx(At,{className:"h-12 w-12 text-secondary-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-2",children:e.length===0?"No users yet":"No users match your filters"}),i.jsx("p",{className:"text-secondary-500",children:e.length===0?"Users will appear here as they sign up":"Try adjusting your search criteria"})]})]})]})}function _g(){const{user:e}=Ue(),[t,r]=j.useState("profile"),[n,s]=j.useState(!1),[a,l]=j.useState(null),[c,o]=j.useState(null),[u,d]=j.useState({fullName:"",email:(e==null?void 0:e.email)||"",bio:"",timezone:"UTC"}),[h,f]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[x,g]=j.useState({emailNotifications:!0,examReminders:!0,resultNotifications:!0,systemUpdates:!1}),[v,w]=j.useState({defaultTimeLimit:60,autoSaveInterval:30,maxAttempts:3,showResultsImmediately:!0}),y=[{id:"profile",name:"Profile",icon:pn},{id:"security",name:"Security",icon:Zv},{id:"notifications",name:"Notifications",icon:Qv},{id:"system",name:"System",icon:Gv}],m=(N,A)=>{A==="success"?(l(N),o(null)):(o(N),l(null)),setTimeout(()=>{l(null),o(null)},5e3)},p=async()=>{try{s(!0),await new Promise(N=>setTimeout(N,1e3)),m("Profile updated successfully!","success")}catch{m("Failed to update profile","error")}finally{s(!1)}},_=async()=>{if(h.newPassword!==h.confirmPassword){m("New passwords do not match","error");return}if(h.newPassword.length<6){m("Password must be at least 6 characters long","error");return}try{s(!0),await new Promise(N=>setTimeout(N,1e3)),f({currentPassword:"",newPassword:"",confirmPassword:""}),m("Password updated successfully!","success")}catch{m("Failed to update password","error")}finally{s(!1)}},k=async()=>{try{s(!0),await new Promise(N=>setTimeout(N,1e3)),m("Notification settings updated successfully!","success")}catch{m("Failed to update notification settings","error")}finally{s(!1)}},C=async()=>{try{s(!0),await new Promise(N=>setTimeout(N,1e3)),m("System settings updated successfully!","success")}catch{m("Failed to update system settings","error")}finally{s(!1)}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-secondary-900",children:"Settings"}),i.jsx("p",{className:"text-secondary-600",children:"Manage your account and system preferences"})]}),a&&i.jsx("div",{className:"rounded-md bg-green-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(He,{className:"h-5 w-5 text-green-400"}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm font-medium text-green-800",children:a})})]})}),c&&i.jsx("div",{className:"rounded-md bg-red-50 p-4",children:i.jsxs("div",{className:"flex",children:[i.jsx(yt,{className:"h-5 w-5 text-red-400"}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm font-medium text-red-800",children:c})})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsx("nav",{className:"space-y-1",children:y.map(N=>{const A=N.icon;return i.jsxs("button",{onClick:()=>r(N.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${t===N.id?"bg-primary-100 text-primary-900":"text-secondary-600 hover:bg-secondary-50 hover:text-secondary-900"}`,children:[i.jsx(A,{className:`mr-3 h-5 w-5 ${t===N.id?"text-primary-500":"text-secondary-400"}`}),N.name]},N.id)})})}),i.jsx("div",{className:"lg:col-span-3",children:i.jsxs("div",{className:"card p-6",children:[t==="profile"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Profile Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",className:"input w-full",value:u.fullName,onChange:N=>d({...u,fullName:N.target.value}),placeholder:"Enter your full name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Email Address"}),i.jsx("input",{type:"email",className:"input w-full",value:u.email,disabled:!0,placeholder:"Email cannot be changed"}),i.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Contact support to change your email address"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Bio"}),i.jsx("textarea",{className:"input w-full h-24 resize-none",value:u.bio,onChange:N=>d({...u,bio:N.target.value}),placeholder:"Tell us about yourself"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Timezone"}),i.jsxs("select",{className:"input w-full",value:u.timezone,onChange:N=>d({...u,timezone:N.target.value}),children:[i.jsx("option",{value:"UTC",children:"UTC"}),i.jsx("option",{value:"America/New_York",children:"Eastern Time"}),i.jsx("option",{value:"America/Chicago",children:"Central Time"}),i.jsx("option",{value:"America/Denver",children:"Mountain Time"}),i.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"})]})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:p,disabled:n,className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[n?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{children:"Save Changes"})]})})]}),t==="security"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Change Password"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Current Password"}),i.jsx("input",{type:"password",className:"input w-full",value:h.currentPassword,onChange:N=>f({...h,currentPassword:N.target.value}),placeholder:"Enter current password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"New Password"}),i.jsx("input",{type:"password",className:"input w-full",value:h.newPassword,onChange:N=>f({...h,newPassword:N.target.value}),placeholder:"Enter new password"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Confirm New Password"}),i.jsx("input",{type:"password",className:"input w-full",value:h.confirmPassword,onChange:N=>f({...h,confirmPassword:N.target.value}),placeholder:"Confirm new password"})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:_,disabled:n,className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[n?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{children:"Update Password"})]})})]}),t==="notifications"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"Notification Preferences"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"Email Notifications"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Receive general notifications via email"})]}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:x.emailNotifications,onChange:N=>g({...x,emailNotifications:N.target.checked})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"Exam Reminders"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Get reminded about upcoming exams"})]}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:x.examReminders,onChange:N=>g({...x,examReminders:N.target.checked})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"Result Notifications"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Be notified when exam results are available"})]}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:x.resultNotifications,onChange:N=>g({...x,resultNotifications:N.target.checked})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"System Updates"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Receive notifications about system updates"})]}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:x.systemUpdates,onChange:N=>g({...x,systemUpdates:N.target.checked})})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:k,disabled:n,className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[n?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{children:"Save Preferences"})]})})]}),t==="system"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-secondary-900 mb-4",children:"System Defaults"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Default Time Limit (minutes)"}),i.jsx("input",{type:"number",className:"input w-full",value:v.defaultTimeLimit,onChange:N=>w({...v,defaultTimeLimit:parseInt(N.target.value)||60}),min:"1"}),i.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Default time limit for new exams"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Auto-save Interval (seconds)"}),i.jsx("input",{type:"number",className:"input w-full",value:v.autoSaveInterval,onChange:N=>w({...v,autoSaveInterval:parseInt(N.target.value)||30}),min:"10"}),i.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"How often to auto-save exam progress"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-secondary-700 mb-1",children:"Maximum Attempts"}),i.jsx("input",{type:"number",className:"input w-full",value:v.maxAttempts,onChange:N=>w({...v,maxAttempts:parseInt(N.target.value)||1}),min:"1"}),i.jsx("p",{className:"text-xs text-secondary-500 mt-1",children:"Default maximum attempts per exam"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-secondary-700",children:"Show Results Immediately"}),i.jsx("p",{className:"text-xs text-secondary-500",children:"Default setting for showing results after exam completion"})]}),i.jsx("input",{type:"checkbox",className:"rounded border-secondary-300 text-primary-600 focus:ring-primary-500",checked:v.showResultsImmediately,onChange:N=>w({...v,showResultsImmediately:N.target.checked})})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:C,disabled:n,className:"btn-primary px-4 py-2 flex items-center space-x-2",children:[n?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(zn,{className:"h-4 w-4"}),i.jsx("span",{children:"Save Settings"})]})})]})]})})]})]})}function Ng(){return i.jsx(Bv,{children:i.jsx("div",{className:"min-h-screen bg-secondary-50",children:i.jsxs(vu,{children:[i.jsx(Oe,{path:"/login",element:i.jsx(ig,{})}),i.jsx(Oe,{path:"/exam/:examId/take",element:i.jsx(fg,{})}),i.jsx(Oe,{path:"/exam/:examId/result",element:i.jsx(mg,{})}),i.jsx(Oe,{path:"/*",element:i.jsx(qv,{children:i.jsx(sg,{children:i.jsxs(vu,{children:[i.jsx(Oe,{path:"/",element:i.jsx(Jo,{to:"/dashboard",replace:!0})}),i.jsx(Oe,{path:"/dashboard",element:i.jsx(lg,{})}),i.jsx(Oe,{path:"/available-exams",element:i.jsx(cg,{})}),i.jsx(Oe,{path:"/exam-history",element:i.jsx(pg,{})}),i.jsx(Oe,{path:"/exams/create",element:i.jsx(Bu,{})}),i.jsx(Oe,{path:"/exams/:examId/edit",element:i.jsx(Bu,{})}),i.jsx(Oe,{path:"/exams/:examId/results",element:i.jsx(yg,{})}),i.jsx(Oe,{path:"/questions",element:i.jsx(gg,{})}),i.jsx(Oe,{path:"/users",element:i.jsx(jg,{})}),i.jsx(Oe,{path:"/settings",element:i.jsx(_g,{})})]})})})})]})})})}Ha.createRoot(document.getElementById("root")).render(i.jsx(Zu.StrictMode,{children:i.jsx(w0,{children:i.jsx(Ng,{})})}));
